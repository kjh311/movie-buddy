/* Auto generated, hash = 7g7r9537t5nmg63hrjoxgn5za */
define("jsConfig",[],function(){return LIModules.requires("jsConfig")}),define("i18n",[],function(){return LIModules.requires("i18n")}),define("t8",[],function(){return LIModules.requires("t8")}),define("trackClient",[],function(){return LIModules.imports("liTrackClient")}),define("app/services/tracking",["exports","underscore","jquery","radio","trackClient"],function(e,t,i,n,o){"use strict";function a(e){switch(e){case"impression":return"UnifiedImpressionEvent";case"articleImpression":return"ArticleViewEvent";case"moduleImpression":return"ViewModuleImpressionEvent";case"controlAction":return"ControlInteractionEvent";case"pageView":return"PageViewEvent";case"externalPageView":return"ExternalTrackingPageViewEvent";case"action":return"UnifiedActionEvent";case"jsBeacon":return"jsBeacon";case"premiumInsightsTypeaheadAction":return"PremiumInsightsTypeaheadActionEvent";default:return e}}function s(e,t,i){var n=i.pageKey,o=i.requestHeader?i.requestHeader:{pageKey:n},s=i.header?i.header:{service:"jobs-frontend"},r=a(e),l={eventName:r,appId:"job"},d=g.extend({},{header:s,requestHeader:o},t);return g.extend({},{eventInfo:l},{eventBody:d})}function r(e,t){var i=void 0===arguments[2]?{}:arguments[2],n=i.pageKey?i.pageKey:l(),o=null;if("moduleImpression"===e){var a=g.difference(t,y);if(a.length<1)return;a.forEach(function(e){return y.push(e)}),o={moduleNames:a}}else if("controlAction"===e){var r=""+n+"-"+t.id,d=t.action,c=t.id;o={controlUrn:r,interactionType:d,trackingCode:c}}else o="pageView"===e?g.extend({},t,{pageType:"ajax"}):t;var u=g.extend({},{pageKey:n},i),p=s(e,o,u);b.track(p)}function l(){return f('meta[name="pageKey"]').attr("content")}function d(e){f('meta[name="pageKey"]').remove(),f("head").append('<meta name="pageKey" content="'+e+'">')}function c(e,t){return e.startsWith("d_")?t="d_"+t:e.startsWith("p_")?t="p_"+t:e.startsWith("t_")&&(t="t_"+t),e.endsWith("_member")?t=""+t+"_member":e.endsWith("_guest")?t=""+t+"_guest":e.endsWith("_subscriber")&&(t=""+t+"_subscriber"),t}function u(e,t,i){v.channel("app:track").command("track",{type:e,payload:t,options:i})}function p(e,t,i){b.maxQueueSize=e,b.queueTimeout=t,i&&(b.globalTrackingUrl=i),v.channel("app:track").comply("track",function(e){var t=e.type,i=e.payload,n=e.options;r(t,i,n)})}function h(){return y.length>0&&(y=[]),[].concat(y)}var m=function(e){return e&&e.__esModule?e["default"]:e};e.getCurrentPageKey=l,e.setCurrentPageKey=d,e.inferPageKey=c,e.emitTrackingEvent=u,e.trackService=p,e.clearTrackingModuleCache=h,Object.defineProperty(e,"__esModule",{value:!0});var g=m(t),f=m(i),v=m(n),b=m(o),y=[]}),define("app/services/ds",["exports","module","underscore","jquery","app/services/tracking","app/router"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=s(i),c=s(n),u={OPENED:"OPENED",FLUSHED:"FLUSHED",REJECTED:"REJECTED"},p=new RegExp("([()/])","g"),h=function(){function e(t,i){r(this,e),this.name=t,this.data=i?i:null,this.status=u.OPENED,this.deferred=c.Deferred()}return l(e,[{key:"reject",value:function(){return this.data?void 0:this.setStatus(u.REJECTED)}},{key:"flushed",value:function(){var e=this;return this.populate().then(function(t){return e.setStatus(u.FLUSHED,t)})}},{key:"setStatus",value:function(e){if(this.status===u.OPENED)if(this.status=e,this.status===u.REJECTED){var t=new Error("No data for module "+this.name);this.deferred.reject(t)}else this.status===u.FLUSHED&&this.data&&this.deferred.resolve(this.data);return this.status}},{key:"set",value:function(e,t){return this.data=e,this.setStatus(u.FLUSHED),t&&(this.deferred=c.Deferred(),this.deferred.resolve(this.data)),this.all()}},{key:"populate",value:function(){if(!this.data)try{var e=play.getEmbeddedContent(""+this.name);return this.set(e)}catch(t){var i="Embedded content for module "+this.name+" does not exist",n=new Error(i);return window.jet.error(n),c.Deferred().reject(n).promise()}return c.Deferred().resolve(this.data).promise()}},{key:"all",value:function(){return this.deferred.promise()}},{key:"get",value:function(e){var t=this,i=this.all();return i.then(function(i){var n=c.Deferred();if(i.hasOwnProperty(e))n.resolve(i[e]);else{var o=new Error("key:"+e+" was not found in module "+t.name);n.reject(o)}return n.promise()})}}]),e}(),m={init:function(e,t){var i=this;this.moduleCache={},this.pageKeyCache={},this._aliases={},this._staticPageKeyMapping={},this._hasFinishedInitializing=!1,this._trkRegex=new RegExp("[?&]trk=([^&#]*)","i");var n=a.getRoutes(t);for(var s in n){var r=s.replace(p,""),l=n[s];this._staticPageKeyMapping[r]=l.basePageKey}var d=o.getCurrentPageKey(),c=""+window.location.pathname+(this._useSearchParams(window.location.pathname)?window.location.search:""),u=this._aliasCheck(c),m=this._pageKeyAliasCheck(c);this.pageKeyCache[m]=d,e&&(this.moduleCache[u]={},e.forEach(function(e){var t=new h(e.name);i.moduleCache[u][e.name]=t})),window.__LI_JOBS_DS__={},window.__LI_JOBS_DS__.flushModule=this.flushModule.bind(this),window.__LI_JOBS_DS__.flushCompleted=this.flushComplete.bind(this);var g=document.createEvent("CustomEvent");g.initCustomEvent("flushReady",!1,!1,null),document.dispatchEvent(g)},_useSearchParams:function(e){var t=["/jobs/search","/jobs/searchMirror","-jobs","view-all","jobs-in"];for(var i in t)if(-1!==e.indexOf(t[i]))return!0;return!1},setAliasesForEndPoint:function(e,t){e=this._aliasCheck(e);var i=d.object(t.map(function(e){return e.replace(p,"")}),t);this._aliases[e]=i},_aliasSanitizer:function(e){var t=e.replace(p,""),i="jobssearch?";if(-1!==t.indexOf(i)){var n=new RegExp("^"+i.replace("?","/?")+".*","g");return t.replace(n,"jobssearch?:query")}return t},_aliasCheck:function(e){if(!this._aliases[e]){var t=this._aliasSanitizer(e);for(var i in this._aliases){var n=this._aliases[i];if(n[t])return i}}return e},_pageKeyAliasCheck:function(e){var t=this._aliasSanitizer(e),i=this._staticPageKeyMapping[t];return i?i:e},_fetchDefaultBasePageKey:function(e){var t=this._staticPageKeyMapping[this._aliasSanitizer(e)];return t?t:(window.jet.error("Unknown default pagekey for "+e+", default to page key = 'jobs_unknown'"),"jobs_unknown")},_cloneCacheNode:function(e,t,i){if(this.moduleCache[t])return!1;var n=c.extend(!0,{},this.moduleCache[e]);this.moduleCache[t]={};for(var o in n){var a=new h(o),s=null;i||n[o].data&&(s=c.extend(!0,{},n[o].data)),a.set(s),this.moduleCache[t][o]=a}return!0},cloneAndUpdate:function(e){var t=this,i=e.targetNode,n=e.newNodeName,o=e.endpoint,a=e.isFullPageRefresh;return this._cloneCacheNode(i,n,a),c.get(o).then(function(e){var i=Object.keys(e).map(function(i){return t.update(n,i,e[i])});return c.when(i).fail(function(e){return debug.log("Data update failed for the modules '"+modules+"'")})})},clearModuleCache:function(e,t){this.moduleCache[e]&&this.moduleCache[e][t]&&delete this.moduleCache[e][t]},populate:function(e,t,i,n){var a=this,s=e;e=this._aliasCheck(e);var r=this.moduleCache[e],l=!n||r[n]&&r[n].data;if(r&&l){var d=this._pageKeyAliasCheck(s),u=this.pageKeyCache[d];if(!u){var p=this._fetchDefaultBasePageKey(s);u=o.inferPageKey(o.getCurrentPageKey(),p)}if(o.setCurrentPageKey(u),this._hasFinishedInitializing){var m=this._trkRegex.exec(window.location.search),g=m?m[1]:"";o.emitTrackingEvent("pageView",{trackingCode:g},{pageKey:u}),o.emitTrackingEvent("externalPageView",{pageViewPageKey:u,pageViewPath:window.location.pathname,samplingFraction:1,initiator:"APP",trackingCode:g,providers:["COMSCORE"]},{pageKey:u})}return this._hasFinishedInitializing=!0,c.Deferred().resolve(this.moduleCache[e].data).promise()}if(t){i=i||e;var f=/(?:[?])(.+)/g.exec(window.location.search),v="asJson=true",b=f?""+f[1]+"&"+v:""+v,y=c.get(""+i+"?"+b);return y.then(function(t,i,s){var r=s.getResponseHeader("pageKey");a.evict(),n?(a.moduleCache[e]=a.moduleCache[e]||{},a.moduleCache[e][n]={}):a.moduleCache[e]={};var l=a._pageKeyAliasCheck(e);a.pageKeyCache[l]=r,o.setCurrentPageKey(r);for(var d in t){var c=new h(d);a.moduleCache[e][d]=c;var u=t[d];c.set(u)}a._hasFinishedInitializing=!0,a.flushComplete()})}var w=this.moduleCache[e];for(var _ in this.moduleCache){var C=w[_];C.populate()}},evict:function(){var e=4,t=Object.keys(this.moduleCache);return t.length>=e&&delete this.moduleCache[t[0]],t=Object.keys(this.pageKeyCache),t.length>=5*e&&delete this.pageKeyCache[t[0]],this.moduleCache},flushModule:function(e){var t=this._aliasCheck(""+window.location.pathname+(this._useSearchParams(window.location.pathname)?window.location.search:"")),i=this.moduleCache[t][e];return i?i.flushed():void 0},flushComplete:function(){var e=[],t=[],i=this._aliasCheck(""+window.location.pathname+(this._useSearchParams(window.location.pathname)?window.location.search:"")),n=this.moduleCache[i];for(var o in n){var a=n[o];"OPENED"===a.status?(a.reject(),e.push(o)):"REJECTED"===a.status?e.push(o):t.push(o)}return{flushed:t,rejected:e}},update:function(e,t,i){e=this._aliasCheck(e);var n=this.moduleCache[e][t];return n.set(i,!0),n.status=u.FLUSHED,n},get:function(e,t){e=this._aliasCheck(e);var i=this.moduleCache[e][t];if(!i||!i.data){var n=new Error("No module found, "+t);return c.Deferred().reject(n).promise()}return i.all()},getProp:function(e,t,i){return this.moduleCache[e][t].get(i)},createBatch:function(e,t){var i=this;return t.map(function(t){var n=t.name,o=t.optional,a=i.get(e,n),s=o?o:!1;return{promise:a,isOptional:s}})},batchReducer:function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];var n=[{}].concat(t),o=d.extend.apply(null,n);return t[0]?o:c.Deferred().resolve(o).promise()},getModules:function(e,t){var i=this.createBatch(e,t),n=this.batchReducer;return i.reduce(function(e,t){return e.then(function(e){var i=t.promise;return t.isOptional?i.then(function(t){return n(e,t)},function(t){return c.Deferred().resolve(n(e)).promise()}):i.then(function(t){return n(e,t)})})},c.Deferred().resolve()).promise()}};t.exports=m}),define("app/utils/debug",["exports","module","radio","underscore","app/services/ds","jsConfig","jquery"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=r(a),p=r(s);t.exports={isDebuggerEnabled:function(){var e=/(debug[=])(true)/i;return e.test(window.location.search)},enableInspector:function(e,t){window.__agent&&this.isDebuggerEnabled()&&window.__agent.start(e,t)},log:function(e){var t=void 0===arguments[1]?"debug":arguments[1],i="";if(this.isDebuggerEnabled()){var n="%c jobs-fe::Marionette >>";switch(t){case"error":i="#c44f4e";break;case"warn":i="#d9cd8d";break;case"debug":i="#339798";break;case"log":i="#87d7b2";break;case"groupHeader":t="group",i="#63C5E8";break;case"groupItem":t="log",i="#63C5E8",n="%c";break;case"table":e=[e],i="#63C5E8";break;default:t="log",i="#339798"}"object"==typeof e?console[t](e):console[t](""+n+" "+e,"color: "+i)}},loggerListener:function(){var e=this;this.isDebuggerEnabled&&(l.debug=!0,l.log=function(t,i,n){e.log("Radio","groupHeader"),e.log("channel: "+t+", event: "+i,"groupItem"),e.log(n,"table"),console.groupEnd()},l.channel("debug").comply("log",function(t){var i=t.type?t.type:"debug";e.log(t.msg,i)}))},logData:function(e){if("string"==typeof e&&(e=[e]),e){var t=e.map(function(e){if(e){var t=c.getModules(window.location.pathname,[e]);return{id:e,promise:t}}}).filter(function(e){return void 0!==e}),i=p.Deferred();return p.when(t).done(function(){var e={};t.forEach(function(t){var i=t.id,n=t.promise;n.always(function(t){e[i]=t,t.error&&t.error instanceof Error&&(e[i]=t.error.toString())})}),i.resolve(e)}),i}},logDataIds:function(){var e=u.get("embeddedContentIds","jobs"),t=d.map(e,function(e,t){return t});return t}}}),define("app/utils/validation/numberFormat",["exports","module"],function(e,t){"use strict";var i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o="[1-9]{1}\\d*",a=function(){function e(t){i(this,e);var n=t.delimiter,o=t.decimalMark,a=t.delimiterPlace,s=t.locales,r=t.name,l=t.decimalPlaces,d=t.delimiterAllowed,c=t.negativeNumbers,u=t.leadingZero;this.name=r,this.delimiter=n,this.decimalMark=o,this.delimiterPlace=a,this.locales=s,this.decimalPlaces=l,this.delimiterAllowed=d,this.negativeNumbers=c,this.leadingZero=u,this.regEx=this.buildRegEx(),this.potentiallyValidRegEx=this.buildPotentiallyValidRegEx()}return n(e,[{key:"isValid",value:function(e){return this.regEx.test(e)}},{key:"isPotentiallyValid",value:function(e){return this.potentiallyValidRegEx.test(e)}},{key:"buildRegEx",value:function(){var e=this.delimiterAllowed,t=this.decimalPlaces,i=this.negativeNumbers,n=this.leadingZero,a=o,s=this.getOptionalDelimiterRegEx();if(e&&(a=""+o+"|"+s),0===t||t){if(t>0){var r="(\\"+this.decimalMark+"\\d{"+t+"})?";a=""+a+"|"+o+r+"|"+r,e&&(a=""+a+"|"+s+r),n&&(a=""+a+"|0"+r)}}else{var r="(\\"+this.decimalMark+"\\d+)?";a=""+a+"|"+o+r+"|"+r,e&&(a=""+a+"|"+s+r),n&&(a=""+a+"|0"+r)}return a="("+a+")",i&&(a="\\-?"+a),new RegExp("^"+a+"$")}},{key:"buildPotentiallyValidRegEx",value:function(){var e=this.delimiter,t=this.decimalMark,i=this.decimalPlaces,n=this.leadingZero,o="[1-9]{1}\\d*";if(this.delimiterAllowed&&(o="[1-9]{1}[\\d\\"+e+"]*"),0!==i&&!i){var a="(\\"+t+"\\d*)";o=""+o+"|"+o+a+"|"+a,n&&(o=""+o+"|0"+a)}if(this.decimalPlaces>0){var a="(\\"+t+"\\d{0,"+i+"})";o=""+o+"|"+o+a+"|"+a,n&&(o=""+o+"|0"+a)}return o="("+o+")",this.negativeNumbers&&(o="\\-?"+o+"(\\"+t+"\\d*)"),new RegExp("^"+o+"$")}},{key:"getOptionalDelimiterRegEx",value:function(){return 1e3===this.delimiterPlace?"[1-9]{1}\\d{0,2}(\\"+this.delimiter+"\\d{3})*":void 0}},{key:"removeFormatting",value:function(e){var t=new RegExp("((&#(39|92|61);)|[^\\d\\"+this.decimalMark+"])","g");return e.replace(t,"")}},{key:"toUnformattedNumberString",value:function(e){var t=this.decimalMark,i=this.removeFormatting(e);return i.replace(new RegExp("\\"+t,"g"),".")}}]),e}();t.exports=a}),define("app/utils/validation/numberFormatData",["exports","app/utils/validation/numberFormat","app/utils/debug","underscore"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();Object.defineProperty(e,"__esModule",{value:!0});var r=o(t),l=o(i),d=o(n),c=function(){function e(){a(this,e),this.formatData=this.generateFormatData(),this.localeNumberFormats=this.generateNumberFormatsByLocale()}return s(e,[{key:"generateFormatData",value:function(){return{commaThousandsDecimal:{name:"commaThousandsDecimal",delimiter:",",decimalMark:".",delimiterPlace:1e3,locales:["ar_AE","en_US","ja_JP","ko_KR","ms_MY","th_TH","tl_PH","zh_CN","zh_TW"]},decimalThousandsComma:{name:"decimalThousandsComma",delimiter:".",decimalMark:",",delimiterPlace:1e3,locales:["da_DK","de_DE","es_ES","it_IT","in_ID","nl_NL","pt_BR","ro_RO","tr_TR"]},spaceThousandsComma:{name:"spaceThousandsComma",delimiter:" ",decimalMark:",",delimiterPlace:1e3,locales:["cs_CZ","fr_FR","no_NO","pl_PL","ru_RU","sv_SE"]}}}},{key:"generateNumberFormatsByLocale",value:function(){var e={},t=this.formatData;for(var i in t)if(t.hasOwnProperty(i)){var n=t[i],o=n.locales;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];e[s]=n,delete e[s].locales}}return e}},{key:"getNumberFormatData",value:function(e){var t=this.localeNumberFormats[e];return t||(t=this.formatData[e]),t?t:(l.log(""+e+" is neither a supported locale or a numberFormat name"),this.formatData.commaThousandsDecimal)}},{key:"getNumberFormat",value:function(e,t){var i=this.getNumberFormatData(e),n=d.extend({},i,t);return new r(n)}}]),e}();e.NumberFormatData=c;var u=null;e["default"]=function(){return u||(u=new c),u}()}),define("app/models/salary/compModel",["exports","module","backbone","app/utils/validation/numberFormatData","app/utils/debug","i18n"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(o),c=s(a),u=void 0,p=void 0,h=new t8.NumberFormatter,m=new t8.CurrencyFormatter,g="NUMBER_ERROR",f="NULL_ERROR",v="ZERO_ERROR",b="POTENTIALLY_VALID";t.exports=r.Model.extend({validationParameters:null,defaults:{type:null,displayName:null,placeholderText:null,definition:null,currencyCode:"USD",locale:"en_US",amount:null,formattedAmount:null,compensationPeriod:"YEARLY",hasNumberError:!1,hasLogicalError:!1,selected:!1,isAdditionalCompType:!0},initialize:function(e,t){this.validationParameters=t.validationParameters,this.set("locale",c.getLocale().value),this.on("change:compensationPeriod",this.onCompPeriodChange),u=l.getNumberFormat(this.get("locale"),{delimiterAllowed:!0,leadingZero:!0}),p=l.getNumberFormat("en_US",{leadingZero:!0})},validateModel:function(){var e={isValid:!0,errors:{}},t=this.get("type");if(this.isAmountValid()||(e.isValid=!1,e.errors.amount={type:t,attribute:"amount",msg:""+t+" amount isn't a number"}),!e.isValid)for(var i in e.errors)if(e.errors.hasOwnProperty(i)){var n=e.errors[i].msg;try{window.jet&&window.jet.error(n)}catch(o){d.log(n)}}return e},isAmountValid:function(){var e=void 0===arguments[0]?this.get("amount"):arguments[0];return p.isValid(e)&&"string"==typeof e?!0:!1},setAmount:function(e){var t=!0,i=g;return p.isValid(e)||(t=!1,p.isPotentiallyValid(e)&&(i=b)),""===e&&(t=!1,i=f),0===Number(e)&&(t=!1,i=v),t?(this.set("hasNumberError",!1),this.set("amount",e),this.checkRangeErrors(),this.syncAmountToFormattedAmount(),null):(this.set("hasNumberError",!0),i)},onCompPeriodChange:function(){this.checkRangeErrors()},syncAmountToFormattedAmount:function(){var e=this.get("amount"),t="en_US",i=null,n=!1;if(Number(e)%1!==0&&(n=!0),n){i=m.format(e,"USD",t);var o=/[^\d\.\, ]/g;i=i.replace(o,"")}else i=h.format(e,t);this.set("formattedAmount",i)},syncFormattedAmountToAmount:function(){var e=this.get("formattedAmount"),t=u.toUnformattedNumberString(e);this.set("amount",t)},checkRangeErrors:function(){var e=void 0===arguments[0]?Number(this.get("amount")):arguments[0],t=this.get("type");if("STOCK_OPTIONS"!==t&&"OTHER"!==t){var i=this.get("compensationPeriod"),n=this.validationParameters[i].high,o=this.validationParameters[i].low;e>n||o>e?this.set("hasLogicalError",!0):this.set("hasLogicalError",!1)}},handleNumberError:function(e){return this.set("hasNumberError",!0),e},toJSON:function(e){var t=r.Model.prototype.toJSON.call(this,e);if(t.monetaryAmount={amount:t.amount,currencyCode:t.currencyCode,formattedAmount:t.formattedAmount},"undefined"==typeof t.monetaryAmount.amount)try{window.jet.error("salary amount is undefined")}catch(i){d.log("salary amount is undefined")}return t}})}),define("app/utils/urlParams",["exports","underscore"],function(e,t){"use strict";function i(e){return l.getParam(e)}function n(){return l.getAll()}var o=function(e){return e&&e.__esModule?e["default"]:e},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();e.getUrlParam=i,e.getUrlParams=n,Object.defineProperty(e,"__esModule",{value:!0});var r=o(t),l=new(function(){var e=function(){a(this,e);var t=location.search.slice(1).split("&"),i=r.map(t,function(e){return e?e.split("="):void 0});this.urlParams=i&&i[0]?r.object(i):{}};return s(e,[{key:"getAll",value:function(){return this.urlParams}},{key:"getParam",value:function(e){return this.urlParams[e]}}]),e}());e["default"]=l}),define("app/models/endpointModel",["exports","module","jquery","app/utils/debug","app/utils/urlParams","jsConfig","backbone"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=r(i),u=r(n),p=r(a),h=r(s),m=new(function(){var e=function(){l(this,e),this.cache={};var t=p.get("embeddedContentIds","salary"),i=this.getEmbeddedContent(t);i&&this.initializeCache(i)};return d(e,[{key:"initializeCache",value:function(e){var t=e.api;for(var i in t)t.hasOwnProperty(i)&&(this.cache[i]=t[i])}},{key:"get",value:function(e){return this.cache[e]}},{key:"set",value:function(e,t){this.cache[e]=t}},{key:"getEmbeddedContent",value:function(e){var t=null;return _.isArray(e)&&e.forEach(function(e){try{t=play.getEmbeddedContent(e)}catch(i){u.log("No content found for #"+e)}}),t}}]),e}()),g=h.Model.extend({defaults:{errorKey:"_error"},fetch:function(){var e=this,t=void 0===arguments[0]?{}:arguments[0],i=c.Deferred(),n=t.success,o=t.error,a=null;a=_.isFunction(this.url)?this.url():this.url,t.url=a;var s=m.get(a);if(s){if(s.hasOwnProperty(this.errorKey))o&&o(this,s,t),i.reject(s);else{var r=this.parse(s);this.set(r),n&&n(this,s,t),i.resolve(this)}return i.promise()}return h.Model.prototype.fetch.call(this,t).then(function(i){t.dontCache&&e.dontCache||m.set(a,i)},function(i){var n=new c.Deferred;return t.dontCache&&e.dontCache||m.set(a,i.responseJSON),t.setError?(e.set(i.responseJSON),n.resolve()):n.reject(),n.promise()})},getUrlParam:o.getUrlParam});t.exports=g}),define("app/utils/validation/currencyData",["exports","module","app/utils/debug"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=n(i),r=new(function(){var e=function(){o(this,e),this.currencyData=this.generateCurrencyData(),this.currencyDataByCountry=this.generateCurrencyDataByCountry(),this.supportedCurrencies=this.getSupportedCurrencies()};return a(e,[{key:"generateCurrencyData",value:function(){return{USD:{countryCodes:["us","as","io","gu","mh","fm","mp","pw","pr","tc","um","vg","vi"],currencyCode:"USD",currencySymbol:"$"},CAD:{countryCodes:["ca"],currencyCode:"CAD",currencySymbol:"CA$"},EUR:{countryCodes:["ad","ax","at","be","bl","cy","ee","fi","fr","de","gr","ie","gf","gp","ie","tf","it","lv","lt","lu","me","mc","mq","mt","nl","pm","pt","re","sk","si","sm","es","va","ws","yt"]},JPY:{countryCodes:["jp"]},GBP:{countryCodes:["gs","gb","uk","im","je","gi","sh"]},INR:{countryCodes:["bt","in"]},AUD:{countryCodes:["au","cx","cc","hm","ki","nr","nf","tv"]},BRL:{countryCodes:["br"]},SGD:{countryCodes:["sg"]},NZD:{countryCodes:["nz","ck","nu","pn","tk"]},ZAR:{countryCodes:["za"]},CHF:{countryCodes:["li","ch"]},NOK:{countryCodes:["bv","no","sj"]},DKK:{countryCodes:["dk","fo","gl"]},SEK:{countryCodes:["se"]},HKD:{countryCodes:["hk"]},CNY:{countryCodes:["cn"]}}}},{key:"generateCurrencyDataByCountry",value:function(){var e=this,t={};for(var i in this.currencyData)this.currencyData.hasOwnProperty(i)&&!function(){var n=i,o=e.currencyData[i],a=o.countryCodes;a.forEach(function(e){t[e]={currencyCode:n}})}();return t}},{key:"getCountryCodes",value:function(e){var t=this.currencyData[e];return t?t.countryCodes:(s.log('No data for "'+e+'", defaulting to USD'),this.currencyData.USD.countryCodes)}},{key:"getCurrencyCode",value:function(e){var t=this.currencyDataByCountry[e];return t?t.currencyCode:(s.log('No data for "'+e+'", defaulting to "us"'),this.currencyDataByCountry.us.currencyCode)}},{key:"getSupportedCurrencies",value:function(e){var t=Object.keys(this.currencyData);return t.sort(e)}}]),e}());t.exports=r}),define("app/models/salary/member",["exports","module","app/models/endpointModel","app/utils/validation/currencyData"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);o(n);t.exports=a.extend({defaults:{currencyCode:"USD"},url:function(){var e=this.getUrlParam("midToken");return play.url({alias:"controllers.salary.SalaryApiController.profile",arg0:e})},parse:function(e){var t=e.member;if(t){if(t.currencyCode=e.currency,t.positions&&t.positions.length>0&&e.standardizedTopPositionLocation){t.positions[0].formattedLocation=e.standardizedTopPositionLocation.displayName,t.positions[0].countryCode=e.standardizedTopPositionLocation.countryCode,t.positions[0].placeCode=e.standardizedTopPositionLocation.placeCode;var i=e.standardizedTopPositionLocation.region.split(":");i&&2===i.length&&(t.positions[0].regionCode=parseInt(i[1],10))}return t}return e},isNotAuthenticated:function(){return this.checkForError(401)},midDoesntMatchedLoggedIn:function(){return this.checkForError(403)},doesPositionMatchMultipleTitles:function(){var e=null;return this.get("positions")&&this.get("positions").length>0&&this.get("positions")[0]?(e=this.get("positions")[0].suggestedStandardizedTitles,e&&e.length>1?!0:!1):!1},checkForError:function(e){var t=!1,i=this.get("_error");return i?(i.status===e&&(t=!0),t):t}})}),define("app/utils/validation/currencyFormat",["exports","module","app/utils/validation/numberFormat"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function u(e,t,i){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:u(o,t,i)}if("value"in n)return n.value;var a=n.get;return void 0===a?void 0:a.call(i)},r=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},l=n(i),d=new t8.CurrencyFormatter,c=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e);var i=e.currencyCode,n=e.currencySymbol,a=e.currencySymbolLoc,r=e.currencySymbolFormatted,l=e.locale;this.currencyCode=i,this.currencySymbol=n,this.currencySymbolLoc=a,this.currencySymbolFormatted=r,this.locale=l}return r(t,e),a(t,[{key:"format",value:function(e){var t=this,i=void 0===arguments[1]?{}:arguments[1],n=i.decimalPlaces,o=i.trailingDecimalMark,a=i.autoLeadZero,s=new RegExp("\\"+this.decimalMark+"(\\d+)"),r=d.format(e,this.currencyCode,this.locale);if(r=r.replace(/\s/g," "),0===this.decimalPlaces)return r;if(!n&&0!==n)return r;if(a&&"."===e)return r=d.format("0",this.currencyCode,this.locale),r.replace(this.sliceOffCurrencySymbol(r),function(){return"0"+t.decimalMark});var l=r.match(s);if(n>=l[1].length)return r;var c="";if(n>0){var u=l[0].length-n;c=l[0].slice(0,u)}else o&&-1!==e.search(/\./g)&&(c=this.decimalMark);return r.replace(l[0],function(){return c})}},{key:"sliceOffCurrencySymbol",value:function(e){return e.replace(this.currencySymbolFormatted,"")}}]),t}(l);t.exports=c}),define("app/utils/validation/currencyFormatData",["exports","app/utils/validation/numberFormatData","app/utils/validation/currencyFormat","underscore","app/utils/debug"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(e,"__esModule",{value:!0});var d=a(i),c=a(n),u=a(o),p=new t8.CurrencyFormatter,h=function(e){function t(){s(this,t),null!=e&&e.apply(this,arguments)}return l(t,e),r(t,[{key:"deriveCurrencyFormatFromT8",value:function(e,t){var i={currencySymbolLoc:"beg",currencyCode:e,decimalPlaces:0,locale:t,currencySymbol:""},n=this.getNumberFormatData(t),o=n.decimalMark,a=n.delimiter,s="3333.333",r=null;try{r=p.format(s,e,t)}catch(l){r=p.format(s,e,"en_US"),u.log("No locale data found for "+t),i.locale="en_US"}Number(r.substring(0,1))&&(i.currencySymbolLoc="end");var d=new RegExp("[^\\d\\"+o+"\\"+a+"\\s]+"),c=r.match(d);c&&(i.currencySymbol=c[0]);var h=i.currencySymbol.replace("$","\\$"),m=new RegExp("\\s?"+h+"\\s?");i.currencySymbolFormatted=r.match(m)[0].replace(/\s/," ");var g=new RegExp("\\"+o+"(\\d+)"),f=r.match(g);return f&&(i.decimalPlaces=f[1].length),i}},{key:"getCurrencyFormat",value:function(e,t,i){var n=this.getNumberFormatData(t),o=this.deriveCurrencyFormatFromT8(e,t),a=c.extend({},n,o,i);return new d(a)}}]),t}(t.NumberFormatData);e.CurrencyFormatData=h;var m=null;e["default"]=function(){return m||(m=new h),m}()}),define("app/models/salary/compensation",["exports","module","i18n","backbone","app/models/salary/compModel","app/models/salary/member","app/utils/urlParams","app/utils/validation/currencyData","app/utils/validation/currencyFormatData"],function(e,t,i,n,o,a,s,r,l){"use strict";var d,c,u=function(e){return e&&e.__esModule?e["default"]:e},p=function(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:null==t||"undefined"==typeof Symbol||t.constructor!==Symbol,configurable:!0,writable:!0})},h=u(i),m=u(n),g=u(o),f=u(a),v=u(r),b=u(l),y="BASE_SALARY",w="SIGN_ON",C="PERFORMANCE",k="STOCK_OPTIONS",x="STOCK_RSU",S="COMMISSION",M="TIPS",T="PROFIT_SHARING",I="OTHER",E=(d={},p(d,y,{YEARLY:{high:1e7,low:0},MONTHLY:{high:1e6,low:0},HOURLY:{high:1e4,low:0}}),p(d,w,{YEARLY:{high:1e6,low:0}}),p(d,C,{YEARLY:{high:1e7,low:0}}),p(d,k,{YEARLY:{high:"",low:""}}),p(d,x,{YEARLY:{high:1e7,low:0}}),p(d,S,{YEARLY:{high:1e7,low:0}}),p(d,M,{YEARLY:{high:4e6,low:0},MONTHLY:{high:3e5,low:0},HOURLY:{high:1e3,low:0}}),p(d,T,{YEARLY:{high:1e7,low:0}}),p(d,I,{YEARLY:{high:"",low:""}}),d);t.exports=m.Model.extend({defaults:{compensations:(c={},p(c,y,new g({type:y,displayName:h.get("baseSalary"),isAdditionalCompType:!1},{validationParameters:E[y]})),p(c,w,new g({type:w,displayName:h.get("signonBonus"),placeholderText:h.get("placeholderSignonBonus"),definition:h.get("signonDef")},{validationParameters:E[w]})),p(c,C,new g({type:C,displayName:h.get("annualBonus"),placeholderText:h.get("placeholderAnnualBonus"),definition:h.get("annualDef")},{validationParameters:E[C]})),p(c,k,new g({type:k,displayName:h.get("stockOptions"),placeholderText:h.get("placeholderStockOptions"),definition:h.get("optionsDef")},{validationParameters:E[k]})),p(c,x,new g({type:x,displayName:h.get("rsu"),placeholderText:h.get("placeholderRsu"),definition:h.get("rsuDef")},{validationParameters:E[x]})),p(c,S,new g({type:S,displayName:h.get("salesCommission"),
placeholderText:h.get("placeholderSalesCommission"),definition:h.get("commissionDef")},{validationParameters:E[S]})),p(c,M,new g({type:M,displayName:h.get("tips"),placeholderText:h.get("placeholderTips"),definition:h.get("tipsDef")},{validationParameters:E[M]})),p(c,T,new g({type:T,displayName:h.get("profitSharing"),placeholderText:h.get("placeholderProfitSharing"),definition:h.get("profitSharingDef")},{validationParameters:E[T]})),p(c,I,new g({type:I,compName:null,displayName:h.get("other"),placeholderText:h.get("placeholderOther"),definition:h.get("otherDef")},{validationParameters:E[I]})),c),indicatedNoAdditionalComp:!1,midToken:null,member:null,currentPage:"base",redirectUrl:null,homepageUrl:null,privacyPolicyUrl:null,aboutUsUrl:null,lixKeys:null,yearsOfExperience:"",yearsOfExperienceOptions:null,currencyCode:"USD",locale:"en_US",currencyFormat:null,supportedCurrencies:v.supportedCurrencies},url:function A(){var A="/salary/api/submitCompensation",e=this.get("midToken");return e&&(A+="?midToken="+e),A},initialize:function(){var e=s.getUrlParam("midToken");this.set("midToken",e),this.set("locale",h.getLocale().value),this.updateCurrencyFormat(),this.set("yearsOfExperienceOptions",this.getYearsOfExperienceOptions()),this.on("change:currencyCode",this.onCurrencyCodeChange)},onCurrencyCodeChange:function(){this.updateAllCompModels("currencyCode",this.get("currencyCode")),this.updateCurrencyFormat(),this.updateAllFormattedAmounts()},updateAllFormattedAmounts:function(){var e=this.get("compensations"),t=this.get("currencyFormat");for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(n.isAmountValid()){var o=t.format(n.get("amount"));n.set("formattedAmount",o);var a=t.toUnformattedNumberString(o);n.set("amount",a)}}},updateCurrencyFormat:function(){var e=b.getCurrencyFormat(this.get("currencyCode"),this.get("locale"));this.set("currencyFormat",e)},updateAllCompModels:function(e,t){var i=this.get("compensations");for(var n in i)i.hasOwnProperty(n)&&i[n].set(e,t)},fetch:function(){var e=this,t=new f;return t.fetch({setError:!0}).then(function(){e.set("member",t.attributes);var i=e.get("member").currencyCode;i!==e.get("currencyCode")&&e.get("lixKeys").isSalaryResponsiveDesktopEnabled&&e.set("currencyCode",i)})},toJSON:function(e){return e&&e.postingToServer?this._formatModelForPostingToServer():this._formatModelForTemplate()},getYearsOfExperienceOptions:function(){for(var e=[],t=20,i=0;t>=i;i++)e.push(String(i));return e},validateYearsOfExperience:function(){return/\d/.test(this.get("yearsOfExperience"))?null:"NUMBER_ERROR"},_formatModelForTemplate:function(){var e=this.get("compensations"),t={},i=[];t.member=_.clone(this.get("member")),t.indicatedNoAdditionalComp=this.get("indicatedNoAdditionalComp"),t.completedAdditionalComp=this.get("completedAdditionalComp"),t.redirectUrl=this.get("redirectUrl"),t.homepageUrl=this.get("homepageUrl"),t.privacyPolicyUrl=this.get("privacyPolicyUrl"),t.aboutUsUrl=this.get("aboutUsUrl"),t.lixKeys=this.get("lixKeys"),t.currentPage=this.get("currentPage"),t.midToken=this.get("midToken"),t.device=this.get("device"),t.yearsOfExperience=this.get("yearsOfExperience"),t.yearsOfExperienceOptions=this.get("yearsOfExperienceOptions"),t.hasInsightsForCurrentPosition=this.get("hasInsightsForCurrentPosition"),t.currentYear=this.get("currentYear"),t.supportedCurrencies=this.get("supportedCurrencies"),t.headingTreatment=this.get("headingTreatment"),t.showBackButton=this.get("showBackButton"),t.prefillTitleTypeahead=this.get("prefillTitleTypeahead");for(var n in e){var o=e[n].toJSON();t[o.type]=o,o.isAdditionalCompType&&i.push(o)}return t.additionalComps=i,t},_formatModelForPostingToServer:function(){var e=this.get("compensations"),t=this.get("member").memberId,i={};if(i.member="urn:li:member:"+t,i.position=this.formatPositionDataForServer(t),this.get("lixKeys").isYearsOfExperienceEnabled&&(i.submissionAttributes=this.formatMemberAttributesForServer(t)),i.basicCompensations=[this.get("compensations")[y].toJSON()],this.get("indicatedNoAdditionalComp")===!0)return i;for(var n in this.get("compensations")){var o=e[n];if(o.get("selected")&&o.get("type")!==y){var a=o.toJSON();switch(a.type){case M:case S:case T:case k:i.basicCompensations.push(a);break;case w:case C:i.bonusCompensations||(i.bonusCompensations=[]),i.bonusCompensations.push(a);break;case x:i.restrictedStockUnitCompensation=a;break;case I:i.otherCompensations||(i.otherCompensations=[]),i.otherCompensations.push(a)}}}return i},formatPositionDataForServer:function(e){var t="com.linkedin.salary.ExistingPosition",i="com.linkedin.salary.NewPosition",n=this.get("member").positions[0],o={},a=n.titleName,s=n.titleId,r=n.companyName,l=n.company,d=n.placeCode,c=n.regionCode,u=n.countryCode,h=n.profilePositionId,m=n.title;return!m&&s&&(m="urn:li:title:"+s),o=p({},t,{position:"urn:li:position:(urn:li:member:"+e+","+h+")"}),n.isStandardizedTitleChanged&&(o[t].title=n.title),h&&d&&(o[t].placeUrn="urn:li:place:(urn:li:country:"+u+","+d+")"),h||(o=p({},i,{title:m,titleId:s,titleName:a,companyName:r,company:l,placeUrn:"urn:li:place:(urn:li:country:"+u+","+d+")",regionCode:c,countryCode:u})),o},formatMemberAttributesForServer:function(e){return{yearsOfExperience:this.get("yearsOfExperience")?parseInt(this.get("yearsOfExperience"),10):null,member:"urn:li:member:"+e}}})}),define("app/models/salary/submissionHistory",["exports","module","app/models/endpointModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({url:function(){var e=this.getUrlParam("midToken");return play.url({alias:"controllers.salary.SalaryApiController.submissionHistory",arg0:e})},hasSubmitted:function a(){var a=!1,e=this.get("submissionHistory");return e&&e.length&&(a=!0),a}})}),define("app/models/salary/insightsAvailable",["exports","module","app/models/endpointModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({url:function(){var e=this.getUrlParam("midToken");return play.url({alias:"controllers.salary.SalaryApiController.insightsAvailable",arg0:e})},areInsightsAvailable:function a(){var a=!0,e=this.get("insightsAvailable"),t=this.get("insightsAvailableForCurrentPosition");return e===!1&&(a=!1),t===!1&&(a=!1),a}})}),define("app/controllers/salary/salaryController",["exports","module","app/models/salary/compensation","app/models/salary/member","app/models/salary/submissionHistory","app/models/salary/insightsAvailable","jquery","jsConfig"],function(e,t,i,n,o,a,s,r){"use strict";var l=function(e){return e&&e.__esModule?e["default"]:e},d=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=l(i),p=l(n),h=l(o),m=l(a),g=l(s),f=l(r),v=function(){function e(t){d(this,e),this._app=t,this.addSVGs(),this.urls=f.get("url","salary"),this.lixKeys=f.get("lixKeys","salary"),this.device=f.get("device","jobs"),this.memberModel=new p,this.insightsAvailableModel=new m,this.submissionHistoryModel=new h,this.compensationModel=new u({redirectUrl:this.redirectUrl,homepageUrl:this.urls.homepage,privacyPolicyUrl:this.urls.privacyPolicy,aboutUsUrl:this.urls.aboutUs,lixKeys:this.lixKeys,currentYear:(new Date).getFullYear()})}return c(e,[{key:"redirectUrl",get:function(){var e="session_redirect=",t=this.urls.uasLogin;if(t&&_.isString(t)){var i=window.encodeURIComponent(window.location.href),n=t.lastIndexOf(e),o=n+e.length;return[t.slice(0,o),i,t.slice(o)].join("")}}},{key:"establishContext",value:function(){for(var e=this,t=arguments.length,i=Array(t),n=0;t>n;n++)i[n]=arguments[n];var o=i[0],a=i[1];"boolean"!=typeof o&&(o=!0);var s={fetchMember:!0,fetchSubmissionHistory:!0,fetchInsightsAvailable:!0,fetchSalaryModel:!0};for(var r in a)a.hasOwnProperty(r)&&(s[r]=a[r]);var l=g.Deferred();return o?this.memberModel.fetch({setError:!0}).then(function(){return s.fetchSubmissionHistory?e.submissionHistoryModel.fetch({setError:!0}):void 0}).then(function(){return s.fetchInsightsAvailable?e.insightsAvailableModel.fetch({setError:!0}):void 0}).then(function(){return s.fetchSalaryModel?e.compensationModel.fetch({setError:!0}):void 0}):(l.resolve(),l.promise())}},{key:"addSVGs",value:function(){g.get(play.assetUrl("images/apps/salary/icons.svg"),function(e){var t=e.documentElement;t.style.display="none",t.style.top="-999px",t.style.left="-999px",t.style.position="fixed",g(g.find("body")).prepend(t)})}}]),e}();t.exports=v}),define("app/services/loader",["exports","module","jquery"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=n(i),r=s(s.find("body")),l="loader-active",d=function(){function e(t){o(this,e),this.loaderRegion=t.getRegion("loaderRegion"),this.region=this.loaderRegion,this._isShowing=!1}return a(e,[{key:"show",value:function(e,t){t?this.region=t:this.region=this.loaderRegion,this.region.show(e),r.addClass(l),this._isShowing=!0}},{key:"hide",value:function(){this.manualShow||this.region.empty(),r.removeClass(l),this._isShowing=!1,this.manualShow=!1}},{key:"showManually",value:function(){this._isShowing=!0,this.manualShow=!0}},{key:"isShowing",value:function(){return this._isShowing}}]),e}(),c=null;t.exports=function(e){return c||(c=new d(e)),c}}),define("app/views/salary/navigationView",["exports","module","marionette","radio","jquery"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=(a(o),r.channel("appEvents"),"enabled"),d=(play.url({alias:"controllers.salary.SalaryController.collection",arg0:""}),play.url({alias:"controllers.salary.SalaryController.collection",arg0:"additional-comp"}),"show"),c=s.ItemView.extend({template:"templates/partial/salary/salary_navigation",className:"salary-navigation",ui:{baseSalaryHeader:".base-salary",additionalCompHeader:".additional-compensation",pageIndicator:"#nav-arrow",breadcrumbBaseMessage:".base-message",breadcrumbAdditionalMessage:".additional-message"},modelEvents:{"change:currentPage":"handlePageChange"},onShow:function(){this.model.on("change:currentPage",this.handlePageChange,this)},handlePageChange:function(e,t){var i=e.get("currentPage");return this.ui.pageIndicator.removeClass().addClass(i),this.ui.additionalCompHeader.removeClass(l),this.ui.baseSalaryHeader.removeClass(l),"base"===i?(this.ui.baseSalaryHeader.addClass(l),this.ui.breadcrumbBaseMessage.addClass(d),void this.ui.breadcrumbAdditionalMessage.removeClass(d)):(this.ui.additionalCompHeader.addClass(l),this.ui.breadcrumbBaseMessage.removeClass(d),void this.ui.breadcrumbAdditionalMessage.addClass(d))}});t.exports=c}),define("app/behaviors/linkTo",["exports","module","marionette","jquery","radio"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=a(o);t.exports=s.Behavior.extend({events:{"click .link-to":"linkToRouteHandler"},linkToRouteHandler:function(e){e.preventDefault();var t=r(e.currentTarget);if(!t.attr("disabled")){var i=t.attr("href");l.channel("router").command("navigate",i)}}})}),define("app/services/scrollListener",["exports","underscore","jquery","radio"],function(e,t,i,n){"use strict";function o(e){var t=f.distanceQueue;if(!(t.length<1)){var i=t[0],n=i.data,o=n.$el?n.$el.offset().top:i.distance;o!==i.distance&&f.reCalculateDistances();var s=i.distance,l=i.data,d=i.evtName;r(s)&&(a(d,l),t.shift())}}function a(e,t){g.channel("app:scroll").command(e,t)}function s(){return m(window).scrollTop()+f.scrollTopOffset}function r(e){var t=m(window).innerHeight(),i=e-s();return t>i}function l(e,t,i){var n=i?i:"distanceReached",o={distance:e,data:t,evtName:n};return r(e)?a(n,t):f.add(o),o}function d(e,t){g.channel("app:scroll").comply(e,t)}function c(e){if(!e.scrollListener){var t=h.throttle(o,25);m(window).on("scroll.scrollService",t)}}function u(e){return f.scrollTopOffset=e,s()}var p=function(e){return e&&e.__esModule?e["default"]:e};e.registerScrollDistance=l,e.listener=d,e.scrollListenerService=c,e.setScrollTopOffset=u,Object.defineProperty(e,"__esModule",{value:!0});var h=p(t),m=p(i),g=p(n),f={scrollTopOffset:0,distanceQueue:[],add:function(e){var t=this.distanceQueue.length-1;this.sortedInsert(e,0,t)},setScrollTopOffset:function(e){this.scrollTopOffset=e},sortedInsert:function(e,t,i){var n=this.distanceQueue,o=Math.floor((i+t)/2);if(t>i)return n.push(e),n;var a=e.distance,s=n[o]?n[o].distance:0;return a>=n[i].distance?n.splice(i+1,0,e):a<=n[t].distance?n.splice(t,0,e):a===s?n.splice(o+1,0,e):s>a?this.sortedInsert(e,t,o-1):this.sortedInsert(e,o+1,i)},reCalculateDistances:function(){if(this.distanceQueue.length<2){var e=this.distanceQueue[0];return void(e.distance=e.data.$el.offset().top)}this.distanceQueue.filter(function(e){return e.data.$el&&e.data.$el.offset().top!==e.distance}).forEach(function(e){return e.distance=e.data.$el.offset().top}),this.distanceQueue.sort(function(e,t){return e.distance-t.distance})}}}),define("app/behaviors/tracking",["exports","module","marionette","jquery","app/services/tracking","app/services/scrollListener"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=Math.random().toString(36).slice(2),c="impression-"+d,u=void 0;t.exports=r.Behavior.extend({onRender:function(){var e=this,t=this.$el,i=this.options.modules,n=this.options.optionalModules;i&&n&&(n.forEach(function(t){e.view.options.model.get(t.checkProp)&&i.push(t.name)}),a.listener(c,function(e){o.emitTrackingEvent("moduleImpression",e.modules)}),a.registerScrollDistance(u,{$el:t,modules:i},c))},ui:{trackLink:"[data-control]"},events:{"click @ui.trackLink":"trackClickHandler","touchend @ui.trackLink":"trackClickHandler"},trackClickHandler:function(e){var t=this.options;if("click"!==e.type||!t.pageTrackingKey||!t.pageTrackingKey.pointerType||"touchend"!==t.pageTrackingKey.pointerType){var i=l(e.currentTarget),n=i.data("control"),a="SHORT_PRESS",s=this.getPageKey(),r={};s&&(r.pageKey=s),o.emitTrackingEvent("controlAction",{id:n,action:a},r)}},onShow:function(){var e=this.$el,t=this.options.modules,i=this.options.optionalModules,n=this.options.pageTrackingKey;if(u=this.view.$el.offset().top,n){var s=this.getPageKey();o.emitTrackingEvent("pageView",{},{pageKey:s})}t&&!i&&(a.listener(c,function(e){o.emitTrackingEvent("moduleImpression",e.modules)}),a.registerScrollDistance(u,{$el:e,modules:t},c))},getPageKey:function(){var e=this.options.pageTrackingKey,t=null;return e&&e["default"]?t=e.page:(e&&!function(){var i=e.base,n=e.page;t=o.getCurrentPageKey().split(i).map(function(e,t){return 1===t?""+i+"_"+n+e:e}).reduce(function(e,t){return e+t})}(),t)}})}),define("app/lib/rum",["exports"],function(e){"use strict";function t(e){function t(e){var t={"default":.001,xmlhttprequest:1};if(p(),M=e,M.enabled=M.enabled||!0,M.enabled)if(M["beacon-url"]=M["beacon-url"]||"/lite/rum-track",M["beacon-service"]=M["beacon-service"]||"lite",M["event-name"]=M["event-name"]||"RealUserMonitoringEvent",M["topic-name"]=M["topic-name"]||"RealUserMonitoringEvent",M["app-id"]=M["app-id"]||"linkedin.rum.tracking",M["is-single-page-app"]=M["is-single-page-app"]||!0,M["cross-origin"]=M["cross-origin"]||!1,M["beacon-timeout"]=void 0===M["beacon-timeout"]?6e4:M["beacon-timeout"],M["request-sampling-rate"]=M["request-sampling-rate"]||.01,M["user-timing-mark-enabled"]=M["user-timing-mark-enabled"]||!1,M["user-timing-measure-enabled"]=M["user-timing-measure-enabled"]||!0,M["beacon-source"]&&"internal-apps"===M["beacon-source"]&&(x=!0,M["page-key-prefix"]=M["page-key-prefix"]||""),M["navigation-timing-only"]=M["navigation-timing-only"]||!1,M["navigation-timing-only"])"complete"==document.readyState?setTimeout(c,500):window.addEventListener("load",function(){setTimeout(c,500)});else{if(!M["rs-sample-rate"])for(var i in M["rs-sample-rate"])M["rs-sample-rate"].hasOwnProperty(i)&&(t[i]=M["rs-sample-rate"][i]);M["rs-sample-rate"]=t,R.resourceTimingSupport===!0&&(R.readResourceTiming(),R.setBufferSize(100),null===window.performance.onresourcetimingbufferfull?window.performance.onresourcetimingbufferfull=R.readResourceTiming:null===window.performance.onwebkitresourcetimingbufferfull&&(window.performance.onwebkitresourcetimingbufferfull=R.readResourceTiming)),window.addEventListener("unload",c),window.addEventListener("scroll",function(){if(!w)try{w=(new Date).getTime(),y=g()}catch(e){}})}}function i(){var e=document.querySelector('meta[name="treeID"]');return e&&e.getAttribute("content")}function n(){var e=document.querySelector('meta[name="pageKey"]');return e?e.getAttribute("content"):document.body.id?document.body.id.substring("pagekey-".length):""}function o(){var e,t=document.querySelector('meta[name="renderingMode"]');return t&&(e=t.getAttribute("data-mode"),"BIGPIPE"===e&&(e="BIG_PIPE")),e}function a(){var e,t,i;if(!k){if(window.performance&&window.performance.timing&&window.performance.navigation){for(f.navigationTimingApi=!0,e=window.performance.timing,S=e.navigationStart,t=0;t<P.length;t++)i=P[t],e[i]&&(f[i]=e[i]);f.redirectCount=window.performance.navigation.redirectCount,f.navigationType=window.performance.navigation.type}else f.navigationTimingApi=!1;k=!0}}function s(){window.performance&&(window.performance.clearMarks&&window.performance.clearMarks(),window.performance.clearMeasures&&window.performance.clearMeasures())}function r(e,t){var i,n,o,a=[];for(n=0;n<e.length;n++)i=e[n],i&&(o={},o.entryType=t,o.name=i.name,o.startTime=i.startTime,o.duration=i.duration,a.push(o));return a}function l(){var e,t=[];window.performance&&"function"==typeof window.performance.getEntriesByType&&(M["user-timing-measure-enabled"]&&(e=window.performance.getEntriesByType("measure"),t=t.concat(r(e,"MEASURE"))),M["user-timing-mark-enabled"]&&(e=window.performance.getEntriesByType("mark"),t=t.concat(r(e,"MARK")))),f.userTimingEntries=t,s()}function d(){var e;if(Object.keys(v).length>0){f.detailedRenderTimingEntries=[];for(var t in v)v.hasOwnProperty(t)&&f.detailedRenderTimingEntries.push(v[t])}if(R.readResourceTiming(),f.resourceTimingEntries)for(e=f.resourceTimingEntries.length-1;e>=0;e--)f.resourceTimingEntries[e].name&&(f.resourceTimingEntries[e].name=f.resourceTimingEntries[e].name.split(/[?#]/)[0]);a(),l()}function c(){var e,t,a,s;if(M.enabled&&(d(),"navigationStart"in f&&A&&(M["beacon-source"]&&(f.timeSource=M["beacon-source"]),s=i(),s&&(f.treeId=s),!f.hasOwnProperty("pageKey")&&C&&(f.pageKey=n()),f.pageKey))){if(f.boomerangStart=S,f.isSinglePageApp=M["is-single-page-app"],f.isSinglePageApp)if(M["web-ui-framework"]&&(f.webUIFramework=M["web-ui-framework"]),f.appRenderMode=o(),C?f.pageLoadMode="INITIAL":f.pageLoadMode="PARTIAL","renderCompleteTime"in f)f.timeDone=g();else if(!M["navigation-timing-only"])return;x&&!document.querySelector('meta[name="pageKey"]')&&(f.pageKey=M["page-key-prefix"]+":"+window.location.pathname);try{"lite"==M["beacon-service"]?(t=JSON.stringify(f),M["cross-origin"]?(a=document.body.appendChild(new Image),a.width=1,a.height=1,a.src=M["beacon-url"]+"?ir=t&dy=t&plist="+encodeURIComponent(t)):(e=new XMLHttpRequest,e.open("POST",M["beacon-url"],!0),e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e.setRequestHeader("X-IsAJAXForm","1"),e.send("plist="+encodeURIComponent(t)))):u(f)}catch(r){}p()}}function u(e){var t,i={eventInfo:{eventName:M["event-name"],topicName:M["topic-name"],appId:M["app-id"]},eventBody:e};i.eventBody.requestHeader={pageKey:e.pageKey},i.eventBody.trackingTime=-1,t=new XMLHttpRequest,t.open("POST",M["beacon-url"],!0),t.setRequestHeader("content-type","application/json"),t.send(JSON.stringify([i]))}function p(){f={},b=[],E=[],v={},y=void 0,w=void 0,_=Math.random(),A=!0,T&&(clearTimeout(T),T=void 0)}function h(e){var t,i,n=document.querySelectorAll("img"),o=[];for(i=n.length-1;i>=0;i--)t=n[i],t&&t.src&&t.src.length>0&&o.push(t);return o}function m(e){var t,i=e.getBoundingClientRect();return t={top:Math.max(i.top,0),left:Math.max(i.left,0),bottom:Math.min(i.bottom,window.innerHeight||doc.documentElement.clientHeight),right:Math.min(i.right,window.innerWidth||doc.documentElement.clientWidth)},!(t.bottom<=t.top||t.right<=t.left)}function g(){var e,t,i,n;if(y)return y;if(a(),y=f.renderCompleteTime-f.navigationStart,E)for(i=E.length-1;i>=0;i--)if(t=E[i])for(n=b.length-1;n>=0;n--)if(e=b[n],t.src===e.name){if(w&&S&&e.startTime>w-S)break;if(t.width*t.height<=1)break;m(t)&&(y=Math.max(y,S+e.responseEnd-f.navigationStart));break}return y}var f,v,b,y,w,_,C=!0,k=!1,x=!1,S=window.HEAD_LOAD_TIMESTAMP||void 0,M={},T=void 0,I=0,E=[],A=!0,P=["loadEventEnd","loadEventStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","responseEnd","responseStart","requestStart","secureConnectionStart","connectEnd","connectStart","domainLookupEnd","domainLookupStart","fetchStart","redirectEnd","redirectStart","unloadEventEnd","unloadEventStart","navigationStart"],R={resourceTimingSupport:window.performance&&"function"==typeof window.performance.getEntriesByType,clearBuffer:function(){R.resourceTimingSupport!==!0||M["navigation-timing-only"]||(window.performance.clearResourceTimings&&"function"==typeof window.performance.clearResourceTimings?window.performance.clearResourceTimings():window.performance.webkitClearResourceTimings&&"function"==typeof window.performance.webkitClearResourceTimings&&window.performance.webkitClearResourceTimings())},setBufferSize:function(e){R.resourceTimingSupport!==!0||M["navigation-timing-only"]||(window.performance.setResourceTimingBufferSize&&"function"==typeof window.performance.setResourceTimingBufferSize?window.performance.setResourceTimingBufferSize(e):window.performance.webkitSetResourceTimingBufferSize&&"function"==typeof window.performance.webkitSetResourceTimingBufferSize&&window.performance.webkitSetResourceTimingBufferSize(e))},resourceTimingFields:{name:!0,entryType:!1,duration:!0,initiatorType:!0,fetchStart:!0,responseEnd:!0,startTime:!0,connectEnd:!0,connectStart:!0,domainLookupEnd:!0,domainLookupStart:!0,redirectEnd:!0,redirectStart:!0,requestStart:!0,responseStart:!0,secureConnectionStart:!0,nextHopProtocol:!0,transferSize:!0,decodedBodySize:!0,encodedBodySize:!0,workerStart:!0},readResourceTiming:function(){var e,t,i,n,o,a,s="rand",r=!1,l=f.resourceTimingEntries||[];if(R.resourceTimingSupport===!0&&!M["navigation-timing-only"]){for(e=window.performance.getEntriesByType("resource"),t=0;t<e.length;t++){n={};for(i in e[t])R.resourceTimingFields[i]===!0&&(n[i]=e[t][i]);"img"===n.initiatorType&&b.push(n),o=Math.random(),a=M["rs-sample-rate"][e[t].initiatorType]||M["rs-sample-rate"]["default"],r=_<=M["request-sampling-rate"],(r||a>=o)&&(l.push(n),n.sampleMode="",r&&(n.sampleMode="requestSampled,"),a>=o&&(n.sampleMode+=s+a.toString()))}R.clearBuffer(),l.length>0&&(f.resourceTimingEntries=l)}}};return t(e),{setPageKey:function(e){f.pageKey=e},addTreeId:function(e,t){var i,n,o;if(n=document.createElement("a"),n.href=t,R.readResourceTiming(),f.resourceTimingEntries)for(i=f.resourceTimingEntries.length-1;i>=0;i--)if(o=document.createElement("a"),o.href=f.resourceTimingEntries[i].name,n.protocol===o.protocol&&n.host===o.host&&n.pathname===o.pathname&&(n.search===o.search||""===n.search)){f.resourceTimingEntries[i].resourceTreeId=e;break}},appTransitionStart:function(){I>0&&(c(),p(),f.navigationStart=(new Date).getTime(),C=!1)},appRenderComplete:function(){I++,f.renderCompleteTime=(new Date).getTime(),E=h(),T||(T=setTimeout(c,M["beacon-timeout"]))},appViewRenderStart:function(e,t){v[e]={renderName:t||e,viewName:t,viewId:e,renderStart:(new Date).getTime()}},appViewRenderComplete:function(e,t){v[e]&&(v[e].renderEnd=(new Date).getTime())},setDeepLinkTrackingId:function(e){A=!1},customMarkNames:{UI_FRAMEWORK_BOOTSTRAP_START:"mark_ui_framework_bootstrap_start",UI_FRAMEWORK_BOOTSTRAP_END:"mark_ui_framework_bootstrap_end",ABOVE_THE_FOLD:"mark_above_the_fold"}}}e.RumTracking=t,Object.defineProperty(e,"__esModule",{value:!0})}),define("app/services/rum",["exports","underscore","radio","app/lib/rum"],function(e,t,i,n){"use strict";function o(e){var t={"web-ui-framework":"MARIONETTE","beacon-timeout":1e4},i=l.extend({},t,e);c=new n.RumTracking(i)}function a(){return c}function s(){if(c){var e=d.channel("rum2Tracking"),t="rum2:init";c.appRenderComplete(),e.command(t)}}var r=function(e){return e&&e.__esModule?e["default"]:e};e.initRumTracking=o,e.getRumObj=a,e.rumRenderComplete=s,Object.defineProperty(e,"__esModule",{value:!0});var l=r(t),d=r(i),c=void 0}),define("app/views/salary/earlyBirdView",["exports","module","marionette","app/behaviors/linkTo","app/behaviors/tracking","app/services/rum"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(o);t.exports=r.ItemView.extend({template:"templates/partial/salary/collection_early_bird",className:"early-bird-landing-container",behaviors:{linkTo:{behaviorClass:l},tracking:{behaviorClass:d,pageTrackingKey:{"default":!0,page:"p_salary_preview",pointerType:"touchend"}}},onShow:function(){a.rumRenderComplete()}})}),define("app/views/salary/earlyBirdThankYouView",["exports","module","marionette","app/behaviors/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.ItemView.extend({template:"templates/partial/salary/early_bird_thank_you",className:"early-bird-insights-container",behaviors:{tracking:{behaviorClass:s,pageTrackingKey:{"default":!0,page:"p_salary_wave1_thank_you"}}}})}),define("app/behaviors/currencyFormatter",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n),r=new t8.CurrencyFormatter;t.exports=a.Behavior.extend({defaults:{locale:"en_US",currency:"USD"},ui:{targetInputs:".formatted-input"},events:{"input @ui.targetInputs":"handleInputValueChanged"},handleInputValueChanged:function(e){var t=s(e.target),i=t.val().replace(/,/g,""),n=r.format(i,this.options.currency,this.options.locale).split(".")[0];if(0===i.length)return this._triggerError(t,null),!1;isNaN(n.charAt(0))&&(n=n.substr(1));var o=n.replace(/,/g,"");return isNaN(o)?(this._triggerError(t,i),!1):(this._triggerSuccess(t,o,n),void t.val(n))},_triggerSuccess:function(e,t,i){this.view.triggerMethod("save:valid:value",{rawValue:t,formattedValue:i,element:e})},_triggerError:function(e,t){this.view.triggerMethod("handle:generic:validation:error",{inputValue:t,element:e})}})}),define("app/views/salary/errorMessageView",["exports","module","marionette","jquery","underscore","radio"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=(s(n),s(o),s(a));t.exports=r.ItemView.extend({template:"templates/partial/salary/error_message",className:"error-message-container",events:{"touchend .error-modal-container":"interceptTouchOnModal","touchstart .dismiss-action":"onDismiss","touchstart .continue-action":"onContinue"},interceptTouchOnModal:function(e){e.stopPropagation()},onDismiss:function(e){var t=this.model.get("backToEditCommand");l.channel("application").command("modal:closeModalOutlet"),t&&l.channel("salary").command(t)},onContinue:function(e){var t=this.model.get("continueCommand");l.channel("application").command("modal:closeModalOutlet"),t&&l.channel("salary").command(t)}})}),define("app/factories/modelFactory",["exports","module","underscore","jquery","jsConfig"],function(e,t,i,n,o){"use strict";function a(e,t){var i=c.get("embeddedContentIds","jobs");return e.map(function(e){var n=i[e],o={name:n};if(t){var a=!0;return d.extend({},o,{optional:a})}return o})}function s(e,t){var i=a(e),n=[].concat(i);if(t){var o=a(t,!0);n=n.concat(o)}return n}function r(e,t,i,n,o){n||(n=null);var a=s(t,n),r={embeddedContentIds:a};return i&&d.extend(r,i),new e({},r).fetch()}var l=function(e){return e&&e.__esModule?e["default"]:e};t.exports=r;var d=l(i),c=(l(n),l(o))}),define("mast/scripts/utils/Keycodes",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE_BREAK:19,CAPS_LOCK:20,ESCAPE:27,ESC:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,LEFT:37,UP_ARROW:38,UP:38,RIGHT_ARROW:39,RIGHT:39,DOWN_ARROW:40,DOWN:40,INSERT:45,DELETE:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT_WINDOW_KEY:91,RIGHT_WINDOW_KEY:92,SELECT_KEY:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL_POINT:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUM_LOCK:144,SCROLL_LOCK:145,SEMI_COLON:186,EQUAL_SIGN:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,GRAVE_ACCENT:192,OPEN_BRACKET:219,BACKSLASH:220,CLOSE_BRACKET:221,SINGLE_QUOTE:222}}),define("app/utils/vendorPrefix",["exports"],function(e){"use strict";function t(){var e=void 0,t=void 0;return"undefined"!=typeof document.hidden?(e="hidden",t="visibilitychange"):"undefined"!=typeof document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),{hidden:e,visibilityChange:t}}function i(){var e=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var i in t)if(void 0!==e.style[i])return t[i]}function n(){return"animationend webkitAnimationEnd oanimationend MSAnimationEnd"}function o(){return"scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove"}e.pageVisibility=t,e.transitionend=i,e.animationend=n,e.scrollEvent=o,Object.defineProperty(e,"__esModule",{value:!0})}),define("app/views/shared/ModalLayoutView",["exports","module","marionette","jquery","underscore","mast/scripts/utils/Keycodes","app/utils/vendorPrefix"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=r(a),p=d("body"),h="click.closeModal touchend.closeModal",m="keyup.closeModal",g=void 0;t.exports=l.LayoutView.extend({template:"templates/partial/app/shared/modal_layout",className:"modal",regions:{headerRegion:"#header-content",contentRegion:"#modal-content"},ui:{modalBodyContent:"#modal-content"},initialize:function(e){this.title=e.title,this.options.customClass&&this.$el.addClass(this.options.customClass)},onRender:function(){var e=this;p.addClass("modal-active").on(m,this.$el,function(t){t.which===u.ESCAPE&&e.closeModalHandler.call(e)}),c.defer(function(){p.one(h,e.closeModalHandler.bind(e)),e.$el.attr("tabindex","0").attr("role","document").focus().addClass("opened").on(h,e.modalBodyContentClickHandler.bind(e))})},onShow:function(){g=this._trapFocus.bind(this),document.addEventListener("focus",g,!0)},onBeforeDestroy:function(){this.$el.parent().removeClass("closing"),d(this.model.get("element")).focus(),document.removeEventListener("focus",g,!0)},onDestroy:function(){p.removeClass("modal-active").off(".closeModal").off(m).off(h),this.triggerMethod("app:region:reset","modalRegion")},closeModalHandler:function(e){var t=this;this.$el.parent().addClass("closing").one(s.transitionend(),function(){t.destroy()})},modalBodyContentClickHandler:function(e){e.stopPropagation();
},_trapFocus:function(e){var t=this.$el.get(0),i=this.ui.modalBodyContent;if("object"==typeof i){var n=i.children().length,o=n>0;o&&!t.contains(e.target)&&(e.stopPropagation(),t.focus())}}})}),define("app/views/shared/ModalHeader",["exports","module","marionette","app/helpers/modalHelper"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);t.exports=a.ItemView.extend({template:"templates/partial/app/shared/modal_header",ui:{closeModalButton:"#close-modal-button"},events:{"click @ui.closeModalButton":"_onCloseHandler"},_onCloseHandler:function(e){e.stopPropagation(),n.closeModal()}})}),define("app/views/shared/AlertLayoutView",["exports","module","marionette","app/helpers/alertHelper","radio","jquery"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(o),d=s(a);t.exports=r.ItemView.extend({template:"templates/partial/app/shared/alert_layout",className:"job-alert",ui:{closeButton:".dismiss",alertOverride:".alert-override",alertManageLink:".over-quota-manage-alerts",messageLink:".message a"},events:{"click @ui.closeButton":"closeButtonHandler","click @ui.alertManageLink":"alertLinkHandler","click @ui.messageLink":"_messageLinkClickHandler"},closeButtonHandler:function(e){e.preventDefault(),e.stopPropagation(),this.destroy(),n.showNextAlert()},getViewHeight:function(){return d(this.ui.alertOverride).length?this.ui.alertOverride.outerHeight():0},alertLinkHandler:function(e){e.preventDefault(),l.channel("alert").command("alert:linkClicked",{linkClass:d(e.target).attr("class")})},_messageLinkClickHandler:function(e){var t=this.model.get("messageLinkCallback");t&&"function"==typeof t&&(e.preventDefault(),e.stopPropagation(),t())},addOffsetTop:function(e){this.$el.toggleClass("offset-top",e)},addOffsetTopSm:function(e){this.$el.toggleClass("offset-top-sm",e)},addOffsetTopMobile:function(e){this.$el.toggleClass("offset-top-mobile",e)}})}),define("app/helpers/alertHelper",["exports","marionette","backbone","radio","underscore","jquery","app/views/shared/AlertLayoutView"],function(e,t,i,n,o,a,s){"use strict";function r(e){function t(){_=new b({model:y[0]}),e.getRegion("alertRegion").show(_),v(window).trigger(M)}function i(){_=null,e.getRegion("alertRegion").reset()}function n(){y.length&&(t(),w=window.setTimeout(function(){i();y.shift();y.length&&(y[0].get("timeout")?(y.shift(),n()):t()),w=null},y[0].get("timeout")))}var o=g.channel(k),a=function(t){var i=v("#header-navigation"),n=v("#mobile-chrome"),o=!i.hasClass("slide-up"),a=e.getRegion("alertRegion").currentView,s=0===v(window).scrollTop();a&&(n.length?a.addOffsetTopMobile(s):(a.addOffsetTopSm(s),a.addOffsetTop(!o))),C=!1},s=function(e){C||requestAnimationFrame(function(){a(e)}),C=!0};v(window).off(M).on(M,s.bind(this)),o.comply(x,function(e){var i=new(m.Model.extend());if(i.set("message",e.message),i.set("type",e.type),i.set("dismiss",e.dismiss),i.set("timeout",e.timeout),i.set("messageLinkText",e.messageLinkText),i.set("messageLink",e.messageLink),i.set("messageLinkCallback",e.messageLinkCallback),i.set("clearBuffer",e.clearBuffer),i.set("linkClass",e.linkClass),f.isEmpty(y))y.push(i),i.get("timeout")?n():t();else if(i.get("clearBuffer")&&y.splice(0,y.length),y.push(i),y[0].get("timeout"))w?y.push(i):n();else if(i.get("timeout")){var o=y.shift();y.push(o),n()}else y.reverse(),t()}),o.comply(S,function(e){if(y.shift(),y.length){var i=y[0];i.get("timeout")?n():t()}})}function l(e){g.channel(k).command(x,{message:e.message,type:e.type,dismiss:e.dismiss,timeout:e.timeout,messageLinkText:e.messageLinkText,messageLink:e.messageLink,messageLinkCallback:e.messageLinkCallback,clearBuffer:e.clearBuffer,linkClass:e.linkClass})}function d(){g.channel(k).command(S)}function c(){return _?_.getViewHeight():0}function u(){return _?!0:!1}function p(e){y.shift(),l(e)}var h=function(e){return e&&e.__esModule?e["default"]:e};e.alertService=r,e.showAlert=l,e.showNextAlert=d,e.getAlertHeight=c,e.isAlertActive=u,e.replaceCurrentAlert=p,Object.defineProperty(e,"__esModule",{value:!0});var m=(h(t),h(i)),g=h(n),f=h(o),v=h(a),b=h(s),y=[],w=void 0,_=void 0,C=!1,k="alert",x="alert:status",S="alert:next",M="scroll.alert"}),define("app/components/spinner",["exports","module"],function(e,t){"use strict";function i(e){return e.jquery?e[0]:e}var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(){n(this,e);var t=document.createDocumentFragment(),i=document.createElement("div");i.classList.add("spinner");var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"use");s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#loader"),s.setAttribute("data-color","blue"),s.setAttribute("data-size","small"),a.appendChild(s),i.appendChild(a),t.appendChild(i),this.spinner=t}return o(e,[{key:"attach",value:function(e){this.detach(e);var t=i(e),n=this.spinner.cloneNode(!0);return t.appendChild(n)}},{key:"detach",value:function(e){var t=i(e),n=t.querySelectorAll(".spinner"),o=n.length?n[n.length-1]:null;return o&&o.parentNode?o.parentNode.removeChild(o):null}}]),e}(),s=void 0;t.exports=function(){return s||(s=new a),s}}),define("app/views/detail/message",["exports","module","marionette","jquery","i18n","app/utils/debug","app/helpers/modalHelper","app/helpers/alertHelper","app/components/spinner","app/behaviors/tracking"],function(e,t,i,n,o,a,s,r,l,d){"use strict";var c=function(e){return e&&e.__esModule?e["default"]:e},u=c(i),p=c(n),h=c(o),m=(c(a),c(l)),g=c(d),f=m(),v="error";t.exports=u.ItemView.extend({template:"templates/partial/app/detail/message",className:"message-container",behaviors:{trackingBehavior:{behaviorClass:g,pageTrackingKey:{base:"jobs_job_detail",page:"msg"}}},ui:{cancelButton:".cancel-btn",sendButton:".send-btn",form:"form",feedbackField:".feedback-sec",messageLabel:"#message-label",messageField:".message-field"},events:{"click @ui.cancelButton":"_cancelButtonHandler","submit @ui.form":"_formSubmitHandler"},_cancelButtonHandler:function(e){e.preventDefault(),s.closeModal()},_formSubmitHandler:function(e){var t=this;if(e.preventDefault(),this.ui.feedbackField.hasClass(v)&&this.ui.feedbackField.empty,!this._validate())return this.ui.messageField.addClass(v).attr("placeholder",""),this.ui.messageLabel.focus(),void this._showFeedbackMessage(h.get("messagingMissingError"),!0);this.ui.sendButton.focus(),f.attach(this.$el);var i=p(this.ui.form).serialize();this.model.sendMessage(i,function(e){t._onMessageSent(e)},function(e){t._onMessageSentError(e)})},_onMessageSent:function(e){f.detach(this.$el);var t=this.model.get("person");"Message sent to "+t.decoratedProfile.firstName;r.showAlert({message:h.get("messagingSuccess"),type:"success",dismiss:!0,timeout:!1}),s.closeModal()},_onMessageSentError:function(e){f.detach(this.$el),this._showFeedbackMessage(h.get("tryAgainErrorMessage"),!0),this.ui.messageField.focus()},_showFeedbackMessage:function(e,t){var i=p(this.ui.feedbackField).text(e);t?i.addClass(v):i.removeClass(v)},_validate:function(){var e=p.trim(this.ui.messageField.val());return""!==e}})}),define("app/utils/lazyLoad",["exports","module","jquery","underscore","radio","app/services/scrollListener","jSecure"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=(r(n),r(o)),c=r(s),u="lazy-load-loaded",p="app:scroll";t.exports={_loadImage:function(e){var t=e.data("urn")||null,i=e.data("src")||e.data("delayed-url")||null,n=e.data("width")||100,o=e.data("height")||100,a=e.data("without-padding")||!0,s=e.data("media-id"),r=void 0;t&&(s=play.getMediaIdFromUrn(t)),s&&(r=play.mprUrl(s,n,o,a)),i&&(r=i),r&&(e.removeAttr("data-urn").removeAttr("data-media-id").removeAttr("data-src"),e.attr("src",r).on("load",function(){e.addClass(u)}))},attach:function(e,t,i,n){var o=this,s=l(e),r=s.offset().top,u=i||0,h=d.channel(p);h.comply("lazy-load:"+t,function(e){n?o._loadImage(e.$individualImage):s.find("img").each(function(e,t){var i=l(c.parseSelector(t));o._loadImage(i)})}),n?s.find("img").each(function(e,i){var n=l(c.parseSelector(i)),o=n.offset().top;a.registerScrollDistance(o,{$individualImage:n},"lazy-load:"+t)}):a.registerScrollDistance(r+u,{$el:s},"lazy-load:"+t)},attachComponent:function(e,t,i,n){var o=l(e),s=o.offset().top,r=i||0,c=d.channel(p);c.comply("lazy-load:"+t,function(){n()}),a.registerScrollDistance(s+r,{$el:o},"lazy-load:"+t)}}}),define("app/views/detail/messageHeader",["exports","module","marionette","underscore","app/views/shared/ModalHeader","app/utils/lazyLoad"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=(s(i),s(n)),l=s(o),d=s(a);t.exports=l.extend({template:"templates/partial/app/detail/message_header",ui:{closeModalButton:"#close-modal-button",profileImage:".profile-img",profileImageContainer:".profile-img-container"},onRender:function(){var e=this;"string"!=typeof this.ui.profileImage&&(this.ui.profileImage.one("load",function(t){e._onProfileImageLoaded(t)}),0==this.ui.profileImageContainer.find("img").length&&r.defer(function(){e._onProfileImageLoaded()})),d.attach(this.$el,"messageModal")},_onProfileImageLoaded:function(e){this.ui.profileImageContainer.addClass("loaded")}})}),define("app/models/embeddedContentModel",["exports","module","backbone","jquery","app/services/ds","app/utils/debug","radio"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=(r(n),r(o)),c=r(a),u=r(s),p="/";t.exports=l.Model.extend({url:"",useSearchParamsInUrl:!1,embeddedContentIds:[],initialize:function(e,t){e=e?e:{};var i=t&&t.embeddedContentIds;this.embeddedContentIds=i?t.embeddedContentIds:this.embeddedContentIds,this.url=this.embeddedContentIds.length>0&&!e.url?p:e.url},fetch:function(e){return this.url===p?this.getEmbeddedContent():l.Model.prototype.fetch.call(this,e)},fetchAndUpdateModules:function(e){var t=e.endpoint,i=e.newUrl,n=e.isFullPageRefresh,o=e.urlAlreadySanitized,a=e.useSearchUrlParams,s=""+window.location.pathname+(a?window.location.search:""),r=i;return d.cloneAndUpdate({targetNode:s,newNodeName:r,endpoint:t,isFullPageRefresh:n}).then(function(e){return u.channel("router").command("navigate",{url:r,alreadySanitized:o})})},getEmbeddedContent:function(){var e=this,t=""+window.location.pathname+(this.useSearchParamsInUrl?window.location.search:"");return d.getModules(t,this.embeddedContentIds).then(function(t){return e.set(t)}).fail(function(t){var i=e.embeddedContentIds.map(function(e){return e.name});c.log("Cannot get embedded content for '"+i+"'")})}})}),define("app/models/message",["exports","module","backbone","app/models/embeddedContentModel"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=(o(i),o(n));t.exports=a.extend({defaults:{person:null,job:null,subject:"",message:""},initialize:function(e,t){this.set({person:e.person,job:e.job}),this.bind("change",this._onModelChange),this.trigger("change"),a.prototype.initialize.call(this,e,t)},_onModelChange:function(){var e=this.get("job"),t=this.get("person");if(e&&t){var i=(e.decoratedJobPosting.jobPosting.companyName,e.decoratedJobPosting.jobPosting.title,""),n="";this.set({subject:i,message:n})}},sendMessage:function(e,t,i){var n=this.get("job"),o=n.decoratedJobPosting.jobPosting.id;this.url=play.url({alias:"controllers.ViewJobController.sendMessage",arg0:"consumer",arg1:o,withCsrf:!0});var a={data:e,success:t,error:i};this.save(null,a)},onEmbeddedContent:function(e){var t=e;this.set({job:t})}})}),define("app/helpers/modalHelper",["exports","marionette","backbone","radio","app/factories/modelFactory","app/views/shared/ModalLayoutView","app/views/shared/ModalHeader","app/views/detail/message","app/views/detail/messageHeader","app/models/message"],function(e,t,i,n,o,a,s,r,l,d){"use strict";function c(e){var t=f.channel(k);if(t._commands&&t._commands[x])return void f.channel("debug").command("log",{msg:"modalService is already connected. Ignoring call.",type:"error"});var i=new(g.Model.extend()),n=new b({model:i}),o=!0;t.comply(x,function(t){t.replaceContent?(i.set("title",t.title),i.set("element",t.element)):(i=new(g.Model.extend())({title:t.title,element:t.element}),n=new b({model:i,customClass:t.customClass}),o=!0),o&&(e.getRegion("modalRegion").show(n),o=!1),t.outletView&&n.getRegion("contentRegion").show(t.outletView,{preventDestroy:!0});var a=t.header;if(!t.header){var s=new(g.Model.extend())({title:t.title});a=new y({model:s})}n.getRegion("headerRegion").show(a)}),t.comply(S,function(){n.closeModalHandler()})}function u(e){f.channel(k).command(x,{title:e.title,outletView:e.view,replaceContent:e.replaceContent?e.replaceContent:!1,customClass:e.customClass?e.customClass:null,header:e.header?e.header:null,element:e.element})}function p(e){v(C,["decoratedJob"]).done(function(t){t.set({job:{decoratedJobPosting:t.get("decoratedJobPosting")},person:e.to.toJSON(),title:e.title}),e.customClass="messaging secondary",e.view=new w({model:t}),e.header=new _({model:t}),u(e)})}function h(e){f.channel(k).command(S,{})}var m=function(e){return e&&e.__esModule?e["default"]:e};e.modalService=c,e.showViewInModal=u,e.showMessagingModal=p,e.closeModal=h,Object.defineProperty(e,"__esModule",{value:!0});var g=(m(t),m(i)),f=m(n),v=m(o),b=m(a),y=m(s),w=m(r),_=m(l),C=m(d),k="application",x="modal:showViewInModalOutlet",S="modal:closeModalOutlet"}),define("app/views/salary/learnMoreView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/salary/learn_more",className:"learn-more-container"})}),define("app/views/salary/baseSalaryView",["exports","module","marionette","backbone","jquery","underscore","radio","app/behaviors/tracking","app/behaviors/linkTo","app/behaviors/currencyFormatter","app/views/salary/errorMessageView","app/helpers/modalHelper","app/views/salary/learnMoreView","app/models/salary/compensation","app/services/rum"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m){"use strict";var g=function(e){return e&&e.__esModule?e["default"]:e},f=g(i),v=g(n),b=g(o),y=(g(a),g(s)),w=g(r),_=g(l),C=(g(d),g(c)),k=g(p),x=(g(h),"disabled"),S="BASE_SALARY",M="technical",T="logical",I="empty",E="error-modal",A=y.channel("salary"),P="overrideTypeTwo",R="backToEdit",j="learn-more-modal",V="/salary/collection/additional-comp",L="/salary/collection/edit-title",B="YEARLY";t.exports=f.ItemView.extend({template:"templates/partial/salary/base_salary",className:"base-salary-container top-level-container",ui:{action:".next-action",baseInput:".base-input",timeRange:".time-range-select",submitAction:".next-action",learnMoreAction:".learn-more-action",editTitleBtn:".edit-job-btn"},events:{"touchend @ui.submitAction":"handleSubmit","touchend @ui.editTitleBtn":"showEditJobTitleFlow","change @ui.timeRange":"onTimeRangedSelectChanged","touchend @ui.learnMoreAction":"onLearnMoreClicked","input @ui.baseInput":"handleInputsChanged","input @ui.timeRange":"handleInputsChanged"},behaviors:{linkTo:{behaviorClass:_},tracking:{behaviorClass:w,pageTrackingKey:{"default":!0,page:"p_salary_base",pointerType:"touchend"}}},initialize:function(){var e=this;this.baseSalaryModel=this.model.get("compensations")[S],A.comply(R,function(t){e.ui.baseInput.focus()}),A.comply(P,function(t){var i=e.baseSalaryModel.get("midToken");e.baseSalaryModel.set("hasLogicalError",!1),y.channel("router").command("navigate",""+V+"?midToken="+i)})},onRender:function(e){this.$el.addClass("show")},onShow:function(){m.rumRenderComplete()},handleInputsChanged:function(e){var t=b(e.target),i=!0,n=this.ui.baseInput.val().replace(/,/g,"");t.is("#time-range-select")&&(B=this.ui.timeRange.find("option:selected").val(),this.baseSalaryModel.set("compensationPeriod",B),"HOURLY"===B?this.ui.baseInput.attr("type","text"):this.ui.baseInput.attr("type","tel"),i=!1);var o=this.baseSalaryModel.setAmount(n);o?this.handleValidationFail(o):this.handleValidationSuccess(i,B)},handleValidationFail:function(e){"POTENTIALLY_VALID"!==e&&(this.ui.submitAction.hasClass(x)||this.ui.submitAction.addClass(x),this.ui.baseInput.hasClass(x)||this.ui.baseInput.addClass(x))},handleValidationSuccess:function(e,t){if(this.ui.submitAction.removeClass(x),this.ui.baseInput.removeClass(x),e){var i=this.baseSalaryModel.get("formattedAmount");this.ui.baseInput.val(i)}},onLearnMoreClicked:function(e){return u.showViewInModal({title:"",view:new k,customClass:j}),b(b.find(".learn-more-modal-heading")).focus(),!1},handleSubmit:function(e){if(!this.baseSalaryModel.get("amount"))return this._showErrorModal(I),!1;if(this.baseSalaryModel.get("hasNumberError"))return this._showErrorModal(M),!1;if(this.baseSalaryModel.get("hasLogicalError"))return this._showErrorModal(T),!1;var t=this.model.get("midToken");return this.baseSalaryModel.set("selected",!0),y.channel("router").command("navigate",""+V+"?midToken="+t),!1},showEditJobTitleFlow:function(e){var t=this.model.get("midToken");return y.channel("router").command("navigate",""+L+"?midToken="+t),!1},_showErrorModal:function(e){u.showViewInModal({title:"",view:new C({model:new(v.Model.extend())({errorType:e,continueCommand:e===T?"overrideTypeTwo":null,backToEditCommand:R})}),customClass:E}),b(b.find(".error-message-text")).focus()}})}),define("app/views/salary/helpCenterView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/salary/help_center",className:"help-center-container",ui:{topmostContainer:".help-center-section",helpTopicList:".help-center-topics",helpCenterHeader:".help-center-header"},events:{"click @ui.topmostContainer":"handleModalBodySelected","touchend @ui.topmostContainer":"handleModalBodySelected"},onShow:function(){this.ui.helpCenterHeader.focus()},handleModalBodySelected:function(e){e.stopPropagation()}})}),define("app/models/salary/loader",["exports","module","backbone"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.Model.extend()}),define("app/views/shared/loaderView",["exports","module","marionette","jquery","app/models/salary/loader"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=a(o);t.exports=s.ItemView.extend({id:"loader-container",template:"templates/partial/app/shared/loader",initialize:function(e){this.model=new l,e.message&&this.model.set("message",e.message)},onShow:function(){r(this.$el.find(".loader-text")).focus()}})}),define("app/views/salary/additionalCompensationChooserView",["exports","module","marionette","backbone","underscore","jquery","radio","app/behaviors/tracking","app/services/tracking","app/behaviors/linkTo","app/behaviors/currencyFormatter","app/views/salary/helpCenterView","app/views/salary/errorMessageView","app/helpers/modalHelper","jSecure","app/utils/debug","app/services/loader","app/views/shared/loaderView","i18n"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g,f,v,b){"use strict";var y=function(e){return e&&e.__esModule?e["default"]:e},w=y(i),_=y(n),C=y(o),k=y(a),x=y(s),S=y(r),M=y(d),T=(y(c),y(u)),I=y(p),E=y(m),A=y(g),P=y(f),R=y(v),j=y(b),V="/salary/insights",L="additional-comp-item",B="chosen",D="chose",F="show",N="hide",O="disabled",H="help-center-modal",J="add-action",U="comp-input",z="overrideTypeTwo",q="backToEdit",$="error-modal",K="technical",W="post",G="logical",Y=x.channel("salary"),Q="p_salary_additional_entry",X=!1,Z=null,ee=null,te=!1,ie=!1;t.exports=w.ItemView.extend({template:"templates/partial/salary/additional_compensation",className:"additional-compensation-container top-level-container",ui:{pageHeading:".additional-comp-heading-primary",topTextSection:".explanatory-text-section",compList:".additional-comp-list",compItem:"."+L,compItemWithSubitems:".additional-comp-item-with-subitems",addAction:".add-action",backAction:".back-action",nextAction:".next-action",whatAreTheseContainer:".what-are-these-container",helpContainer:".help-icon-container",timeRangeSelects:".time-range-select",compInputs:".formatted-input",noAdditionalCompCheckbox:"#no-additional-comp-checkbox",topLevelActionsContainer:".top-level-actions-container"},events:{"touchmove @ui.compItem":"handleScroll","touchend  @ui.compItem":"handleCompensationSelected","touchend  @ui.compItemWithSubitems":"handleDropdownClicked","touchend  @ui.addAction":"handleCompAddAction","touchend  @ui.backAction":"handleCompBackAction","touchend  @ui.whatAreTheseContainer":"handleHelpClicked","touchend  @ui.helpContainer":"handleHelpClicked","touchend  @ui.nextAction":"handleNextClicked","input     @ui.timeRangeSelects":"handleInputsChanged","input     @ui.compInputs":"handleInputsChanged","change    @ui.noAdditionalCompCheckbox":"handleCheckboxClicked"},behaviors:{linkTo:{behaviorClass:M},tracking:{behaviorClass:S,pageTrackingKey:{"default":!0,page:"p_salary_additional_select"}}},initialize:function(){var e=this;this.compensations=this.model.get("compensations"),Y.comply(q,function(){Z&&Z.find(".heading-container").focus()}),Y.comply(z,function(t){e._checkIfHasComps()?e.ui.nextAction.prop("disabled",!1):e.ui.nextAction.prop("disabled",!0),e._resetCompItems(),e._addCompFinishedIndicator(),Z=null})},onShow:function(){this.ui.pageHeading.focus()},handleScroll:function(e){te||(te=!0)},onRender:function(){(Z||X)&&(Z=null,X=!1),this._checkIfHasComps()||this.model.get("indicatedNoAdditionalComp")?this.ui.nextAction.prop("disabled",!1):this.ui.nextAction.prop("disabled",!0)},handleInputsChanged:function(e){var t=k(e.target),i=this.compensations[ee],n=!0,o=Z.find(".formatted-input"),a=o.val().replace(/,/g,"");if(t.is(".time-range-select")){var s=t.find("option:selected").val();i.set("compensationPeriod",s),"HOURLY"===s?o.attr("type","text"):o.attr("type","tel"),n=!1}var r=i.setAmount(a);r?this.handleValidationFail(i,r):this.handleValidationSuccess(i,n)},handleValidationSuccess:function(e,t){var i=Z.find("."+U),n=Z.find("."+J);Z&&(this.compensations[ee].set("selected",!0),i.removeClass(O),n.removeClass(O),t&&i.val(e.get("formattedAmount")))},handleValidationFail:function(e,t){var i=Z.find("."+U),n=Z.find("."+J);if(Z){if(e.set("selected",!1),"NULL_ERROR"===t||"ZERO_ERROR"===t)return e.set({amount:null,formattedAmount:null,hasNumberError:!1,hasLogicalError:!1}),n.removeClass(O),void i.removeClass(O);if("POTENTIALLY_VALID"===t)return;n.addClass(O),i.addClass(O)}},handleHelpClicked:function(e){return h.showViewInModal({title:"",view:new T({model:this.model}),customClass:H}),!1},handleDropdownClicked:function(e){var t=k(e.target).closest(".additional-comp-item-with-subitems"),i=t.next(),n=this._whichAnimationEvent();return t.hasClass(F)?(t.addClass(N).removeClass(F),t.attr("aria-expanded","false"),i.find("."+L).first().on(n,function(e){t.removeClass(N)})):(t.addClass(F),t.attr("aria-expanded","true")),!1},handleCompensationSelected:function(e){if(e.stopPropagation(),Z||te||ie)return void(te=!1);this.el.scrollTop=0,l.emitTrackingEvent("pageView",{},{pageKey:Q});var t=Z=k(e.target).closest("."+L),i=t.data("compType");ee=i;var n=t.position().top;return this.ui.pageHeading.removeClass(F),this.ui.topTextSection.find('[data-comp-type="'+i+'"]').addClass(F).focus(),this.ui.whatAreTheseContainer.removeClass(F),t.removeClass("unfocused-item"),this.ui.compList.attr("id",D),this.ui.topLevelActionsContainer.css({display:"none"}),t.attr("id",B),C.defer(function(){t.css({transform:"translate3d(0, -"+n+"px, 0)","-webkit-transform":"translate3d(0, -"+n+"px, 0)"})}),t.find(".comp-type-heading").focus(),!1},handleCompAddAction:function(e){if(e.stopPropagation(),Z){var t=this.compensations[ee];if(Z.find(".comp-input").blur(),"OTHER"===ee){var i=Z.find(".new-comp-input"),n=i.val();n.length>0?t.set("compName",n):t.set("compName",j.get("placeholderAddNew"))}if(t.get("hasNumberError")===!0)return this._showErrorModal(K),!1;if(t.get("hasLogicalError")===!0)return this._showErrorModal(G),!1;this._resetCompItems(),this._addCompFinishedIndicator(),this._checkIfHasComps()?this.ui.nextAction.prop("disabled",!1):this.ui.nextAction.prop("disabled",!0),Z=null}},handleCompBackAction:function(e){e.stopPropagation(),e.preventDefault(),this._resetCompItems(),Z=null},handleCheckboxClicked:function(e){ie=this.ui.noAdditionalCompCheckbox.is(":checked"),ie?(this.ui.compList.addClass(O),this.ui.nextAction.prop("disabled",!1)):(this.ui.compList.removeClass(O),this._checkIfHasComps()||this.ui.nextAction.prop("disabled",!0)),this.model.set("indicatedNoAdditionalComp",ie)},handleNextClicked:function(e){var t=this;if(this._checkIfHasComps()||ie)if(this.model.get("lixKeys").isYearsOfExperienceEnabled){var i=this.model.get("midToken");x.channel("router").command("navigate","/salary/collection/years-of-experience?midToken="+i)}else!function(){var e=P();e.show(new R({message:j.get("loaderInsightsAvailable")}));var i=k(k.find('[name="csrfToken"]')).val();t.model.get("hasSuccessfullySubmitted")?x.channel("router").command("navigate",V):t.model.save(null,{validate:!1,dataType:"text",postingToServer:!0,beforeSend:function(e){e.setRequestHeader("Csrf-Token",i)},success:function(e){e.set("hasSuccessfullySubmitted",!0),x.channel("router").command("navigate",V)},error:function(i){e.hide(),t._showErrorModal(W),A.log("Error POSTing to collection api: "+i)}})}();return!1},_addCompFinishedIndicator:function(){var e=this.compensations[ee],t=e.get("formattedAmount"),i=Z.find(".amount");t?i.text("$"+t):i.empty(),"OTHER"===ee&&Z.find(".comp-type-heading").text(E.htmlEncode(e.get("compName")))},_resetCompItems:function(){if(Z){var e=(Z.data("compType"),Z.find("."+U));e.blur(),this.ui.pageHeading.addClass(F),this.ui.topTextSection.find('[data-comp-type="'+ee+'"]').removeClass(F),this.ui.whatAreTheseContainer.addClass(F),this.ui.compList.removeAttr("id"),this.ui.topLevelActionsContainer.css({display:"block"}),Z.removeAttr("id").addClass("unfocused-item").removeAttr("style")}},_showErrorModal:function(e){h.showViewInModal({title:"",view:new I({model:new(_.Model.extend())({errorType:e,continueCommand:e===G?z:null,backToEditCommand:q})}),customClass:$}),k(".error-message-text").focus()},_checkIfHasComps:function(){for(var e in this.compensations){var t=this.compensations[e];if("BASE_SALARY"!==t.get("type")&&t.get("selected"))return!0}return!1},_whichAnimationEvent:function(){var e=void 0,t=document.createElement("fakeelement"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}})}),define("app/behaviors/touchSwipe",["exports","module","jquery","marionette"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=(o(i),o(n)),s=0,r=0,l=0,d=0,c=72,u=0,p=100,h=0,m=null;t.exports=a.Behavior.extend({events:{touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove"},onTouchStart:function(e){e=e.originalEvent,h=e.touches.length,1===h?(s=e.touches[0].pageX,r=e.touches[0].pageY):this.touchCancel()},onTouchMove:function(e){e=e.originalEvent,1===e.touches.length?(l=e.touches[0].pageX,d=e.touches[0].pageY):this.touchCancel()},onTouchEnd:function(e){e=e.originalEvent,1===h&&0!==l&&(u=Math.round(Math.sqrt(Math.pow(l-s,2)+Math.pow(d-r,2))),u>=c&&(this.determineDirection(),this.updateView())),this.touchCancel()},updateView:function(){return"vertical"===m?!1:void this.view.triggerMethod("swipe:detected",{name:this.options.view,direction:m})},determineDirection:function(){var e=l-s,t=d-r;m=Math.abs(e)>Math.abs(t)&&Math.abs(t)<=p?e>0?"left":"right":"vertical"},touchCancel:function(){h=0,s=0,r=0,l=0,d=0,u=0,m=null}})}),define("app/views/salary/openingInsightsView",["exports","module","marionette","app/behaviors/touchSwipe","radio"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=a(o),d="salary/insights/ranges";t.exports=s.ItemView.extend({template:"templates/partial/salary/opening_insights",className:"opening-insights-container top-level-container",behaviors:{TouchSwipe:{behaviorClass:r}},onSwipeDetected:function(e){"right"===e.direction&&l.channel("router").command("navigate",d)}})}),define("app/views/salary/additionalCompInsightsView",["exports","module","marionette","app/behaviors/touchSwipe","radio","app/behaviors/tracking","app/services/tracking","jquery"],function(e,t,i,n,o,a,s,r){"use strict";var l=function(e){return e&&e.__esModule?e["default"]:e},d=l(i),c=l(n),u=l(o),p=l(a),h=l(r),m="/salary/insights/related-locations",g="/salary/insights/related-positions",f="/salary/insights/closing",v="/salary/insights/ranges",b="aria-hidden",y="aria-expanded",w="p_salary_insights_additional",_="ins-sal-swp";t.exports=d.ItemView.extend({template:"templates/partial/salary/additional_compensation_insights",className:"additional-compensation-insights-container top-level-container",ui:{expandCompAction:".display-container",nextButton:".next-page-button",prevButton:".prev-page-button"},events:{"touchend @ui.expandCompAction":"onExpandActionClicked","touchend @ui.nextButton":"navigateForward","touchend @ui.prevButton":"navigateBackward"},behaviors:{TouchSwipe:{behaviorClass:c},tracking:{behaviorClass:p,pageTrackingKey:{"default":!0,page:w,pointerType:"touchend"}}},onExpandActionClicked:function(e){var t=h(e.target).closest(".additional-comp-one-container"),i=t.find(".range-graph-container"),n=i.attr(b);return n?(i.removeAttr(b),t.attr(y,!0),void s.emitTrackingEvent("controlAction",{id:"ins-sal-exp_add",action:"SHORT_PRESS"},{pageKey:w})):(i.attr(b,!0),void t.attr(y,!1))},onSwipeDetected:function(e){"right"===e.direction?(s.emitTrackingEvent("controlAction",{id:_,action:"SWIPE"},{pageKey:w}),this.navigateForward()):"left"===e.direction&&(s.emitTrackingEvent("controlAction",{id:_,action:"SWIPE"},{pageKey:w}),this.navigateBackward())},navigateForward:function(){var e=f;this.model.get("similarRegions")?e=m:this.model.get("similarTitles")&&(e=g),u.channel("router").command("navigate",e)},navigateBackward:function(){u.channel("router").command("navigate",v)}})}),define("app/views/salary/closingInsightsView",["exports","module","marionette","app/behaviors/touchSwipe","radio","app/behaviors/tracking","app/services/tracking"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=r(a),p="/salary/insights/related-positions",h="/salary/insights/related-locations",m="/salary/insights/total-comp",g="/salary/insights/ranges",f="ins-sal-swp",v="p_salary_insights_thank_you";t.exports=l.ItemView.extend({template:"templates/partial/salary/closing_insights",className:"closing-insights-container top-level-container",ui:{prevButton:".prev-page-button"},events:{"touchend @ui.prevButton":"navigateBackward"},behaviors:{TouchSwipe:{behaviorClass:d},tracking:{behaviorClass:u,pageTrackingKey:{"default":!0,page:"p_salary_insights_thank_you",pointerType:"touchend"}}},onSwipeDetected:function(e){"left"===e.direction&&(s.emitTrackingEvent("controlAction",{id:f,action:"SWIPE"},{pageKey:v}),this.navigateBackward())},navigateBackward:function(){var e=g;this.model.get("similarTitles")?e=p:this.model.get("similarRegions")?e=h:this.model.get("additionalComp")&&(e=m),c.channel("router").command("navigate",e)}})}),define("app/views/salary/rangesInsightsView",["exports","module","marionette","app/behaviors/touchSwipe","radio","app/behaviors/tracking","app/services/tracking","app/services/rum"],function(e,t,i,n,o,a,s,r){"use strict";var l=function(e){return e&&e.__esModule?e["default"]:e},d=l(i),c=l(n),u=l(o),p=l(a),h="/salary/insights/total-comp",m="/salary/insights/related-locations",g="/salary/insights/related-positions",f="/salary/insights/closing",v="ins-sal-swp",b="p_salary_insights_base_total";
t.exports=d.ItemView.extend({template:"templates/partial/salary/ranges_insights",className:"ranges-insights-container top-level-container",ui:{nextButton:".next-page-button"},events:{"touchend @ui.nextButton":"navigateForward"},behaviors:{TouchSwipe:{behaviorClass:c},tracking:{behaviorClass:p,pageTrackingKey:{"default":!0,page:b,pointerType:"touchend"}}},onShow:function(){r.rumRenderComplete()},onSwipeDetected:function(e){"right"===e.direction&&(s.emitTrackingEvent("controlAction",{id:v,action:"SWIPE"},{pageKey:b}),this.navigateForward())},navigateForward:function(){var e=this.model,t=f;e.get("additionalComp")?t=h:e.get("similarRegions")?t=m:e.get("similarTitles")&&(t=g),u.channel("router").command("navigate",t)}})}),define("app/views/salary/relatedLocationsInsightsView",["exports","module","marionette","app/behaviors/touchSwipe","radio","app/behaviors/tracking","app/services/tracking"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=r(a),p="/salary/insights/related-positions",h="/salary/insights/closing",m="/salary/insights/total-comp",g="/salary/insights/ranges",f="ins-sal-swp",v="p_salary_insights_other_locations";t.exports=l.ItemView.extend({template:"templates/partial/salary/related_locations_insights",className:"related-locations-insights-container top-level-container",ui:{nextButton:".next-page-button",prevButton:".prev-page-button"},events:{"touchend @ui.nextButton":"navigateForward","touchend @ui.prevButton":"navigateBackward"},behaviors:{TouchSwipe:{behaviorClass:d},tracking:{behaviorClass:u,pageTrackingKey:{"default":!0,page:v,pointerType:"touchend"}}},onSwipeDetected:function(e){"right"===e.direction?(s.emitTrackingEvent("controlAction",{id:f,action:"SWIPE"},{pageKey:v}),this.navigateForward()):"left"===e.direction&&(s.emitTrackingEvent("controlAction",{id:f,action:"SWIPE"},{pageKey:v}),this.navigateBackward())},navigateForward:function(){var e=h;this.model.get("similarTitles")&&(e=p),c.channel("router").command("navigate",e)},navigateBackward:function(){var e=g;this.model.get("additionalComp")&&(e=m),c.channel("router").command("navigate",e)}})}),define("app/views/salary/relatedPositionsInsightsView",["exports","module","marionette","app/behaviors/touchSwipe","radio","app/behaviors/tracking","app/services/tracking"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=r(a),p="/salary/insights/closing",h="/salary/insights/related-locations",m="/salary/insights/total-comp",g="/salary/insights/ranges",f="ins-sal-swp",v="p_salary_insights_other_positions";t.exports=l.ItemView.extend({template:"templates/partial/salary/related_positions_insights",className:"related-positions-insights-container top-level-container",ui:{nextButton:".next-page-button",prevButton:".prev-page-button"},events:{"touchend @ui.nextButton":"navigateForward","touchend @ui.prevButton":"navigateBackward"},behaviors:{TouchSwipe:{behaviorClass:d},tracking:{behaviorClass:u,pageTrackingKey:{"default":!0,page:v,pointerType:"touchend"}}},onSwipeDetected:function(e){"right"===e.direction?(s.emitTrackingEvent("controlAction",{id:f,action:"SWIPE"},{pageKey:v}),this.navigateForward()):"left"===e.direction&&(s.emitTrackingEvent("controlAction",{id:f,action:"SWIPE"},{pageKey:v}),this.navigateBackward())},navigateForward:function(){c.channel("router").command("navigate",p)},navigateBackward:function(){var e=g;this.model.get("similarRegions")?e=h:this.model.get("additionalComp")&&(e=m),c.channel("router").command("navigate",e)}})}),define("app/views/salary/insightsHeaderView",["exports","module","marionette","app/behaviors/linkTo"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);o(n);t.exports=a.ItemView.extend({template:"templates/partial/salary/insights_header",className:"insights-header-container"})}),define("app/views/salary/insightsFooterView",["exports","module","marionette","app/behaviors/linkTo"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.ItemView.extend({template:"templates/partial/salary/insights_footer",className:"insights-footer-container",modelEvents:{"change:currentPageIndex":"render"},behaviors:{linkTo:{behaviorClass:s}}})}),define("app/views/salary/notReadyView",["exports","module","marionette","app/behaviors/touchSwipe","radio","app/behaviors/tracking"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=(s(n),s(o),s(a));t.exports=r.ItemView.extend({template:"templates/partial/salary/not_ready",className:"not-ready-container top-level-container",behaviors:{tracking:{behaviorClass:l,pageTrackingKey:{"default":!0,page:"p_salary_not_ready"}}}})}),define("app/models/salary/cohort",["exports","module","app/models/endpointModel","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.extend({url:function(){this.getUrlParam("midToken");return play.url({alias:"controllers.salary.SalaryApiController.cohortInsightsAvailable"})},initialize:function(){this.urls={isInsightsAvailable:play.url({alias:"controllers.salary.SalaryApiController.cohortInsightsAvailable"})}},isCohortInsightsAvailable:function(){var e=this,t=this.get("regionCode"),i={midToken:this.getUrlParam("midToken"),countryCode:this.get("countryCode")};t&&(i.regionCode=t),this.get("titleId")?i.titleId=this.get("titleId"):i.titleName=this.get("titleName");var n=s.ajax({url:this.urls.isInsightsAvailable.replace(/\?.*$/g,""),dataType:"json",data:i}),o=function(t){return e.set("isCohortInsightsAvailable",t.isCohortInsightsAvailable),t},a=function(t){return e.set("isCohortInsightsAvailable",!1),t};return n.then(o,a)}})}),define("app/views/salary/desktop/collectionFormView",["exports","module","marionette","i18n","jquery","jSecure"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(o),c=s(a),u=".salary-input-select-box",p="data-form-elem-focus",h="data-floated-label",m=".salary-input-row",g=".salary-input-box",f=".error-message-container",v=".error-message";t.exports=r.ItemView.extend({className:"form-view-container",ui:{nextBtn:"button.next-btn",backBtn:"button.back-btn",salarySelects:".salary-input-select",salaryInputs:".salary-input"},events:{"click @ui.nextBtn":"onNext","click @ui.backBtn":"onBack","focus @ui.salarySelects":"onSalarySelectFocus","blur @ui.salarySelects":"onSalarySelectBlur","focus @ui.salaryInputs":"onSalaryInputFocus","blur @ui.salaryInputs":"onSalaryInputBlur"},initialize:function(){this.getInsights=!1,this.isNextAllowed=!0,this.isYearsOfExperienceEnabled=this.model.get("lixKeys").isYearsOfExperienceEnabled},changeNextBtnAction:function(){var e=void 0===arguments[0]?"next":arguments[0];"insights"===e?(this.ui.nextBtn.text(l.get("getInsights")),this.getInsights=!0):(this.ui.nextBtn.text(l.get("next")),this.getInsights=!1)},updateNextBtn:function(){this.ui.nextBtn.attr("disabled",!this.isNextAllowed)},isOtherOnlySelected:function(){var e=this.getSelectedComps();return 1!==e.length?!1:"OTHER"!==e[0].get("type")?!1:!0},getSelectedComps:function(){var e=this.model.get("compensations"),t=[];for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n.get("selected")&&n.get("isAdditionalCompType")&&t.push(n)}return t},showInputMessage:function(e,t){var i=void 0===arguments[2]?!1:arguments[2],n=e.closest(m),o=n.find(g),a=n.find(f),s=a.find(v);s.text(t),a.addClass("visible"),i?o.removeClass("error"):o.addClass("error")},hideInputMessage:function(e){var t=e.closest(m),i=t.find(g),n=t.find(f);i.removeClass("error"),n.removeClass("visible")},onNext:function(e){this.isNextAllowed&&(this.getInsights?this.triggerMethod("child:get:insights",e):this.triggerMethod("change:view",{evt:e,direction:"next"}))},onBack:function(e){this.triggerMethod("change:view",{evt:e,direction:"back"})},onSalarySelectFocus:function(e){var t=d(e.target),i=t.closest(u);i.attr(p,!0)},onSalarySelectBlur:function(e){var t=d(e.target),i=t.closest(u);i.removeAttr(p)},onSalaryInputFocus:function(e){var t=d(e.target),i=t.closest(g);i.attr(h,!0),i.attr(p,!0)},onSalaryInputBlur:function(e){var t=d(e.target),i=t.closest(g),n=c.htmlEncode(t.val()).trim();n.length||i.removeAttr(h),i.removeAttr(p)}})}),!function(e,t){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(i){return e.Bloodhound=t(i)}):"object"==typeof exports?module.exports=t(require("jquery")):e.Bloodhound=t(jQuery)}(this,function(e){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,i){function n(e,t){return i(t,e)}e.each(t,n)},map:e.map,filter:e.grep,every:function(t,i){var n=!0;return t?(e.each(t,function(e,o){return(n=i.call(null,o,e,t))?void 0:!1}),!!n):n},some:function(t,i){var n=!1;return t?(e.each(t,function(e,o){return(n=i.call(null,o,e,t))?!1:void 0}),!!n):n},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){function i(){return String(t)}return e.isFunction(t)?t:i},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var n,o;return function(){var a,s,r=this,l=arguments;return a=function(){n=null,i||(o=e.apply(r,l))},s=i&&!n,clearTimeout(n),n=setTimeout(a,t),s&&(o=e.apply(r,l)),o}},throttle:function(e,t){var i,n,o,a,s,r;return s=0,r=function(){s=new Date,o=null,a=e.apply(i,n)},function(){var l=new Date,d=t-(l-s);return i=this,n=arguments,0>=d?(clearTimeout(o),o=null,s=l,a=e.apply(i,n)):o||(o=setTimeout(r,d)),a}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),i="0.11.1",n=function(){"use strict";function e(e){return e=t.toStr(e),e?e.split(/\s+/):[]}function i(e){return e=t.toStr(e),e?e.split(/\W+/):[]}function n(e){return function(i){return i=t.isArray(i)?i:[].slice.call(arguments,0),function(n){var o=[];return t.each(i,function(i){o=o.concat(e(t.toStr(n[i])))}),o}}}return{nonword:i,whitespace:e,obj:{nonword:n(i),whitespace:n(e)}}}(),o=function(){"use strict";function i(i){this.maxSize=t.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function n(){this.head=this.tail=null}function o(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(i.prototype,{set:function(e,t){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[e])?(i.val=t,this.list.moveToFront(i)):(i=new o(e,t),this.list.add(i),this.hash[e]=i,this.size++)},get:function(e){var t=this.hash[e];return t?(this.list.moveToFront(t),t.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new n}}),t.mixin(n.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),i}(),a=function(){"use strict";function i(e,i){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix)),this.ls=i||r,!this.ls&&this._noop()}function n(){return(new Date).getTime()}function o(e){return JSON.stringify(t.isUndefined(e)?null:e)}function a(t){return e.parseJSON(t)}function s(e){var t,i,n=[],o=r.length;for(t=0;o>t;t++)(i=r.key(t)).match(e)&&n.push(i.replace(e,""));return n}var r;try{r=window.localStorage,r.setItem("~~~","!"),r.removeItem("~~~")}catch(l){r=null}return t.mixin(i.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(i){"QuotaExceededError"===i.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),a(this.ls.getItem(this._prefix(e)))},set:function(e,i,a){return t.isNumber(a)?this._safeSet(this._ttlKey(e),o(n()+a)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),o(i))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){var e,t=s(this.keyMatcher);for(e=t.length;e--;)this.remove(t[e]);return this},isExpired:function(e){var i=a(this.ls.getItem(this._ttlKey(e)));return t.isNumber(i)&&n()>i?!0:!1}}),i}(),s=function(){"use strict";function i(e){e=e||{},this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=e.cache===!1?new o(0):r}var n=0,a={},s=6,r=new o(10);return i.setMaxPendingRequests=function(e){s=e},i.resetCache=function(){r.reset()},t.mixin(i.prototype,{_fingerprint:function(t){return t=t||{},t.url+t.type+e.param(t.data||{})},_get:function(e,t){function i(e){t(null,e),c._cache.set(l,e)}function o(){t(!0)}function r(){n--,delete a[l],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var l,d,c=this;l=this._fingerprint(e),this.cancelled||l!==this.lastReq||((d=a[l])?d.done(i).fail(o):s>n?(n++,a[l]=this._send(e).done(i).fail(o).always(r)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,n){var o,a;n=n||e.noop,i=t.isString(i)?{url:i}:i||{},a=this._fingerprint(i),this.cancelled=!1,this.lastReq=a,(o=this._cache.get(a))?n(null,o):this._get(i,n)},cancel:function(){this.cancelled=!0}}),i}(),r=window.SearchIndex=function(){"use strict";function i(i){i=i||{},i.datumTokenizer&&i.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||t.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.reset()}function n(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function o(){var e={};return e[l]=[],e[r]={},e}function a(e){for(var t={},i=[],n=0,o=e.length;o>n;n++)t[e[n]]||(t[e[n]]=!0,i.push(e[n]));return i}function s(e,t){var i=0,n=0,o=[];e=e.sort(),t=t.sort();for(var a=e.length,s=t.length;a>i&&s>n;)e[i]<t[n]?i++:e[i]>t[n]?n++:(o.push(e[i]),i++,n++);return o}var r="c",l="i";return t.mixin(i.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var i=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var a,s;i.datums[a=i.identify(e)]=e,s=n(i.datumTokenizer(e)),t.each(s,function(e){var t,n,s;for(t=i.trie,n=e.split("");s=n.shift();)t=t[r][s]||(t[r][s]=o()),t[l].push(a)})})},get:function(e){var i=this;return t.map(e,function(e){return i.datums[e]})},search:function(e){var i,o,d=this;return i=n(this.queryTokenizer(e)),t.each(i,function(e){var t,i,n,a;if(o&&0===o.length)return!1;for(t=d.trie,i=e.split("");t&&(n=i.shift());)t=t[r][n];return t&&0===i.length?(a=t[l].slice(0),void(o=o?s(o,a):a)):(o=[],!1)}),o?t.map(a(o),function(e){return d.datums[e]}):[]},all:function(){var e=[];for(var t in this.datums)e.push(this.datums[t]);return e},reset:function(){this.datums={},this.trie=o()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),l=function(){"use strict";function e(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new a(e.cacheKey)}var i;return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(e){this.cache&&(this.storage.set(i.data,e,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var e,t={};return this.cache?(t.data=this.storage.get(i.data),t.protocol=this.storage.get(i.protocol),t.thumbprint=this.storage.get(i.thumbprint),e=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!e?t.data:null):null},fromNetwork:function(e){function t(){e(!0)}function i(t){e(null,o.transform(t))}var n,o=this;e&&(n=this.prepare(this._settings()),this.transport(n).fail(t).done(i))},clear:function(){return this.storage.clear(),this}}),e}(),d=function(){"use strict";function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.transport=new s({cache:e.cache,limiter:e.limiter,transport:e.transport})}return t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(e,t){function i(e,i){t(e?[]:o.transform(i))}var n,o=this;return t?(e=e||"",n=this.prepare(e,this._settings()),this.transport.get(n,i)):void 0},cancelLastRequest:function(){this.transport.cancel()}}),e}(),c=function(){"use strict";function n(n){var o;return n?(o={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null},n=t.isString(n)?{url:n}:n,n=t.mixin(o,n),!n.url&&e.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint=i+n.thumbprint,n.transport=n.transport?r(n.transport):e.ajax,n):null}function o(i){var n;return i?(n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null},i=t.isString(i)?{url:i}:i,i=t.mixin(n,i),!i.url&&e.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=a(i),i.limiter=s(i),i.transport=i.transport?r(i.transport):e.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i):void 0}function a(e){function t(e,t){return t.url=a(t.url,e),t}function i(e,t){return t.url=t.url.replace(s,encodeURIComponent(e)),t}function n(e,t){return t}var o,a,s;return o=e.prepare,a=e.replace,s=e.wildcard,o?o:o=a?t:e.wildcard?i:n}function s(e){function i(e){return function(i){return t.debounce(i,e)}}function n(e){return function(i){return t.throttle(i,e)}}var o,a,s;return o=e.limiter,a=e.rateLimitBy,s=e.rateLimitWait,o||(o=/^throttle$/i.test(a)?n(s):i(s)),o}function r(i){return function(n){function o(e){t.defer(function(){s.resolve(e)})}function a(e){t.defer(function(){s.reject(e)})}var s=e.Deferred();return i(n,o,a),s}}return function(i){var a,s;return a={initialize:!0,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},i=t.mixin(a,i||{}),!i.datumTokenizer&&e.error("datumTokenizer is required"),!i.queryTokenizer&&e.error("queryTokenizer is required"),s=i.sorter,i.sorter=s?function(e){return e.sort(s)}:t.identity,i.local=t.isFunction(i.local)?i.local():i.local,i.prefetch=n(i.prefetch),i.remote=o(i.remote),i}}(),u=function(){"use strict";function i(e){e=c(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.local=e.local,this.remote=e.remote?new d(e.remote):null,this.prefetch=e.prefetch?new l(e.prefetch):null,this.index=new r({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),e.initialize!==!1&&this.initialize()}var o;return o=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=o),i},i.tokenizers=n,t.mixin(i.prototype,{__ttAdapter:function(){function e(e,t,n){return i.search(e,t,n)}function t(e,t){return i.search(e,t)}var i=this;return this.remote?e:t},_loadPrefetch:function(){function t(e,t){return e?i.reject():(o.add(t),o.prefetch.store(o.index.serialize()),void i.resolve())}var i,n,o=this;return i=e.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),i.resolve()):this.prefetch.fromNetwork(t):i.resolve(),i.promise()},_initialize:function(){function e(){t.add(t.local)}var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(e),this.initPromise},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){return this.index.add(e),this},get:function(e){return e=t.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function(e,i,n){function o(e){var i=[];t.each(e,function(e){!t.some(a,function(t){return s.identify(e)===s.identify(t)})&&i.push(e)}),n&&n(i)}var a,s=this;return a=this.sorter(this.index.search(e)),i(this.remote?a.slice():a),this.remote&&a.length<this.sufficient?this.remote.get(e,o):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}();return u}),function(e,t){"function"==typeof define&&define.amd?define("typeahead",["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,i){function n(e,t){return i(t,e)}e.each(t,n)},map:e.map,filter:e.grep,every:function(t,i){var n=!0;return t?(e.each(t,function(e,o){return(n=i.call(null,o,e,t))?void 0:!1}),!!n):n},some:function(t,i){var n=!1;return t?(e.each(t,function(e,o){return(n=i.call(null,o,e,t))?!1:void 0}),!!n):n},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){function i(){return String(t)}return e.isFunction(t)?t:i},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var n,o;return function(){var a,s,r=this,l=arguments;return a=function(){n=null,i||(o=e.apply(r,l))},s=i&&!n,clearTimeout(n),n=setTimeout(a,t),s&&(o=e.apply(r,l)),o}},throttle:function(e,t){var i,n,o,a,s,r;return s=0,r=function(){s=new Date,o=null,a=e.apply(i,n)},function(){var l=new Date,d=t-(l-s);return i=this,n=arguments,0>=d?(clearTimeout(o),o=null,s=l,a=e.apply(i,n)):o||(o=setTimeout(r,d)),a}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),i=function(){"use strict";function e(e){var s,r;return r=t.mixin({},a,e),s={css:o(),classes:r,html:i(r),selectors:n(r)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(e){t.mixin(e,s)}}}function i(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div class="'+e.menu+'"></div>'}}function n(e){var i={};return t.each(e,function(e,t){i[t]="."+e}),i}function o(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}var a={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return e}(),n=function(){"use strict";function i(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var n,o;return n="typeahead:",o={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(i.prototype,{_trigger:function(t,i){var o;return o=e.Event(n+t),(i=i||[]).unshift(o),this.$el.trigger.apply(this.$el,i),o},before:function(e){var t,i;return t=[].slice.call(arguments,1),i=this._trigger("before"+e,t),i.isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=o[e])&&this._trigger(t,[].slice.call(arguments,1))}}),i}(),o=function(){"use strict";function e(e,t,i,n){var o;if(!i)return this;for(t=t.split(l),i=n?r(i,n):i,this._callbacks=this._callbacks||{};o=t.shift();)this._callbacks[o]=this._callbacks[o]||{sync:[],async:[]},this._callbacks[o][e].push(i);return this}function t(t,i,n){return e.call(this,"async",t,i,n)}function i(t,i,n){return e.call(this,"sync",t,i,n)}function n(e){var t;if(!this._callbacks)return this;for(e=e.split(l);t=e.shift();)delete this._callbacks[t];return this}function o(e){var t,i,n,o,s;if(!this._callbacks)return this;for(e=e.split(l),n=[].slice.call(arguments,1);(t=e.shift())&&(i=this._callbacks[t]);)o=a(i.sync,this,[t].concat(n)),s=a(i.async,this,[t].concat(n)),o()&&d(s);return this}function a(e,t,i){function n(){for(var n,o=0,a=e.length;!n&&a>o;o+=1)n=e[o].apply(t,i)===!1;return!n}return n}function s(){var e;return e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function r(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var l=/\s+/,d=s();return{onSync:i,onAsync:t,off:n,trigger:o}}(),a=function(e){"use strict";function i(e,i,n){for(var o,a=[],s=0,r=e.length;r>s;s++)a.push(t.escapeRegExChars(e[s]));return o=n?"\\b("+a.join("|")+")\\b":"("+a.join("|")+")",i?new RegExp(o):new RegExp(o,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(o){function a(t){var i,n,a;return(i=r.exec(t.data))&&(a=e.createElement(o.tagName),o.className&&(a.className=o.className),n=t.splitText(i.index),n.splitText(i[0].length),a.appendChild(n.cloneNode(!0)),t.parentNode.replaceChild(a,n)),!!i}function s(e,t){for(var i,n=3,o=0;o<e.childNodes.length;o++)i=e.childNodes[o],i.nodeType===n?o+=t(i)?1:0:s(i,t)}var r;o=t.mixin({},n,o),o.node&&o.pattern&&(o.pattern=t.isArray(o.pattern)?o.pattern:[o.pattern],r=i(o.pattern,o.caseSensitive,o.wordsOnly),s(o.node,a))}}(window.document),s=function(){"use strict";function i(i,o){i=i||{},i.input||e.error("input is missing"),o.mixin(this),this.$hint=e(i.hint),this.$input=e(i.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=n(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop)}function n(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function a(e,t){return i.normalizeQuery(e)===i.normalizeQuery(t)}function s(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var r;return r={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(e){return t.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(i.prototype,o,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(e){var t=r[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var i;switch(e){case"up":case"down":i=!s(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(e,t){var i;switch(e){case"tab":i=!s(t);break;default:i=!0}return i},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var i,n;i=a(e,this.query),n=i?this.query.length!==e.length:!1,this.query=e,t||i?!t&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var e,i,n,o,a=this;return e=t.bind(this._onBlur,this),i=t.bind(this._onFocus,this),n=t.bind(this._onKeydown,this),o=t.bind(this._onInput,this),this.$input.on("blur.tt",e).on("focus.tt",i).on("keydown.tt",n),!t.isMsie()||t.isMsie()>9?this.$input.on("input.tt",o):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){r[e.which||e.keyCode]||t.defer(t.bind(a._onInput,a,e))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,i,n;e=this.getInputValue(),t=this.getHint(),i=e!==t&&0===t.indexOf(e),n=""!==e&&i&&!this.hasOverflow(),!n&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,i,n;return e=this.$input.val().length,i=this.$input[0].selectionStart,t.isNumber(i)?i===e:document.selection?(n=document.selection.createRange(),n.moveStart("character",-e),e===n.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=e("<div>")}}),i}(),r=function(){"use strict";function i(i,o){i=i||{},i.templates=i.templates||{},i.templates.notFound=i.templates.notFound||i.templates.empty,i.source||e.error("missing source"),i.node||e.error("missing node"),i.name&&!r(i.name)&&e.error("invalid dataset name: "+i.name),o.mixin(this),this.highlight=!!i.highlight,this.name=i.name||d(),this.limit=i.limit||5,this.displayFn=n(i.display||i.displayKey),this.templates=s(i.templates,this.displayFn),this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source,this.async=t.isUndefined(i.async)?this.source.length>2:!!i.async,this._resetLastSuggestion(),this.$el=e(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(e){function i(t){return t[e]}return e=e||t.stringify,t.isFunction(e)?e:i}function s(i,n){function o(t){return e("<div>").text(n(t))}return{notFound:i.notFound&&t.templatify(i.notFound),pending:i.pending&&t.templatify(i.pending),header:i.header&&t.templatify(i.header),footer:i.footer&&t.templatify(i.footer),suggestion:i.suggestion||o}}function r(e){
return/^[_a-zA-Z0-9-]+$/.test(e)}var l,d;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},d=t.getIdGenerator(),i.extractData=function(t){var i=e(t);return i.data(l.obj)?{val:i.data(l.val)||"",obj:i.data(l.obj)||null}:null},t.mixin(i.prototype,o,{_overwrite:function(e,t){t=t||[],t.length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,t,!1)},_append:function(e,t){t=t||[],t.length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(e,t){var i;i=this._getSuggestionsFragment(e,t),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var i,n;i=this._getSuggestionsFragment(e,t),n=i.children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,n){var o,s=this;return o=document.createDocumentFragment(),t.each(n,function(t){var n,a;a=s._injectQuery(i,t),n=e(s.templates.suggestion(a)).data(l.obj,t).data(l.val,s.displayFn(t)).addClass(s.classes.suggestion+" "+s.classes.selectable),o.appendChild(n[0])}),this.highlight&&a({className:this.classes.highlight,node:o,pattern:i}),e(o)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=e()},_injectQuery:function(e,i){return t.isObject(i)?t.mixin({_query:e},i):i},update:function(t){function i(e){s||(s=!0,e=(e||[]).slice(0,o.limit),r=e.length,o._overwrite(t,e),r<o.limit&&o.async&&o.trigger("asyncRequested",t))}function n(i){i=i||[],!a&&r<o.limit&&(o.cancel=e.noop,o._append(t,i.slice(0,o.limit-r)),r+=i.length,o.async&&o.trigger("asyncReceived",t))}var o=this,a=!1,s=!1,r=0;this.cancel(),this.cancel=function(){a=!0,o.cancel=e.noop,o.async&&o.trigger("asyncCanceled",t)},this.source(t,i,n),!s&&i([])},cancel:e.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=e("<div>")}}),i}(),l=function(){"use strict";function i(i,n){function o(t){var i=a.$node.find(t.node).first();return t.node=i.length?i:e("<div>").appendTo(a.$node),new r(t,n)}var a=this;i=i||{},i.node||e.error("node is required"),n.mixin(this),this.$node=e(i.node),this.query=null,this.datasets=t.map(i.datasets,o)}return t.mixin(i.prototype,o,{_onSelectableClick:function(t){this.trigger("selectableClicked",e(t.currentTarget))},_onRendered:function(e,t,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function e(e){return e.isEmpty()}return t.every(this.datasets,e)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t,i,n,o;t=e.position().top,i=t+e.outerHeight(!0),n=this.$node.scrollTop(),o=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>t?this.$node.scrollTop(n+t):i>o&&this.$node.scrollTop(n+(i-o))},bind:function(){var e,i=this;return e=t.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,e),t.each(this.datasets,function(e){e.onSync("asyncRequested",i._propagate,i).onSync("asyncCanceled",i._propagate,i).onSync("asyncReceived",i._propagate,i).onSync("rendered",i._onRendered,i).onSync("cleared",i._onCleared,i)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,i,n,o;return i=this.getActiveSelectable(),t=this._getSelectables(),n=i?t.index(i):-1,o=n+e,o=(o+1)%(t.length+1)-1,o=-1>o?t.length-1:o,-1===o?null:t.eq(o)},setCursor:function(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function(e){return e&&e.length?r.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().first();return e.length?e:null},update:function(e){function i(t){t.update(e)}var n=e!==this.query;return n&&(this.query=e,t.each(this.datasets,i)),n},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function i(e){e.destroy()}this.$node.off(".tt"),this.$node=e("<div>"),t.each(this.datasets,i)}}),i}(),d=function(){"use strict";function e(){l.apply(this,[].slice.call(arguments,0))}var i=l.prototype;return t.mixin(e.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),i.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),i.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),i.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),e}(),c=function(){"use strict";function i(i,o){var a,s,r,l,d,c,u,p,h,m,g;i=i||{},i.input||e.error("missing input"),i.menu||e.error("missing menu"),i.eventBus||e.error("missing event bus"),o.mixin(this),this.eventBus=i.eventBus,this.minLength=t.isNumber(i.minLength)?i.minLength:1,this.input=i.input,this.menu=i.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),a=n(this,"activate","open","_onFocused"),s=n(this,"deactivate","_onBlurred"),r=n(this,"isActive","isOpen","_onEnterKeyed"),l=n(this,"isActive","isOpen","_onTabKeyed"),d=n(this,"isActive","_onEscKeyed"),c=n(this,"isActive","open","_onUpKeyed"),u=n(this,"isActive","open","_onDownKeyed"),p=n(this,"isActive","isOpen","_onLeftKeyed"),h=n(this,"isActive","isOpen","_onRightKeyed"),m=n(this,"_openIfActive","_onQueryChanged"),g=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",a,this).onSync("blurred",s,this).onSync("enterKeyed",r,this).onSync("tabKeyed",l,this).onSync("escKeyed",d,this).onSync("upKeyed",c,this).onSync("downKeyed",u,this).onSync("leftKeyed",p,this).onSync("rightKeyed",h,this).onSync("queryChanged",m,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function n(e){var i=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);t.each(i,function(t){return e[t].apply(e,n)})}}return t.mixin(i.prototype,{_hacks:function(){var i,n;i=this.input.$input||e("<div>"),n=this.menu.$node||e("<div>"),i.on("blur.tt",function(e){var o,a,s;o=document.activeElement,a=n.is(o),s=n.has(o).length>0,t.isMsie()&&(a||s)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){i.focus()}))}),n.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,i,n){this._updateHint(),this.eventBus.trigger("render",i,n,t)},_onAsyncRequested:function(e,t,i){this.eventBus.trigger("asyncrequest",i,t)},_onAsyncCanceled:function(e,t,i){this.eventBus.trigger("asynccancel",i,t)},_onAsyncReceived:function(e,t,i){this.eventBus.trigger("asyncreceive",i,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&t.preventDefault()},_onTabKeyed:function(e,t){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&t.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return e=t.isString(e)?e:this.input.getQuery()||"",e.length>=this.minLength},_updateHint:function(){var e,i,n,o,a,r,l;e=this.menu.getTopSelectable(),i=this.menu.getSelectableData(e),n=this.input.getInputValue(),!i||t.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(o=s.normalizeQuery(n),a=t.escapeRegExChars(o),r=new RegExp("^(?:"+a+")(.+$)","i"),l=r.exec(i.val),l&&this.input.setHint(n+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(t.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return t&&!this.eventBus.before("select",t.obj)?(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0):!1},autocomplete:function(e){var t,i,n;return t=this.input.getQuery(),i=this.menu.getSelectableData(e),n=i&&t!==i.val,n&&!this.eventBus.before("autocomplete",i.obj)?(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0):!1},moveCursor:function(e){var t,i,n,o,a;return t=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(e),n=this.menu.getSelectableData(i),o=n?n.obj:null,a=this._minLengthMet()&&this.menu.update(t),a||this.eventBus.before("cursorchange",o)?!1:(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",o),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),i}();!function(){"use strict";function o(t,i){t.each(function(){var t,n=e(this);(t=n.data(g.typeahead))&&i(t,n)})}function a(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(u(e)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function r(e,t){e.data(g.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(i){}return e}function u(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function p(e){var i,n;i=e.data(g.www),n=e.parent().filter(i.selectors.wrapper),t.each(e.data(g.attrs),function(i,n){t.isUndefined(i)?e.removeAttr(n):e.attr(n,i)}),e.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(i.classes.input),n.length&&(e.detach().insertAfter(n),n.remove())}function h(i){var n,o;return n=t.isJQuery(i)||t.isElement(i),o=n?e(i).first():[],o.length?o:null}var m,g,f;m=e.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},f={initialize:function(o,u){function p(){var i,p,f,v,b,y,w,_,C,k,x;t.each(u,function(e){e.highlight=!!o.highlight}),i=e(this),p=e(m.html.wrapper),f=h(o.hint),v=h(o.menu),b=o.hint!==!1&&!f,y=o.menu!==!1&&!v,b&&(f=a(i,m)),y&&(v=e(m.html.menu).css(m.css.menu)),f&&f.val(""),i=r(i,m),(b||y)&&(p.css(m.css.wrapper),i.css(b?m.css.input:m.css.inputWithNoHint),i.wrap(p).parent().prepend(b?f:null).append(y?v:null)),x=y?d:l,w=new n({el:i}),_=new s({hint:f,input:i},m),C=new x({node:v,datasets:u},m),k=new c({input:_,menu:C,eventBus:w,minLength:o.minLength},m),i.data(g.www,m),i.data(g.typeahead,k)}var m;return u=t.isArray(u)?u:[].slice.call(arguments,1),o=o||{},m=i(o.classNames),this.each(p)},isEnabled:function(){var e;return o(this.first(),function(t){e=t.isEnabled()}),e},enable:function(){return o(this,function(e){e.enable()}),this},disable:function(){return o(this,function(e){e.disable()}),this},isActive:function(){var e;return o(this.first(),function(t){e=t.isActive()}),e},activate:function(){return o(this,function(e){e.activate()}),this},deactivate:function(){return o(this,function(e){e.deactivate()}),this},isOpen:function(){var e;return o(this.first(),function(t){e=t.isOpen()}),e},open:function(){return o(this,function(e){e.open()}),this},close:function(){return o(this,function(e){e.close()}),this},select:function(t){var i=!1,n=e(t);return o(this.first(),function(e){i=e.select(n)}),i},autocomplete:function(t){var i=!1,n=e(t);return o(this.first(),function(e){i=e.autocomplete(n)}),i},moveCursor:function(e){var t=!1;return o(this.first(),function(i){t=i.moveCursor(e)}),t},val:function(e){var t;return arguments.length?(o(this,function(t){t.setVal(e)}),this):(o(this.first(),function(e){t=e.getVal()}),t)},destroy:function(){return o(this,function(e,t){p(t),e.destroy()}),this}},e.fn.typeahead2=function(e){return f[e]?f[e].apply(this,[].slice.call(arguments,1)):f.initialize.apply(this,arguments)},e.fn.typeahead2.noConflict=function(){return e.fn.typeahead2=m,this}}()}),define("app/lib/AccessibleTwitterTypeahead",["exports","module","jquery"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i),a="aria-selected",s="aria-activedescendant",r="aria-labelledby",l=["dataset","bloodhoundEngine","i18nStrings","regionId"],d=void 0,c=void 0;d=function(e,t){this._$el=e,this._config=t,this._checkMissingConfigs(),this._$label=o("#"+this._config.regionId),this._dropdownId="tt-dataset-"+this._config.dataset,this._attachAriaAttributes(),this._attachTypeaheadEvents(),this._handleResultLength()},c=d.prototype,c.destroy=function(){this._$el.off("typeahead:opened",o.proxy(this._setDropdownAttrs,this)).off("typeahead:cursorchanged",o.proxy(this._setActiveDescendant,this)).off("typeahead:closed",o.proxy(this._removeActiveDescendant,this)).off("keyup.typeahead",o.proxy(this._resetLabelLength,this)),this._$el.attr(this._originalElAriaAttrs),this._$label.attr(this._originalLabelAriaAttrs),this._config.bloodhoundEngine.get=this._originalGetResults},c._checkMissingConfigs=function(){var e,t,i,n=[];for(this._config.regionId=this._config.regionId||this._config.labelId,t=0,i=l.length;i>t;t++)e=l[t],this._config[e]||n.push(e);if(n.length)throw"["+n.join(",")+"] config(s) are missing from the AccessibleTwitterTypeahead module"},c._attachAriaAttributes=function(){this._originalElAriaAttrs={role:this._$el.attr("role")||null,"aria-owns":this._$el.attr("aria-owns")||null,"aria-autocomplete":this._$el.attr("aria-autocomplete")||null},this._originalLabelAriaAttrs={"aria-live":this._$label.attr("aria-live")||null},this._$el.attr({role:"combobox","aria-owns":"tt-dataset-"+this._config.dataset,"aria-autocomplete":"list"}),this._config.labelId&&(this._originalElAriaAttrs[r]=this._$el.attr(r)||null,this._$el.attr(r,this._config.labelId)),this._$label.is("label")&&this._$el.attr("aria-live","polite"),this._$label.attr("aria-live")||this._$label.attr("aria-live","polite")},c._attachTypeaheadEvents=function(){this._$el.on("typeahead:opened",o.proxy(this._setDropdownAttrs,this)).on("typeahead:cursorchanged",o.proxy(this._setActiveDescendant,this)).on("typeahead:closed",o.proxy(this._removeActiveDescendant,this)).on("keyup.typeahead",o.proxy(this._resetLabelLength,this))},c._setDropdownAttrs=function(){this._$dropdown=this._$dropdown||o("."+this._dropdownId),this._$dropdown.attr({id:this._dropdownId,role:"listbox"})},c._setActiveDescendant=function(e,t){var i=(t.sourceID?t.sourceID+"-":"")+"item-"+t.rank;this._$el.attr(s,i),this._$dropdown=this._$dropdown||o("#"+this._dropdownId),this._$dropdown.find("["+a+"=true]").attr(a,!1),o("#"+i).attr(a,!0)},c._removeActiveDescendant=function(){this._$el.removeAttr(s),this._resetRegion()},c._setLabelToLength=function(e){var t=e?e.length:0,i="";switch(t){case 0:i=this._config.i18nStrings.zeroResults;break;case 1:i=this._config.i18nStrings.singleResult;break;default:i=this._config.i18nStrings.multipleResults}this._$label.html(o("<span/>").text(i))},c._handleResultLength=function(){var e=this;this._originalGetResults=this._config.bloodhoundEngine.get,this._config.bloodhoundEngine.get=function(t,i){var n=i;i=function(t){e._setLabelToLength(t),n(t)},e._originalGetResults.call(e._config.bloodhoundEngine,t,i)}},c._resetRegion=function(){this._$label.text("")},c._resetLabelLength=function(){""===o.trim(this._$el.val())&&this._resetRegion()},t.exports=d}),define("app/lib/TwitterTypeahead",["exports","module","bloodhound","typeahead","underscore","jquery","app/lib/AccessibleTwitterTypeahead"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=(r(n),r(o)),c=(r(a),r(s)),u=10,p="text",h="val",m={OPENED:"typeahead:open",CLOSED:"typeahead:close",CURSOR_CHANGED:"typeahead:cursorchange",SELECTED:"typeahead:select",AUTOCOMPLETED:"typeahead:autocomplete",ACTIVE:"typeahead:active",IDLE:"typeahead:idle",CHANGE:"typeahead:change",RENDER:"typeahead:render",ASYNC_REQUEST:"typeahead:asyncrequest",ASYNC_CANCEL:"typeahead:asynccancel",ASYNC_RECEIVE:"typeahead:asyncreceive"},g=function(e,t){return{suggestionEngines:{},init:function(){if(!t||!d.isArray(t)&&!d.isObject(t)||d.isArray(t)&&!t.length||d.isObject(t)&&d.isEmpty(t))throw new Error("Config should be supplied as a non-empty array or object.");return this.$el=e,t=d.isArray(t)?t:[t],d.each(t,d.bind(function(e){e.displayKey=e.displayKey||p,e.limit=e.limit||u,e.header=e.header||"",e.footer=e.footer||""},this)),this._initSuggestionEngines(t),this._initAccessibleTwitterTypeahead(t[0]),this._initTwitterTypeaheadPlugin(t),!0},on:function(e,t){return this.$el.on(e,t),this},off:function(e){return this.$el.off(e),this},selectedHandler:function(e){return this.on(m.SELECTED,e)},setVal:function(e){return this.$el.typeahead(h,e),this},clearQuery:function(){return this.$el.typeahead(h,""),this},focus:function(){return this.$el.focus(),this},destroy:function(){this.$el.typeahead("destroy")},getSuggestionEngine:function(e){return this.suggestionEngines[e]},_initSuggestionEngines:function(e){d.each(e,d.bind(function(e){this.suggestionEngines[e.name]=this._buildSuggestionEngine(e)},this))},_buildSuggestionEngine:function(e){var t=new l(d.extend({datumTokenizer:l.tokenizers.obj.whitespace(e.displayKey),queryTokenizer:l.tokenizers.whitespace},e));return t.initialize(),t},_initAccessibleTwitterTypeahead:function(e){if(c)try{new c(this.$el,{dataset:e.name,bloodhoundEngine:this.getSuggestionEngine(e.name),i18nStrings:e.i18nStrings,regionId:e.regionId})}catch(t){return}},_initTwitterTypeaheadPlugin:function(e){var t=function(){},i=d.map(e,d.bind(function(e){return{source:this.getSuggestionEngine(e.name).ttAdapter(),name:e.name,displayKey:e.displayKey,limit:e.limit,templates:{header:e.header,footer:e.footer,suggestion:e.template,empty:e.empty,notFound:e.notFound,pending:e.pending||t}}},this));if("function"==typeof this.$el.typeahead2){var n=null==e[0].minLength?1:e[0].minLength,o=null==e[0].highlight?!0:e[0].highlight,a=null==e[0].hint?!0:e[0].hint;this.$el.typeahead2.apply(this.$el,[{classNames:{menu:"tt-dropdown-menu"},highlight:o,hint:a,minLength:n}].concat(i))}}}};g.EVENTS=m,t.exports=g}),define("app/views/salary/desktop/editJobTitleView",["exports","module","i18n","app/behaviors/tracking","underscore","app/models/salary/cohort","app/views/salary/desktop/collectionFormView","app/lib/TwitterTypeahead","bloodhound"],function(e,t,i,n,o,a,s,r,l){"use strict";var d=function(e){return e&&e.__esModule?e["default"]:e},c=d(i),u=d(n),p=d(o),h=d(a),m=d(s),g=d(r),f=d(l),v="defaultMode",b="editTitleFirstMode",y={},w={};t.exports=m.extend({id:"edit-job-title-view-container",className:"form-view-container",template:"templates/partial/salary/desktop/edit_job_title",ui:p.extend({},m.prototype.ui,{submitButton:".submit-btn",actionsContainer:".actions-container",submissionStatusContainer:".submission-status-container",titleTypeahead:".title-typeahead",companyTypeahead:".company-typeahead",locationTypeahead:".location-typeahead",confirmModal:".confirm-title-modal",confirmContinueTitle:".confirm-continue-title",confirmChangeTitle:".confirm-change-title"}),events:p.extend({},m.prototype.events,{"click @ui.submitButton":"onSubmitNewPosition","click @ui.confirmContinueTitle":"onContinueWithNonStandardizedTitle","click @ui.confirmChangeTitle":"onConfirmChangeTitle"}),behaviors:{tracking:{behaviorClass:u,pageTrackingKey:{"default":!0,page:"d_salary_edit_job_title"}}},initialize:function(e){if(this.model.get("lixKeys").isSalaryCollectionEditTitlePageFirstEnabled){var t=e.headingTreatment,i=e.showBackButton,n=e.prefillTitleTypeahead;this.model.set("headingTreatment",void 0===t?b:t),this.model.set("showBackButton",void 0===i?!1:i),this.model.set("prefillTitleTypeahead",void 0===n?!0:n)}else this.model.set("headingTreatment",v);w=this},resetNewPosition:function(){return y={},this},initNewPosition:function(){var e=this.model.get("member"),t=e.positions,i=this.model.get("lixKeys").isSalaryCollectionEditTitlePageFirstEnabled;if(y=t&&t.length?p.clone(this.model.get("member").positions[0]):{},!y.titleId&&this.model.get("prefillTitleTypeahead")){var n=y.suggestedStandardizedTitles&&y.suggestedStandardizedTitles.length>0?y.suggestedStandardizedTitles[0]:null;y.titleId=n?n.titleId:null,y.titleName=null,y.isVagueTitle=n?n.isVague:null,y.isVagueTitle===!0&&this.showInputMessage(this.ui.titleTypeahead,c.get("errorVagueTitle"))}var o=!(i&&!this.model.get("prefillTitleTypeahead")||!y.standardizedTitle);o&&(y.titleName=y.standardizedTitle),y.isTitleModified=!1,y.isPositionModified=!1,delete y.title,delete y.profilePositionId,delete y.durationString},makeTypeaheadConfigsFromElement:function(e,t,i){if(e.length&&t){var n=i&&i.queryKeyword?i.queryKeyword:"query",o=4;return{limit:o,remote:{url:e.data("sourceUrl"),replace:function(e,t){return""+e+"?"+n+"="+encodeURIComponent(t)},filter:function(e){return e.resultList||e.typeahead.hits||[]}},datumTokenizer:function(e){return t.tokenizers.obj(e.displayName)},displayKey:"displayName"}}},initTitleTypeahead:function(){var e=this.ui.titleTypeahead,t=this.makeTypeaheadConfigsFromElement(e,f,{queryKeyword:"keyword"});if(e.length&&t){var i=new g(e,t);i.init();var n=function(e,t,i){var n=t.entity.split(":");y.titleId=parseInt(n[3],10),y.titleName=y.standardizedTitle=t.displayName,y.title=t.entity,y.isVagueTitle=t.isVague,y.isTitleModified=!0,y.isPositionModified=!0,y.isVagueTitle===!0?w.showInputMessage(w.ui.titleTypeahead,c.get("errorVagueTitle")):w.hideInputMessage(w.ui.titleTypeahead)},o=function(e){delete y.titleId,delete y.title,delete y.isVagueTitle,y.titleName=y.standardizedTitle=e.target.value,y.isTitleModified=!0,y.isPositionModified=!0;var t=new h({titleName:y.titleName,countryCode:y.countryCode});w.showSubmissionIndicator(),t.isCohortInsightsAvailable().done(function(e){var t=e.isVagueTitle;y.isVagueTitle=t,t?(y.titleId=e.titleId,w.showInputMessage(w.ui.titleTypeahead,c.get("errorVagueTitle"))):w.hideInputMessage(w.ui.titleTypeahead)}).always(function(){w.hideSubmissionIndicator()})};i.on(g.EVENTS.SELECTED,n),i.on(g.EVENTS.AUTOCOMPLETED,n),i.on("change",o)}},initCompanyTypeahead:function(){var e=this.ui.companyTypeahead,t=this.makeTypeaheadConfigsFromElement(e,f);if(e.length&&t){var i=new g(e,t);i.init();var n=function(e,t,i){y.companyId=parseInt(t.id,10),y.companyName=t.displayName,y.company="urn:li:company:"+t.id,y.isPositionModified=!0,w.hideInputMessage(w.ui.companyTypeahead)},o=function(e){delete y.companyId,delete y.company,y.companyName=e.target.value,y.isPositionModified=!0};i.on(g.EVENTS.SELECTED,n),i.on(g.EVENTS.AUTOCOMPLETED,n),i.on("change",o)}},initLocationTypeahead:function(){var e=this.ui.locationTypeahead,t=this.makeTypeaheadConfigsFromElement(e,f,{queryKeyword:"keyword"});if(e.length&&t){var i=new g(e,t);i.init();var n=function(e,t,i){var n=t.region.split(":");y.locationName=t.displayName,y.countryCode=n[0],y.regionCode=parseInt(n[1],10),y.placeCode=t.placeCode,y.isPositionModified=!0,w.hideInputMessage(w.ui.locationTypeahead)},o=function(e){delete y.countryCode,delete y.regionCode,delete y.placeCode,y.locationName=e.target.value,y.isPositionModified=!0};i.on(g.EVENTS.SELECTED,n),i.on(g.EVENTS.AUTOCOMPLETED,n),i.on("change",o)}},initTypeaheadInputs:function(){g&&f&&(this.initTitleTypeahead(),this.initCompanyTypeahead(),this.initLocationTypeahead())},onContinueWithNonStandardizedTitle:function(){this.hideNonStandardizedTitleConfirmation(),this.commitNewPosition()},onConfirmChangeTitle:function(){this.hideNonStandardizedTitleConfirmation(),this.ui.titleTypeahead.focus()},showNonStandardizedTitleConfirmation:function(){this.ui.confirmModal.addClass("visible").focus()},hideNonStandardizedTitleConfirmation:function(){this.ui.confirmModal.removeClass("visible")},showSubmissionIndicator:function(){this.ui.actionsContainer.addClass("hidden"),this.ui.submissionStatusContainer.removeClass("hidden")},hideSubmissionIndicator:function(){this.ui.submissionStatusContainer.addClass("hidden"),this.ui.actionsContainer.removeClass("hidden")},onSubmitNewPosition:function(e){var t=this,i=this.options.oldView,n=(this.model.get("midToken"),this.model.get("lixKeys").isSalaryCollectionEditTitlePageFirstEnabled);if(this.validateNewPosition()){var o=!y.isPositionModified&&!n,a=!y.isPositionModified&&n&&"baseSalaryView"===i;if(o||a)return void this.onBack();var s=new h({titleId:y.titleId,titleName:y.titleName,countryCode:y.countryCode,regionCode:y.regionCode});this.showSubmissionIndicator(),s.isCohortInsightsAvailable().done(function(e){y.isCohortInsightsAvailable=e.isCohortInsightsAvailable,e.isStandardTitle?(e.titleId&&(y.titleId=e.titleId),t.commitNewPosition()):t.showNonStandardizedTitleConfirmation()}).fail(function(e){y.isCohortInsightsAvailable=!1,y.titleId=null}).always(function(){t.hideSubmissionIndicator()})}},validateNewPosition:function(){var e=!0;return y.title||y.titleName||y.titleId?y.titleId&&y.isVagueTitle===!0?(this.showInputMessage(this.ui.titleTypeahead,c.get("errorVagueTitle")),e=!1):this.hideInputMessage(this.ui.titleTypeahead):(this.showInputMessage(this.ui.titleTypeahead,c.get("errorEmptyTitle")),e=!1),y.companyName||y.companyId?this.hideInputMessage(this.ui.companyTypeahead):(this.showInputMessage(this.ui.companyTypeahead,c.get("errorEmptyCompany")),e=!1),y.locationName||y.countryCode&&y.regionCode&&y.placeCode?y.locationName&&!y.placeCode?(this.showInputMessage(this.ui.locationTypeahead,c.get("errorNonStandardizedLocation")),e=!1):this.hideInputMessage(this.ui.locationTypeahead):(this.showInputMessage(this.ui.locationTypeahead,c.get("errorEmptyLocation")),e=!1),e},commitNewPosition:function(){this.hideSubmissionIndicator(),!this.model.get("member").positions||this.model.get("member").positions.length<=0?this.model.get("member").positions=[y]:this.model.get("member").positions[0]=y,this.ui.confirmModal.removeClass("visible"),this.handleTransitionToNextView()},handleTransitionToNextView:function(){var e=(this.model.get("midToken"),this.model.get("lixKeys").isSalaryCollectionEditTitlePageFirstEnabled);if(y.isCohortInsightsAvailable){this.model.set("hasInsightsForCurrentPosition",!0);var t="next";"baseSalaryView"===this.options.oldView&&(t="back"),this.triggerMethod("change:view",{direction:t,newView:"baseSalaryView"})}else{this.model.set("hasInsightsForCurrentPosition",!1);var i="noCohortInsightsView";e&&(i="earlyBirdView"),this.triggerMethod("change:view",{direction:"next",newView:i})}},onShow:function(){this.initNewPosition(),this.initTypeaheadInputs()},onBack:function(e){this.model.get("midToken");m.prototype.onBack.call(this,e)}})}),define("app/views/salary/yearsOfExperienceView",["exports","module","marionette","backbone","radio","app/behaviors/tracking","app/services/tracking","app/services/loader","app/views/shared/loaderView","app/behaviors/linkTo","app/helpers/modalHelper","app/views/salary/errorMessageView","i18n","jquery"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h){"use strict";var m=function(e){return e&&e.__esModule?e["default"]:e},g=m(i),f=m(n),v=m(o),b=m(a),y=m(r),w=m(l),_=m(d),C=m(u),k=m(p),x=m(h),S="/salary/insights",M="post",T="error-modal";t.exports=g.ItemView.extend({template:"templates/partial/salary/years_of_experience",className:"years-of-experience-container top-level-container",ui:{nextAction:".next-action",yoxSelect:".years-of-experience-select"},events:{"touchend @ui.nextAction":"handleNextAction","change @ui.yoxSelect":"handleYoxChange"},behaviors:{linkTo:{behaviorClass:_},tracking:{behaviorClass:b,pageTrackingKey:{"default":!0,pointerType:"touchend",page:"p_salary_yox"}}},onShow:function(){var e=this.model.get("yearsOfExperience");e&&this.ui.yoxSelect.find("option[value="+e+"]").attr("selected","selected")},handleYoxChange:function(e){var t=this.ui.yoxSelect.val();this.model.set("yearsOfExperience",t);var i=this.model.validateYearsOfExperience();null!==i?this.ui.nextAction.prop("disabled",!0):this.ui.nextAction.prop("disabled",!1)},handleNextAction:function(e){var t=this;null===this.model.validateYearsOfExperience()&&!function(){var e=y();e.show(new w({message:k.get("loaderInsightsAvailable")
}));var i=x(x.find('[name="csrfToken"]')).val();t.model.get("hasSuccessfullySubmitted")?v.channel("router").command("navigate",S):t.model.save(null,{validate:!1,dataType:"text",postingToServer:!0,beforeSend:function(e){e.setRequestHeader("Csrf-Token",i)},success:function(e){e.set("hasSuccessfullySubmitted",!0),v.channel("router").command("navigate",S)},error:function(i){e.hide(),t._showErrorModal(M)}})}()},_showErrorModal:function(e){c.showViewInModal({title:"",view:new C({model:new(f.Model.extend())({errorType:e,continueCommand:null})}),customClass:T}),x(".error-message-text").focus()}})}),define("app/views/salary/desktop/noCohortInsightsView",["exports","module","marionette","app/behaviors/tracking","radio"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=a(o),d="/salary/collection";t.exports=s.ItemView.extend({id:"no-cohort-insights-view-container",className:"form-view-container",template:"templates/partial/salary/desktop/no_insights_for_cohort",ui:{nextButton:"button.next-btn"},events:{"click @ui.nextButton":"onNext"},behaviors:{tracking:{behaviorClass:r,pageTrackingKey:{"default":!0,page:"d_salary_no_cohort_insights"}}},onNext:function(e){var t=this.model.get("lixKeys").isSalaryResponsiveDesktopEnabled,i=this.options.device.isMobile,n=this.model.get("midToken");return t||!i?void this.triggerMethod("change:view",{newView:"baseSalaryView",evt:e,direction:"next"}):void l.channel("router").command("navigate",""+d+"?midToken="+n)}})}),define("app/views/salary/multipleTitlesView",["exports","module","marionette","radio","app/behaviors/tracking","app/services/tracking","app/models/salary/cohort","jSecure","app/services/loader","app/views/shared/loaderView","app/behaviors/linkTo","jquery","app/services/rum"],function(e,t,i,n,o,a,s,r,l,d,c,u,p){"use strict";var h=function(e){return e&&e.__esModule?e["default"]:e},m=h(i),g=h(n),f=h(o),v=h(s),b=h(r),y=h(l),w=h(d),_=h(c),C=h(u),k="/salary/collection/no-insights",x="/salary/collection/base-salary";t.exports=m.ItemView.extend({template:"templates/partial/salary/multiple_standardized_titles",className:"multiple-titles-container top-level-container",ui:{titleBtns:".standardized-title-btn"},events:{"touchend @ui.titleBtns":"onTitleBtnClick"},behaviors:{tracking:{behaviorClass:f,pageTrackingKey:{"default":!0,page:"p_salary_mult_titles",pointerType:"touchend"}},linkTo:{behaviorClass:_}},initialize:function(){this.loader=y()},onShow:function(){p.rumRenderComplete()},onTitleBtnClick:function(e){var t=this,i=C(e.target),n=b.htmlEncode(i.text()).trim(),o=i.data("titleId"),a=this.model.get("member"),s=a.positions[0],r=a.location.countryCode,l=this.model.get("midToken"),d=Number(a.location.region.split(":")[1]),c=new v({titleId:o,titleName:n,countryCode:r,regionCode:d});this.loader.show(new w),s.standardizedTitle=n,s.isStandardizedTitleChanged=!0,s.title="urn:li:title:"+o,s.hasInsightsAvailable=!1,c.isCohortInsightsAvailable().then(function(e){return e.isCohortInsightsAvailable?(s.hasInsightsAvailable=!0,void g.channel("router").command("navigate",""+x+"?midToken="+l)):void g.channel("router").command("navigate",""+k+"?midToken="+l)}).always(function(){t.loader.hide()})}})}),define("app/models/insightsHeaderFooter",["exports","module","backbone"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.Model.extend({defaults:{currentPageIndex:null,hasAdditionalComp:!1,hasSimilarRegions:!1,hasSimilarTitles:!1}})}),define("app/models/salary/insight",["exports","module","backbone","i18n","underscore","app/utils/validation/currencyFormatData"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(o),c=s(a);t.exports=r.Model.extend({defaults:{apiType:"moneyType",locale:"en_US",currencyFormat:null},parse:function(e){var t=e.type,i=e.percentiles,n=e.confidenceScore,o=e.compensationPeriod,a=e.apiType,s=e.estimationType,r=e.validEntries,l={type:t,percentiles:i,confidenceScore:n,compensationPeriod:o,estimationType:s,validEntries:r};a&&a!==this.get("apiType")&&this.set("apiType",a),l.compDisplayString=this.getCompDisplayString(t),l.compensationPeriodShort=this.getCompPeriodShort(o),l.currencyCode=this.getCurrencyCode(e),this.set("currencyFormat",c.getCurrencyFormat(l.currencyCode,this.get("locale"))),d.extend(l,this.getInsightNumberFloats(e)),d.extend(l,this.getInsightNumberStrings(l)),d.extend(l,this.getInsightFuzzyNumbers(l)),l.medianPercentage=this.getMedianPercentage(l),this.set(l)},getCompDisplayString:function(e){var t={BASE_SALARY:l.get("baseSalary"),SIGNON_BONUS:l.get("signonBonus"),BONUS:l.get("annualBonus"),STOCK:l.get("rsu"),STOCK_OPTIONS:l.get("stockOptions"),COMMISSION:l.get("salesCommission"),TIPS:l.get("tips"),TOTAL:l.get("totalSalary")};return t[e]},getCompPeriodShort:function(e){var t=l.get("yearlyShort");return"MONTHLY"===e?t=l.get("monthlyShort"):"HOURLY"===e&&(t=l.get("hourlyShort")),t},fuzzyFormatNumber:function(e){for(var t=void 0===arguments[1]?0:arguments[1],i=String(e),n=Math.pow(10,t),o=[l.get("K"),l.get("M")],a=this.get("currencyFormat"),s=a.currencySymbolFormatted,r=a.currencySymbolLoc,d=a.decimalMark,c=o.length-1;c>=0;c--){var u=Math.pow(10,3*(c+1));if(e>=u){var p=Math.round(e*n/u)/n,h=String(p).replace(".",function(){return d});i=""+h+o[c]}}return i="beg"===r?""+s+i:""+i+s},getCurrencyCode:function(e){return e.median.currencyCode},getInsightNumberStrings:function(e){var t=e.median,i=e.min,n=e.max,o=e.compensationPeriod,a=this.get("currencyFormat"),s=0,r=t,l=i,d=n;return"HOURLY"===o&&(s=null),r=a.format(t,{decimalPlaces:s}),d=a.format(n,{decimalPlaces:s}),l=a.format(i,{decimalPlaces:s}),{medianString:r,minString:l,maxString:d}},getInsightNumberFloats:function(e){var t=null,i=null,n=null;return"moneyType"===this.get("apiType")?(t=e.median.amount,i=e.lowEnd.amount,n=e.highEnd.amount):(t=e.median,i=e.lowEnd,n=e.highEnd),{median:parseFloat(t).toFixed(2),min:parseFloat(i).toFixed(2),max:parseFloat(n).toFixed(2)}},getInsightFuzzyNumbers:function(e){var t=e.median,i=e.min,n=e.max;return{medianShort:this.fuzzyFormatNumber(t,1),minShort:this.fuzzyFormatNumber(i,1),maxShort:this.fuzzyFormatNumber(n,1)}},getMedianPercentage:function(e){var t=e.median,i=e.min,n=e.max,o=(t-i)/(n-i)*100;return Math.round(100*o)/100},findPercentile:function(e,t){e=e||"base",t=t||this.get("memberSalary");var i={base:this.get("insights").baseSalary.percentiles,total:this.get("insights").totalSalary.percentiles},n=i[e];n.sort(function(e,t){return e.percentile-t.percentile});for(var o in n){var a=n[o],s=a.percentile;if(o===n.length-1)return s;if(t<=a.amount)return s}}})}),define("app/models/salary/insights",["exports","module","app/models/endpointModel","app/models/salary/member","app/models/salary/insight","underscore","i18n"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=r(a),p=r(s),h="com.linkedin.salaryrelevance.IndividualCompensationStatistics",m="com.linkedin.salaryrelevance.IndividualNonMonetaryCompensationStatistics",g="totalCompensationStatistics";t.exports=l.extend({defaults:{locale:"en_US"},initialize:function(){this.set("locale",p.getLocale().value)},url:function(){var e=this.getUrlParam("midToken");return play.url({alias:"controllers.salary.SalaryApiController.insights",arg0:e})},parse:function(e){if(!e.decoratedInsights||!e.decoratedInsights.insight||!e.decoratedInsights.insight.insights)return e;var t={};t.hasInsights=!0;var i=e.decoratedInsights.insight;u.extend(t,this.getformattedTitleLocation(i)),t.granularity=this.getInsightGranularity(i.insights);var n=this.findInsightObjects(i.insights);u.extend(t,this.getCohortInsights(n)),u.extend(t,this.getInsightCompensationPeriod(t));var o=e.decoratedInsights.insightsForSimilarRegions;return o&&o.length>0&&(t.similarRegions=this.getRelatedInsightsData(o)),t},getInsightData:function(e){var t=new c({locale:this.get("locale")});return t.parse(e),t.toJSON()},getCohortInsights:function(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i],o=this.getInsightData(n),a=o.type;if("STOCK_OPTIONS"===a)continue;"BASE_SALARY"!==a&&"TOTAL"!==a?(t.additionalComp||(t.additionalComp=[]),t.additionalComp.push(o)):t[a]=o}return t},getRelatedInsightsData:function(e){var t=[];for(var i in e)if(e.hasOwnProperty(i)){var n=e[i],o=this.findInsightObject(n.insights,"BASE_SALARY");if(o){var a=this.getInsightData(o);u.extend(a,this.getformattedTitleLocation(n)),t.push(a)}}return t},findInsightObjects:function(e){var t={},i=e.compensationBreakdownStatistics;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n],a=this.getInsightInMoneyTypeObject(o);if(a){var s=a.type;t[s]=a}}var r=e[g];return r&&(t[r.type]=r),t},findInsightObject:function(e,t){var i=null;if("TOTAL"===t)return i=e[g];var n=e.compensationBreakdownStatistics;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o],s=this.getInsightInMoneyTypeObject(a);if(s&&s.type===t){i=s;break}}return i},getInsightInMoneyTypeObject:function(e){var t=null;return e[h]?t=e[h]:e[m]&&(t=e[m],t.apiType="nonMoneyType"),t},getformattedTitleLocation:function(e){var t=e.formattedLocation,i=e.formattedTitle;return{formattedLocation:t,formattedTitle:i}},getInsightCompensationPeriod:function(e){var t=e.BASE_SALARY.compensationPeriod;t.toUpperCase(),"YEARLY"===t&&(t="ANNUAL");var i=t.charAt(0)+t.slice(1).toLowerCase(),n=i.toLowerCase();return{insightsCompPeriodCapitalized:i,insightsCompPeriodLowerCase:n}},getInsightGranularity:function(e){var t=e.key,i=null;return t?i=t.regionCode?"titleRegion":"titleCountry":i},fetch:function(e){var t=this,i=new d;return l.prototype.fetch.call(this,e).then(function(){return i.fetch({setError:!0})}).then(function(){t.set("member",i.attributes)})},isNotAuthenticated:function(){return this.checkForError(401)},midDoesntMatchedLoggedIn:function(){return this.checkForError(403)},checkForError:function(e){var t=!1,i=this.get("_error");return i?(i.status===e&&(t=!0),t):t}})}),define("app/controllers/salary/mobileController",["exports","module","app/controllers/salary/salaryController","app/utils/urlParams","radio","backbone","app/services/loader","i18n","app/views/salary/navigationView","app/views/salary/earlyBirdView","app/views/salary/earlyBirdThankYouView","app/views/salary/baseSalaryView","app/views/salary/additionalCompensationChooserView","app/views/salary/openingInsightsView","app/views/salary/additionalCompInsightsView","app/views/salary/closingInsightsView","app/views/salary/rangesInsightsView","app/views/salary/relatedLocationsInsightsView","app/views/salary/relatedPositionsInsightsView","app/views/salary/insightsHeaderView","app/views/salary/insightsFooterView","app/views/salary/notReadyView","app/views/shared/loaderView","app/views/salary/desktop/editJobTitleView","app/views/salary/yearsOfExperienceView","app/views/salary/desktop/noCohortInsightsView","app/views/salary/multipleTitlesView","app/models/insightsHeaderFooter","app/models/salary/insights"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g,f,v,b,y,w,_,C,k,x,S,M,T,I){"use strict";var E=function(e){return e&&e.__esModule?e["default"]:e},A=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},P=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),R=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},j=E(i),V=E(o),L=E(a),B=E(s),D=E(r),F=E(l),N=E(d),O=E(c),H=E(u),J=E(p),U=(E(h),E(m)),z=E(g),q=E(f),$=E(v),K=E(b),W=E(y),G=E(w),Y=E(_),Q=E(C),X=E(k),Z=E(x),ee=E(S),te=E(M),ie=E(T),ne=E(I),oe=!1,ae=!1,se=!1,re=!1,le=!1,de=!1,ce=!1,ue=!1,pe=null,he="/salary/insights",me="/salary/collection/not-ready",ge="/salary/collection/early-bird",fe=function(e){function t(){A(this,t),null!=e&&e.apply(this,arguments)}return R(t,e),P(t,[{key:"collectionAuth",value:function(e){var t=this;if(this.compensationModel.get("hasSuccessfullySubmitted"))return void V.channel("router").command("navigate",he);if(de)return void this.collection(e);var i=n.getUrlParam("midToken");this.establishContext().then(function(){if(t.memberModel.isNotAuthenticated())return void V.channel("router").command("navigate",he);if(t.memberModel.midDoesntMatchedLoggedIn())return L.history.navigate(""+me+"?midToken="+i,{trigger:!1}),void t.collection("not-ready");if(t.submissionHistoryModel.hasSubmitted())return void V.channel("router").command("navigate",he);if(de=!0,t.memberModel.doesPositionMatchMultipleTitles())return void t.collection("multiple-titles");var n=t.compensationModel.get("member").positions[0];return void(t.insightsAvailableModel.areInsightsAvailable()?(n.hasInsightsAvailable=!0,t.collection(e)):(n.hasInsightsAvailable=!1,L.history.navigate(""+ge+"?midToken="+i,{trigger:!1}),t.collection("early-bird")))})}},{key:"collection",value:function(e){var t=!this.navigationView||this.navigationView.isDestroyed,i=-1===["earlyBird","not-ready","multiple-titles"].indexOf(e);switch(t&&i&&(this.navigationView=new F({model:this.compensationModel})),e){case"early-bird":this._app.layout.getRegion("navigationRegion").show(new W({model:this.compensationModel})),this._app.layout.getRegion("footerRegion").empty(),this._app.layout.getRegion("contentRegion").show(new N({model:this.compensationModel}));break;case"multiple-titles":this._app.layout.getRegion("navigationRegion").show(new W({model:this.compensationModel})),this._app.layout.getRegion("footerRegion").empty(),this._app.layout.getRegion("contentRegion").show(new te({model:this.compensationModel}));break;case"base-salary":default:this._app.layout.getRegion("navigationRegion").show(this.navigationView),oe=!0,se&&(this._app.layout.getRegion("footerRegion").empty(),se=!1),this._app.layout.getRegion("contentRegion").show(new H({model:this.compensationModel})),this.compensationModel.set("currentPage","base");break;case"additional-comp":this._app.layout.getRegion("navigationRegion").show(this.navigationView),oe=!0,se&&(this._app.layout.getRegion("footerRegion").empty(),se=!1),this._app.layout.getRegion("contentRegion").show(new J({model:this.compensationModel})),this.compensationModel.set("currentPage","additional"),re=!0;break;case"years-of-experience":this.compensationModel.get("lixKeys").isYearsOfExperienceEnabled&&(this._app.layout.getRegion("navigationRegion").show(this.navigationView),oe=!0,se&&(this._app.layout.getRegion("footerRegion").empty(),se=!1),this._app.layout.getRegion("contentRegion").show(new Z({model:this.compensationModel})),le=!0);break;case"not-ready":this._app.layout.getRegion("navigationRegion").show(new W({model:this.compensationModel})),this._app.layout.getRegion("footerRegion").empty(),this._app.layout.getRegion("contentRegion").show(new Y({model:this.compensationModel}));break;case"edit-title":this._app.layout.getRegion("navigationRegion").show(this.navigationView),oe=!0,se&&(this._app.layout.getRegion("footerRegion").empty(),se=!1),this._app.layout.getRegion("contentRegion").show(new X({model:new L.Model({member:this.memberModel.attributes,midToken:n.getUrlParam("midToken"),lixKeys:this.lixKeys}),areInsightsAvailable:this.insightsAvailableModel.areInsightsAvailable(),previousView:pe,device:this.device})),this.compensationModel.set("currentPage","base");break;case"no-insights":this._app.layout.getRegion("navigationRegion").show(this.navigationView),oe=!0,se&&(this._app.layout.getRegion("footerRegion").empty(),se=!1),this._app.layout.getRegion("contentRegion").show(new ee({model:new L.Model({member:this.memberModel.attributes,midToken:n.getUrlParam("midToken"),lixKeys:this.lixKeys}),device:this.device})),this.compensationModel.set("currentPage","base")}pe=e}},{key:"insightsAuth",value:function(e){var t=this,i=B(),n=this.compensationModel.get("lixKeys").isYearsOfExperienceEnabled?le:re,o=this.compensationModel.get("hasSuccessfullySubmitted"),a=n&&o;return(ce||a)&&this.insightsModel?void this.insights(e):(i.isShowing()||i.show(new Q({message:D.get("loaderInsightsAvailable")})),void this.establishContext(!a,{fetchInsightsAvailable:!1}).then(function(){return t.insightsModel=new ne({lixKeys:t.lixKeys}),t.insightsModel.fetch({setError:!0})}).then(function(){if(i.hide(),t.insightsModel.isNotAuthenticated())return void(window.location=t.redirectUrl);if(t.insightsModel.midDoesntMatchedLoggedIn())return L.history.navigate(me,{trigger:!1}),void t.collection("not-ready");if(t.submissionHistoryModel.hasSubmitted()||a){if(t.insightsModel.get("hasInsights"))return ce=!0,t.insightsHeaderFooterModel||(t.insightsHeaderFooterModel=new ie({lixKeys:t.lixKeys,baseSalaryEstimationType:t.insightsModel.get("BASE_SALARY").estimationType})),ue||t._checkForOptionalInsights(t.insightsModel),void t.insights(e);L.history.navigate(ge,{trigger:!1}),t.insights("early-bird")}else L.history.navigate(me,{trigger:!1}),t.collection("not-ready")}))}},{key:"insights",value:function(e){var t=B();t.isShowing()&&t.hide(),ae||(this._app.layout.getRegion("navigationRegion").show(new W({model:this.compensationModel})),ae=!0,oe=!1),se||(this._app.layout.getRegion("footerRegion").show(new G({model:this.insightsHeaderFooterModel})),se=!0),this._renderInsightsPage(e,this.insightsModel)}},{key:"_renderInsightsPage",value:function(e,t){switch(e){case"ranges":case"opening-insights":default:this.insightsHeaderFooterModel.set("currentPageIndex",0),this._app.layout.getRegion("contentRegion").show(new q({model:t}));break;case"total-comp":this.insightsHeaderFooterModel.set("currentPageIndex",1),this._app.layout.getRegion("contentRegion").show(new U({model:t}));break;case"related-locations":this.insightsHeaderFooterModel.set("currentPageIndex",2),this._app.layout.getRegion("contentRegion").show(new $({model:t}));break;case"related-positions":this.insightsHeaderFooterModel.set("currentPageIndex",3),this._app.layout.getRegion("contentRegion").show(new K({model:t}));break;case"closing":this.insightsHeaderFooterModel.set("currentPageIndex",4),this._app.layout.getRegion("contentRegion").show(new z({model:t}));break;case"early-bird":this._app.layout.getRegion("footerRegion").empty(),this._app.layout.getRegion("contentRegion").show(new O)}}},{key:"_checkForOptionalInsights",value:function(e){e.get("additionalComp")&&this.insightsHeaderFooterModel.set("hasAdditionalComp",!0),e.get("similarRegions")&&this.insightsHeaderFooterModel.set("hasSimilarRegions",!0),e.get("similarTitles")&&this.insightsHeaderFooterModel.set("hasSimilarTitles",!0),ue=!0}}]),t}(j);t.exports=fe}),define("app/utils/whichEvent",["exports"],function(e){"use strict";function t(){var e=void 0===arguments[0]?"transition":arguments[0],t=o,i=document.createElement("fakeelement");"animation"===e&&(t=a);for(var n in t)if(void 0!==i.style[n])return t[n]}function i(){return t("animation")}function n(){return t("transition")}e.whichAnimationEvent=i,e.whichTransitionEvent=n;var o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},a={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};Object.defineProperty(e,"__esModule",{value:!0})}),define("app/views/salary/desktop/earlyBirdView",["exports","module","app/views/salary/desktop/collectionFormView","app/behaviors/tracking","app/services/rum"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n);t.exports=s.extend({id:"early-bird-view-container",template:"templates/partial/salary/desktop/collection_early_bird",behaviors:{tracking:{behaviorClass:r,pageTrackingKey:{"default":!0,page:"d_salary_preview"}}},onShow:function(){o.rumRenderComplete()}})}),define("app/utils/elementSelection",["exports"],function(e){"use strict";function t(e){var t={};return t.start=e.selectionStart,t.end=e.selectionEnd,t.length=t.end-t.start,t}function i(e,t,i){e.selectionStart=t,e.selectionEnd=i}e.getElementSelection=t,e.setElementSelection=i,Object.defineProperty(e,"__esModule",{value:!0})}),define("app/views/salary/desktop/salaryInputView",["exports","module","app/views/salary/desktop/collectionFormView","i18n","jSecure","jquery","app/utils/elementSelection"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=r(a),p=d.get("errorRequired"),h=d.get("errorOnlyNumbers"),m=d.get("errorRange"),g="comp-amount",f=".salary-input-box",v=8,b=46,y=13,w=67;t.exports=l.extend({ui:_.extend({},l.prototype.ui,{freqSelectors:".freq-select",compAmounts:"."+g,compNames:".comp-name",requiredInputs:".comp-amount, .comp-name"}),events:_.extend({},l.prototype.events,{"input @ui.compNames":"onCompNameInput","change @ui.freqSelectors":"onChangeCompFreq","keyup input":"onInputKeyup","keypress @ui.compAmounts":"onCompAmountKeypress","keydown @ui.compAmounts":"onCompAmountKeydown","input @ui.compAmounts":"onCompAmountInput"}),onShow:function(){this.setCompFreqValues()},getCompModel:function(e){var t=e.data("compType");return this.model.get("compensations")[t]},onCompNameInput:function(e){var t=this.$el.find(e.target),i=this.getCompModel(t),n=c.htmlEncode(t.val().trim());i.set("compName",n),n.length&&this.hideInputMessage(t)},onNext:function(e){var t=this.areCompInputsValid(),i=this.areRequiredInputsFilledIn();if(t&&i)return void l.prototype.onNext.call(this,e);var n=this.$el.find(""+f+".error input").first();n.focus()},areCompInputsValid:function(){var e=this,t=!0;return this.ui.compAmounts.each(function(i,n){var o=u(n),a=e.getCompModel(o);a.validateModel().isValid||(e.showInputMessage(o,h),t=!1)}),t},areRequiredInputsFilledIn:function(){var e=this,t=!0;return this.ui.requiredInputs.each(function(i,n){var o=u(n),a=c.htmlEncode(o.val()).trim(),s=o.hasClass("comp-amount");if(0===a.length&&(t=!1,e.showInputMessage(o,p)),s){var r=e.getCompModel(o),l=r.get("amount");0===Number(l)&&(t=!1,e.showInputMessage(o,p))}}),t},onChangeCompFreq:function(e){var t=u(e.target),i=t.val(),n=this.getCompModel(t),o=n.get("type"),a=this.$el.find("."+g+'[data-comp-type="'+o+'"]');n.set({compensationPeriod:i}),a.val().length&&this.updateLogicalError(a)},setCompFreqValues:function(){var e=this,t=this.ui.freqSelectors;t.each(function(t,i){var n=u(i),o=e.getCompModel(n),a=o.get("compensationPeriod");n.val(a)})},updateLogicalError:function(e){var t=this.getCompModel(e),i=Number(t.get("amount"));t.checkRangeErrors();var n=t.get("hasLogicalError");return n&&i?void this.showInputMessage(e,m,!0):void this.hideInputMessage(e)},updateCompAmounts:function(){var e=this;this.ui.compAmounts.each(function(t,i){var n=u(i),o=e.getCompModel(n),a=o.get("formattedAmount");null!==a&&e.injectFormattedAmount(n,o.get("formattedAmount"))})},onInputKeyup:function(e){e.which===y&&this.onNext(e)},onCompAmountKeydown:function(e){var t=u(e.target),i=e.which,n=e.ctrlKey||e.metaKey;(i===b||i===v)&&this.handleDeletions(e),!n&&i!==w&&this.isCursorInsideCurrencySymbol(t)&&this.moveCursorAwayFromCurrSymbol(t)},handleDeletions:function(e){var t=u(e.target),i=e.which,n=this.model.get("currencyFormat"),o=n.currencySymbolLoc,a=this.getCursorRelativeToNearestDelimiter(t);if(this.isEntireFieldSelected(t))return e.preventDefault(),this.clearCompAmount(t),void this.moveCursorAwayFromCurrSymbol(t);if(a){var r=s.getElementSelection(t[0]).start;"after"===a&&i===v?r--:"before"===a&&i===b&&r++,s.setElementSelection(t[0],r,r)}this.isCursorInsideCurrencySymbol(t)&&this.moveCursorAwayFromCurrSymbol(t),this.isCursorOnCurrencySymbolEdge(t)&&(i===v&&"beg"===o||i===b&&"end"===o)&&e.preventDefault()},onCompAmountInput:function(e){var t=u(e.target),i=this.getCompModel(t),n=this.model.get("currencyFormat"),o=n.decimalPlaces,a=c.htmlEncode(t.val().trim()),s=n.toUnformattedNumberString(a),r=s.split("."),l=r[1],d=0,p=!0,h=!0,m=!1;if(l){d=l.length;var g=s.indexOf(".")+o+1;s=s.slice(0,g)}r.length>2&&(s=""+r[0]+"."+r[1]);var f=n.format(s,{decimalPlaces:d,trailingDecimalMark:h,autoLeadZero:p});(0!==o&&"."===s||i.isAmountValid(String(Number(s))))&&(m=!0),""===s?this.clearCompAmount(t):i.isAmountValid(s)?(i.set("amount",s),i.set("formattedAmount",f),this.injectFormattedAmount(t,f),this.updateLogicalError(t)):m?this.injectFormattedAmount(t,f):this.clearCompAmount(t)},injectFormattedAmount:function(e,t){var i=c.htmlEncode(e.val().trim()),n=s.getElementSelection(e[0]),o=this.model.get("currencyFormat").currencySymbolLoc,a=0;(i||""===i)&&(a=t.length-i.length,"beg"===o&&this.isCursorOnCurrencySymbolEdge(e)&&(a=0));var r=n.end+a;e.val(t),s.setElementSelection(e[0],r,r)},moveCursorAwayFromCurrSymbol:function(e){var t=this.model.get("currencyFormat"),i=t.currencySymbolFormatted,n=t.currencySymbolLoc,o=c.htmlEncode(e.val()),a=o.indexOf(i),r=a+i.length,l=a;"beg"===n&&(l=r),s.setElementSelection(e[0],l,l)},isCursorOnCurrencySymbol:function(e){var t=this.model.get("currencyFormat"),i=t.currencySymbolFormatted,n=c.htmlEncode(e.val()),o=s.getElementSelection(e[0]),a=o.start,r=o.end,l=n.indexOf(i),d=l+i.length;return r>=l&&d>=r||a>=l&&d>=a?!0:!1},isCursorInsideCurrencySymbol:function(e){var t=this.model.get("currencyFormat"),i=t.currencySymbolFormatted,n=t.currencySymbolLoc,o=c.htmlEncode(e.val()),a=s.getElementSelection(e[0]),r=a.start,l=a.end,d=o.indexOf(i),u=d+i.length;return"beg"===n?l>=d&&u>l||r>=d&&u>r?!0:!1:l>d&&u>=l||r>d&&u>=r?!0:!1},isCursorOnCurrencySymbolEdge:function(e){var t=this.model.get("currencyFormat"),i=t.currencySymbolFormatted,n=t.currencySymbolLoc,o=c.htmlEncode(e.val()),a=s.getElementSelection(e[0]),r=a.start,l=o.indexOf(i),d=l+i.length;return a.length?!1:"beg"===n&&r===d?!0:"end"===n&&r===l?!0:!1},getCursorRelativeToNearestDelimiter:function(e){var t=c.htmlEncode(e.val()).replace(/\s/g," "),i=this.model.get("currencyFormat").delimiter,n=s.getElementSelection(e[0]),o=n.start,a=t.charAt(o-1),r=t.charAt(o);return n.length?null:a===i?"after":r===i?"before":null},isEntireFieldSelected:function(e){var t=c.htmlEncode(e.val()),i=s.getElementSelection(e[0]);return 0===i.start&&i.end===t.length?!0:!1},clearCompAmount:function(e){var t=this.getCompModel(e),i=this.model.get("currencyFormat").currencySymbolFormatted;t.set("amount",null),t.set("formattedAmount",null),this.updateLogicalError(e),e.val(i)},onSalaryInputFocus:function(e){var t=u(e.target),i=this.getCompModel(t),n=this.model.get("currencyFormat").currencySymbolFormatted;l.prototype.onSalaryInputFocus.call(this,e),t.hasClass(g)&&(Number(i.get("amount"))||t.val(n),this.moveCursorAwayFromCurrSymbol(t))},onSalaryInputBlur:function(e){var t=u(e.target),i=t.closest(f),n=this.getCompModel(t);t.hasClass(g)?(Number(n.get("amount"))||(t.val(""),i.removeAttr("data-floated-label")),i.removeAttr("data-form-elem-focus")):l.prototype.onSalaryInputBlur.call(this,e)}})}),define("app/views/salary/desktop/baseSalaryView",["exports","module","app/views/salary/desktop/salaryInputView","app/behaviors/tracking","app/services/rum"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l="defaultMode",d="enterNewTitleMode";t.exports=s.extend({id:"base-salary-view-container",template:"templates/partial/salary/desktop/collection_base_salary",behaviors:{trackingBehavior:{behaviorClass:r,pageTrackingKey:{"default":!0,page:"d_salary_base"}}},ui:_.extend({},s.prototype.ui,{editTitleTrigger:".edit-job-btn",currencySelector:"#currency-selector"}),events:_.extend({},s.prototype.events,{"click @ui.editTitleTrigger":"onEditTitleClick","change @ui.currencySelector":"onCurrencySelectorChange"}),onShow:function(){s.prototype.onShow.call(this),this.setCurrencySelectorValue(),o.rumRenderComplete()},setCurrencySelectorValue:function(){this.ui.currencySelector.val(this.model.get("currencyCode"))},onCurrencySelectorChange:function(){var e=this.ui.currencySelector.val();this.model.set("currencyCode",e),this.updateCompAmounts()},onEditTitleClick:function(e){var t=this.model.get("lixKeys").isSalaryCollectionEditTitlePageFirstEnabled;this.triggerMethod("change:view",{evt:e,direction:"next",newView:"editJobTitleView",oldView:"baseSalaryView",showBackButton:!0,headingTreatment:t?d:l,prefillTitleTypeahead:!0}),e.preventDefault()}})}),define("app/behaviors/modal",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.Behavior.extend({ui:{modal:".modal",trigger:".modal-trigger",dismissBtn:"button.dismiss"},events:{"click @ui.trigger":"onTriggerClick","click @ui.dismissBtn":"onDismissClick","click @ui.modal":"onModalClick","keyup @ui.modal":"onModalKeyup"},initialize:function(){this.openModal=null},closeModal:function(){var e=this.openModal.data("trigger"),t=s(this.$el.find("."+e));this.ui.modal.removeClass("visible"),t.focus(),this.openModal=null},onTriggerClick:function(e){var t=s(e.target),i=t.data("modal"),n=s(this.$el.find("."+i));this.openModal=n,n.addClass("visible"),n.focus()},onModalKeyup:function(e){27===e.keyCode&&this.closeModal()},onModalClick:function(e){var t=Boolean(s(e.target).closest('div[role="document"]').length);t||this.closeModal()},onDismissClick:function(){this.closeModal()}})}),define("app/views/salary/desktop/additionalCompChooserView",["exports","module","app/views/salary/desktop/collectionFormView","app/behaviors/tracking","app/behaviors/modal","jquery"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(o),c=s(a);t.exports=r.extend({id:"additional-comp-chooser-container",template:"templates/partial/salary/desktop/additional_comp_chooser",ui:_.extend({},r.prototype.ui,{checkBox:"#additional-comp-checkbox",pills:".additional-comp-pills-container input"}),events:_.extend({},r.prototype.events,{"click @ui.checkBox":"onCheckboxClick","click @ui.pills":"onPillClick"}),behaviors:{tracking:{behaviorClass:l,pageTrackingKey:{"default":!0,page:"d_salary_additional_select"}},modal:{behaviorClass:d}},onShow:function(){this.updateNextBtn(),this.triggerMethod("checkbox:click")},onCheckboxClick:function(){var e=this.ui.checkBox.prop("checked");e?(this.changePillsDisabledState("disabled"),this.model.set("indicatedNoAdditionalComp",!0),this.isYearsOfExperienceEnabled||this.changeNextBtnAction("insights")):(this.changePillsDisabledState("enabled"),this.model.set("indicatedNoAdditionalComp",!1),this.isYearsOfExperienceEnabled||this.changeNextBtnAction("next")),this.updateNextBtn()},onPillClick:function(e){var t=c(e.currentTarget);this.togglePillState(t)},changePillIcon:function(e,t){e.siblings("label").find("li-icon").attr("type",t)},togglePillState:function(e){var t=e.attr("data-value");e.prop("checked")?(this.changePillIcon(e,"check-icon"),this.setPillSelectedState(t,"selected")):(this.changePillIcon(e,"plus-icon"),this.setPillSelectedState(t,"deselected")),this.updateNextBtn()},setPillSelectedState:function(e){var t=void 0===arguments[1]?"selected":arguments[1],i=this.model.get("compensations")[e];i.set("selected","deselected"!==t)},updateNextBtn:function(){this.isNextAllowed=!0;var e=this.getCheckedPills().length>0,t=this.ui.checkBox.prop("checked");e||t||(this.isNextAllowed=!1),r.prototype.updateNextBtn.call(this)},getCheckedPills:function(){return this.$el.find(".additional-comp-pills-container input:checked")},deselectCheckedPills:function(){var e=this,t=this.getCheckedPills();t.each(function(t,i){var n=i.getAttribute("data-value");e.setPillSelectedState(n,"deselected")})},changePillsDisabledState:function(){var e=void 0===arguments[0]?"disabled":arguments[0],t=!0;"enabled"===e&&(t=!1),this.ui.pills.each(function(e,i){var n=c(i);n.prop("disabled",t)})},onNext:function(e){this.model.get("indicatedNoAdditionalComp")===!0&&this.deselectCheckedPills(),r.prototype.onNext.call(this,e);
}})}),define("app/views/salary/desktop/additionalCompInputView",["exports","module","jquery","app/views/salary/desktop/salaryInputView","app/behaviors/tracking","app/utils/whichEvent"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(o),c=944,u=414,p="active",h="showing",m="hiding",g="show",f="hide",v="toggle",b="child:activate:overlay",y="#collection-layout";t.exports=l.extend({id:"additional-comp-input-view",template:"templates/partial/salary/desktop/additional_comp_input",behaviors:{trackingBehavior:{behaviorClass:d,pageTrackingKey:{"default":!0,page:"d_salary_additional_entry"}}},ui:_.extend({},l.prototype.ui,{helpButton:"button.help-btn",helpHovercard:".help-btn-hovercard"}),events:_.extend({},l.prototype.events,{"click @ui.helpButton":"onHelpClick","mouseover @ui.helpButton":"onHelpMouseOver","focus @ui.helpButton":"onHelpClick","blur @ui.helpButton":"onHelpLeave","mouseleave @ui.helpButton":"onHelpLeave"}),initialize:function(){var e=this;l.prototype.initialize.call(this),this.viewportWidth=window.innerWidth,r(r.find(y)).on("click.salary",function(t){e.onBodyClick(t)})},onBodyClick:function(e){var t=this,i=r(e.target);i.closest(".help-btn").length||this.ui.helpButton.each(function(e,i){var n=r(i);t.updateHovercardState(n,f)})},onShow:function(){var e=this,t=a.whichTransitionEvent();l.prototype.onShow.call(this),this.isYearsOfExperienceEnabled||this.model.get("compensations").OTHER.get("selected")||this.changeNextBtnAction("insights"),this.ui.helpHovercard.on(t,function(t){var i=r(t.currentTarget);i.hasClass(p)?i.removeClass(h):(e.viewportWidth>c&&e.resetHovercardPosition(i),i.removeClass(m))})},onDestroy:function(){r(r.find(y)).off("click.salary")},onHelpClick:function(e){var t=r(e.currentTarget);this.updateHovercardState(t,v)},onHelpMouseOver:function(e){var t=r(e.currentTarget);return this.viewportWidth<=u?!1:void this.updateHovercardState(t,g)},onHelpLeave:function(e){var t=r(e.currentTarget);this.viewportWidth<=u&&this.triggerMethod(b,!1),this.updateHovercardState(t,f)},getHovercardFromButton:function(e){var t=e.attr("aria-describedby");return this.$el.find("#"+t)},positionHovercardRight:function(e,t){var i=e.outerHeight(),n=e.offset().top+i/2,o=t.outerHeight(),a=t.offset().top+o/2,s=a-n;e.css("margin-top",s)},resetHovercardPosition:function(e){e.css("margin-top","")},updateHovercardState:function(e){var t=void 0===arguments[1]?g:arguments[1],i=this.getHovercardFromButton(e),n=t;if(n===v&&(n=i.hasClass(p)?f:g),n===g){if(i.hasClass(p)||i.hasClass(m))return;this.viewportWidth>c&&this.positionHovercardRight(i,e),i.addClass(h),i.addClass(p),this.viewportWidth<=u&&this.triggerMethod(b,!0)}else{if(!i.hasClass(p)||i.hasClass(h))return;i.addClass(m),i.removeClass(p),this.viewportWidth<=u&&this.triggerMethod(b,!1)}}})}),define("app/views/salary/desktop/otherAdditionalCompView",["exports","module","app/views/salary/desktop/salaryInputView","app/behaviors/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.extend({id:"other-additional-comp-container",template:"templates/partial/salary/desktop/other_additional_comp",behaviors:{trackingBehavior:{behaviorClass:s,pageTrackingKey:{"default":!0,page:"d_salary_additional_entry"}}},onShow:function(){a.prototype.onShow.call(this),this.isYearsOfExperienceEnabled||this.changeNextBtnAction("insights")}})}),define("app/views/salary/desktop/earlyBirdThankYouView",["exports","module","app/views/salary/desktop/collectionFormView","app/behaviors/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.extend({id:"early-bird-thank-you-container",template:"templates/partial/salary/desktop/early_bird_thank_you",behaviors:{tracking:{behaviorClass:s,pageTrackingKey:{"default":!0,page:"d_salary_wave1_thank_you"}}}})}),define("app/views/salary/desktop/multipleTitlesView",["exports","module","marionette","jSecure","jquery","app/behaviors/tracking","app/services/rum"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=r(a),p="defaultMode",h="selectedTitleMode",m="enterNewTitleMode",g="multiple-titles";t.exports=l.ItemView.extend({id:"multiple-titles-view-container",className:"form-view-container",template:"templates/partial/salary/desktop/multiple_titles",ui:{titleBtns:".standardized-title-btn",editTitleBtn:".enter-another-title"},events:{"click @ui.titleBtns":"onTitleBtnClick","click @ui.editTitleBtn":"onEditTitleBtnClick"},behaviors:{trackingBehavior:{behaviorClass:u,pageTrackingKey:{"default":!0,page:"d_salary_mult_titles"}}},onShow:function(){s.rumRenderComplete()},onTitleBtnClick:function(e){var t=c(e.target),i=d.htmlEncode(t.text()).trim(),n=t.data("titleId"),o=this.model.get("member"),a=o.positions[0],s=o.location.countryCode,r=this.model.get("lixKeys").isSalaryCollectionEditTitlePageFirstEnabled,l=null;l=a&&a.regionCode?a.regionCode:o.location.region?Number(o.location.region.split(":")[1]):null;var u={titleId:n,titleName:i,countryCode:s,regionCode:l};a.standardizedTitle=i,a.isStandardizedTitleChanged=!0,a.titleId=n,a.title="urn:li:title:"+n,this.triggerMethod("change:view",{evt:e,direction:"next",oldView:g,cohortData:u,headingTreatment:r?h:p,showBackButton:r?!1:!0})},onEditTitleBtnClick:function(e){var t=this.model.get("lixKeys").isSalaryCollectionEditTitlePageFirstEnabled;this.triggerMethod("change:view",{evt:e,direction:"next",oldView:g,newView:"editJobTitleView",headingTreatment:t?m:p,showBackButton:t?!1:!0,prefillTitleTypeahead:t?!1:!0})}})}),define("app/views/salary/desktop/valuePropsView",["exports","module","marionette","app/behaviors/tracking","app/behaviors/modal"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=a(o);t.exports=s.ItemView.extend({id:"value-props-container",template:"templates/partial/salary/desktop/collection_value_props",behaviors:{tracking:{behaviorClass:r,pageTrackingKey:{"default":!0,page:"D_salary_learn_more"}},modal:{behaviorClass:l}}})}),define("app/views/salary/desktop/yearsOfExperienceView",["exports","module","app/views/salary/desktop/collectionFormView","jSecure","app/behaviors/modal","app/behaviors/tracking"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(o),c=s(a);t.exports=r.extend({id:"years-of-experience-view-container",template:"templates/partial/salary/desktop/years_of_experience",behaviors:{trackingBehavior:{behaviorClass:c,pageTrackingKey:{"default":!0,page:"d_salary_yox"}},modal:{behaviorClass:d}},ui:_.extend({},r.prototype.ui,{yoxPicker:"#years-of-experience-picker",additionalInfo:".additional-information"}),events:_.extend({},r.prototype.events,{"change @ui.yoxPicker":"onYoxChange"}),initialize:function(e){r.prototype.initialize.call(this),"undefined"==typeof this.model.get("hasInsightsForCurrentPosition")&&this.model.set("hasInsightsForCurrentPosition",e.areInsightsAvailable)},onShow:function(){var e=this.model.get("yearsOfExperience");this.ui.yoxPicker.val(e),this.updateView()},onYoxChange:function(){var e=l.htmlEncode(this.ui.yoxPicker.val());this.model.set("yearsOfExperience",e),this.updateView()},updateView:function(){var e=this.model.validateYearsOfExperience();null!==e?this.isNextAllowed=!1:(this.isNextAllowed=!0,this.ui.additionalInfo.removeClass("hidden")),this.updateNextBtn()},onNext:function(e){this.triggerMethod("child:get:insights",e)}})}),define("app/views/salary/desktop/collectionFormLayoutView",["exports","module","marionette","radio","app/utils/whichEvent","jquery","i18n","app/helpers/alertHelper","app/views/salary/desktop/earlyBirdView","app/views/salary/desktop/baseSalaryView","app/views/salary/desktop/additionalCompChooserView","app/views/salary/desktop/additionalCompInputView","app/views/salary/desktop/otherAdditionalCompView","app/views/salary/desktop/earlyBirdThankYouView","app/views/salary/desktop/editJobTitleView","app/views/salary/desktop/noCohortInsightsView","app/views/salary/desktop/multipleTitlesView","app/views/salary/desktop/valuePropsView","app/views/salary/desktop/yearsOfExperienceView","app/services/loader","app/views/shared/loaderView","app/models/salary/cohort","jSecure"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g,f,v,b,y,w,C,k){"use strict";var x=function(e){return e&&e.__esModule?e["default"]:e},S=x(i),M=x(n),T=x(a),I=x(s),E=x(l),A=x(d),P=x(c),R=x(u),j=x(p),V=x(h),L=x(m),B=x(g),D=x(f),F=x(v),N=x(b),O=x(y),H=x(w),J=x(C),U=x(k),z=414;t.exports=S.LayoutView.extend({id:"collection-layout",template:"templates/partial/salary/desktop/collection",regions:{formRegionA:"#form-region-a",formRegionB:"#form-region-b",valuePropsRegion:"#value-props-region"},childEvents:{"child:get:insights":"onChildGetInsights","change:view":"onChildChangeView","child:activate:overlay":"onChildSetOverlayActive"},initialize:function(){this.areInsightsAvailable=this.options.areInsightsAvailable,this.device=this.options.device,this.lixKeys=this.options.lixKeys,this.hasMultipleTitles=this.options.hasMultipleTitles,this.childViews=this.childViewFactory(),this.shownViews=[],this.loader=O()},onChildSetOverlayActive:function(e,t){var i="overlay-active";t?this.$el.addClass(i):this.$el.removeClass(i)},isOtherOnlySelected:function(){var e=this.getSelectedComps();return 1!==e.length?!1:"OTHER"!==e[0].get("type")?!1:!0},getSelectedComps:function(){var e=this.model.get("compensations"),t=[];for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n.get("selected")&&n.get("isAdditionalCompType")&&t.push(n)}return t},onShow:function(){this.onChildChangeView(null,{}),this.showChildView("valuePropsRegion",new F)},addFocusToHeading:function(){this.$el.find(".collection-view-heading").focus()},childViewFactory:function(){var e={baseSalaryView:{view:A,timesShown:0},additionalCompChooserView:{view:P,timesShown:0},additionalCompInputView:{view:R,timesShown:0},otherAdditionalCompView:{view:j,timesShown:0},earlyBirdView:{view:E,timesShown:0},earlyBirdThankYouView:{view:V,timesShown:0},editJobTitleView:{view:L,timesShown:0},multipleTitlesView:{view:D,timesShown:0},noCohortInsightsView:{view:B,timesShown:0},loaderView:{view:H,timesShown:0},yearsOfExperienceView:{view:N,timesShown:0}};return e},viewFactory:function(e,t){var i={model:this.model,areInsightsAvailable:this.areInsightsAvailable,hasMultipleTitles:this.hasMultipleTitles,device:this.device};_.extend(i,t);var n=new e(i);return n},getNewView:function(e){var t=e.newView,i=e.direction,n=this.getRegionsScreenState().onScreen.currentView,o=new T.Deferred;if(t)o.resolve(t);else if(n){if("next"===i)return this.getNextView(n,e);o.resolve(this.getPreviousView(n))}else o.resolve(this.getStartingView());return o.promise()},getStartingView:function(){var e="baseSalaryView";return this.lixKeys.isSalaryCollectionEditTitlePageFirstEnabled?(e="editJobTitleView",this.options.insightsToCome?e="earlyBirdThankYouView":this.hasMultipleTitles&&(e="multipleTitlesView")):this.options.insightsToCome?e="earlyBirdThankYouView":this.hasMultipleTitles?e="multipleTitlesView":this.areInsightsAvailable||(e="earlyBirdView"),e},getNextViewAfterInsightsCheck:function(e){var t=this,i=e.cohortData,n=e.showLoaderView,o=new J(i);return this.loader.showManually(),n&&this.onChildChangeView(null,{newView:"loaderView"}),o.isCohortInsightsAvailable().then(function(e){var i="baseSalaryView";return t.areInsightsAvailable=!0,e.isCohortInsightsAvailable||(i="noCohortInsightsView",t.areInsightsAvailable=!1),t.loader.hide(),i})},getNextView:function(e,t){var i=new T.Deferred;if(e instanceof D&&this.lixKeys.isSalaryCollectionEditTitlePageFirstEnabled)i.resolve("editJobTitleView");else if(e instanceof D||e instanceof L)e instanceof D&&(t.showLoaderView=!0),this.getNextViewAfterInsightsCheck(t).then(function(e){i.resolve(e)});else if(e instanceof E)i.resolve("baseSalaryView");else if(e instanceof A)i.resolve("additionalCompChooserView");else if(e instanceof P){var n="additionalCompInputView";this.isOtherOnlySelected()?n="otherAdditionalCompView":0===this.getSelectedComps().length&&(n="yearsOfExperienceView"),i.resolve(n)}else if(e instanceof R){var n="yearsOfExperienceView";this.model.get("compensations").OTHER.get("selected")&&(n="otherAdditionalCompView"),i.resolve(n)}else i.resolve("yearsOfExperienceView");return i.promise()},getPreviousView:function(e){if(e instanceof P)return"baseSalaryView";if(e instanceof R)return"additionalCompChooserView";if(e instanceof j){var t="additionalCompInputView";return this.isOtherOnlySelected()&&(t="additionalCompChooserView"),t}if(e instanceof N){var t="otherAdditionalCompView";return 0===this.getSelectedComps().length?t="additionalCompChooserView":this.model.get("compensations").OTHER.get("selected")||(t="additionalCompInputView"),t}if(e instanceof L){var i=this.shownViews.length-2;return this.shownViews[i]}},updateValuePropsState:function(e){var t=this.getRegion("valuePropsRegion").$el.find("#value-props-container"),i=this.$el.find("#primary-content-container");if(!(window.innerWidth>z)){if("baseSalaryView"===e||"multipleTitlesView"===e||"earlyBirdView"===e)return t.removeClass("hidden"),void i.removeClass("no-value-props");t.addClass("hidden"),i.addClass("no-value-props")}},onChildChangeView:function(e,t){var i=this,n=t.direction;this.getNewView(t).then(function(e){i.updateValuePropsState(e),i.shownViews.push(e);var o=i.childViews[e];o.timesShown++;var a={timesShown:o.timesShown};_.extend(a,t);var s=i.viewFactory(o.view,a);i.transitionToView(s,{direction:n})})},transitionToView:function(e,t){var i=this,n=void 0===arguments[2]?!0:arguments[2],a=t.direction,s=T.Deferred(),r=this.getRegionsScreenState(),l=r.onScreen,d=r.offScreen;if(!l.hasView()||!n)return l.show(e),s.promise();var c=o.whichAnimationEvent(),u="emptied-region",p="move-page-left",h="offscreen-right";return"back"===a&&(p="move-page-right",h="offscreen-left"),d.$el.addClass(h),d.$el.removeClass(u),d.show(e),d.$el.one(c,function(){l.empty(),l.$el.addClass(u),l.$el.removeClass(p),d.$el.removeClass(h),d.$el.removeClass(p),d.$el.removeClass("offscreen-region"),l.$el.addClass("offscreen-region"),i.addFocusToHeading(),s.resolve()}),this.preparePrimaryContainerHeight(e,d),l.$el.addClass(p),d.$el.addClass(p),s.promise()},getRegionsScreenState:function(){var e=this.getRegion("formRegionA"),t=this.getRegion("formRegionB"),i=this.$el.find(".offscreen-region"),n={onScreen:e,offScreen:t};return"form-region-a"===i.attr("id")&&(n.offScreen=e,n.onScreen=t),n},preparePrimaryContainerHeight:function(e){var t=this.$el.find("#primary-content-container"),i=this.getCSSPixelAsNumber(t,"padding-bottom"),n=e.$el.outerHeight()+i;t.animate({height:n},{duration:800,done:function(){t.css("height","")},queue:!1})},getCSSPixelAsNumber:function(e,t){return Number(e.css(t).replace("px",""))},onChildGetInsights:function(){var e=this,t=I.get("loaderInsightsAvailable");this.areInsightsAvailable||(t=I.get("loaderNoInsights")),this.loader.showManually(),this.transitionToView(new H({message:t}),{direction:"next"}).then(function(){e.submitSalary()})},submitSalary:function(){var e=this,t=T(T.find('[name="csrfToken"]')).val();this.model.save(null,{dataType:"text",validate:!1,postingToServer:!0,beforeSend:function(e){e.setRequestHeader("Csrf-Token",t)}}).then(function(){e.lixKeys.isSalaryExplorerEnabled||e.areInsightsAvailable?U.redirect("/salary/insights"):e.onChildChangeView(null,{newView:"earlyBirdThankYouView",direction:"next"})},function(t){e.loader.hide(),e.onChildChangeView(null,{newView:e.shownViews[e.shownViews.length-1],direction:"back"}),r.showAlert({message:I.get("errorSubmission"),type:"error",dismiss:!0}),M.channel("debug").command("log",{msg:"Salary Submission Failed \nstatus: "+t.status+" \nstatusText: "+t.statusText+" \nresponseText: "+t.responseText,type:"error"})})}})}),define("app/views/salary/desktop/insightsView",["exports","module","marionette","jquery","app/behaviors/tracking","app/services/rum"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(o),c="active",u="first-comp",p="masonry",h=24,m=982;t.exports=r.ItemView.extend({template:"templates/partial/salary/desktop/insights",className:"insights-layout-container",ui:{compSelector:"#additional-comp-insights-selector",compItems:".comp-display-section"},events:{"change @ui.compSelector":"onCompSelected"},behaviors:{tracking:{behaviorClass:d,pageTrackingKey:{"default":!0,page:"d_salary_insights"}}},initialize:function(){var e=this;this.insights=this.buildInsightsObject(),this.numberOfInsights=this.countNumberOfInsights(),this.model.set("numberOfInsights",this.numberOfInsights),this.numAdditionalComps=0,this.insights.additionalComp&&(this.numAdditionalComps=this.insights.additionalComp.length),l(window).on("resize.salary.insights",function(){e.onWindowResize()})},onShow:function(){if(this.$el.find("#header-container").focus(),this.$el.addClass("insights-"+this.numberOfInsights),1===this.numAdditionalComps&&(this.$el.addClass("one-comp"),this.$el.find("#additional-comp-container").addClass("one-comp")),3===this.numberOfInsights&&(1===this.numAdditionalComps||0===this.numAdditionalComps)||1===this.numberOfInsights){var e=this.$el.find(".insight-card").first();e.addClass("full-width")}2===this.numberOfInsights&&this.$el.find(".insight-card").addClass("full-width"),this.shouldApplyMasonry()&&this.masonryEffect(h),a.rumRenderComplete()},onDestroy:function(){l(window).off("resize.salary.insights")},countNumberOfInsights:function(){var e=0,t=this.insights;for(var i in t)t.hasOwnProperty(i)&&t[i]&&e++;return e},buildInsightsObject:function(){var e={baseSalary:this.model.get("BASE_SALARY"),additionalComp:this.model.get("additionalComp"),similarRegions:this.model.get("similarRegions"),similarTitles:this.model.get("similarTitles")};return this.model.get("additionalComp")&&(e.totalSalary=this.model.get("TOTAL")),e},shouldApplyMasonry:function(){return this.numberOfInsights>=5&&1===this.numAdditionalComps&&window.innerWidth>m?!0:!1},onWindowResize:function(){return this.shouldApplyMasonry()?void this.masonryEffect(h):void this.undoMasonryEffect()},undoMasonryEffect:function(){var e=this.$el.find("."+p);e.each(function(e,t){var i=l(t);i.css({"margin-top":""}),i.removeClass(p)})},masonryEffect:function(e){var t=this.$el.find(".insight-card");t.each(function(i,n){if(i>2){var o=l(t[i-2]),a=l(n),s=a.position().top,r=o.outerHeight(),d=o.position().top+r,c=s-d,u=e-c;if(0===u)return;a.css({"margin-top":""+u+"px"}),a.addClass(p)}})},onCompSelected:function(e){var t=l(e.target).find(":selected").val(),i=this.ui.compItems.find('.additional-comp-item-container[data-type="'+t+'"]');this.ui.compItems.find("."+u).removeClass(u),this.ui.compItems.children("."+c).removeClass(c),i.addClass(c),this.ui.compItems.children(".additional-comp-item-container").attr("aria-hidden",!0),i.attr("aria-hidden",!1)}})}),define("app/views/salary/desktop/notReadyView",["exports","module","app/views/salary/desktop/collectionFormView","app/behaviors/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.extend({id:"not-ready-container",template:"templates/partial/salary/desktop/not_ready",behaviors:{trackingBehavior:{behaviorClass:s,pageTrackingKey:{"default":!0,page:"d_salary_not_ready"}}},onNext:function(){location.href=this.model.get("homepageUrl")}})}),define("app/controllers/salary/desktopController",["exports","module","app/views/salary/desktop/collectionFormLayoutView","app/views/salary/desktop/insightsView","app/views/salary/desktop/notReadyView","app/services/loader","app/views/shared/loaderView","app/controllers/salary/salaryController","app/models/salary/insights","radio","jSecure","app/utils/urlParams","i18n"],function(e,t,i,n,o,a,s,r,l,d,c,u,p){"use strict";var h=function(e){return e&&e.__esModule?e["default"]:e},m=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},g=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),f=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},v=h(i),b=h(n),y=h(o),w=h(a),C=h(s),k=h(r),x=h(l),S=(h(d),h(c)),M=h(p),T=u.getUrlParam("midToken"),I=function(){return void 0===T?"/salary/insights":"/salary/insights?midToken="+T},E=function(e){function t(){m(this,t),null!=e&&e.apply(this,arguments)}return f(t,e),g(t,[{key:"collection",value:function(){var e=this;return this.beenToInsights?void S.redirect(I()):(this.beenToCollection=!0,void this.establishContext().then(function(){return e.memberModel.isNotAuthenticated()?void S.redirect(I()):e.memberModel.midDoesntMatchedLoggedIn()?void e.showNotReady():e.submissionHistoryModel.hasSubmitted()?void S.redirect(I()):void e.showCollectionFlow()}))}},{key:"insights",value:function(){var e=this,t=w();t.isShowing()||t.show(new C({message:M.get("loaderInsightsAvailable")})),this.beenToInsights=!0;var i=new x({redirectUrl:this.redirectUrl,homepageUrl:this.urls.homepage,privacyPolicyUrl:this.urls.privacyPolicy,aboutUsUrl:this.urls.aboutUs,lixKeys:this.lixKeys,currentYear:(new Date).getFullYear()}),n=Boolean(!this.beenToCollection);this.establishContext(n,{fetchInsightsAvailable:!1}).then(function(){return i.fetch({setError:!0})}).then(function(){return t.hide(),i.isNotAuthenticated()?void(window.location=e.redirectUrl):i.midDoesntMatchedLoggedIn()?void e.showNotReady():void(e.submissionHistoryModel.hasSubmitted()||e.beenToCollection?i.get("hasInsights")?e.showInsights(i):e.showCollectionFlow({insightsToCome:!0}):e.showNotReady())})}},{key:"showInsights",value:function(e){var t=new b({model:e});this._app.layout.showChildView("contentRegion",t)}},{key:"showCollectionFlow",value:function(e){var t=this.memberModel.get("positions"),i=t&&t.length>0&&t[0].regionCode,n=t&&t.length>0&&t[0].formattedLocation,o=this.memberModel.get("location"),a=o&&o.region,s=t&&t.length>0&&t[0].suggestedStandardizedTitles&&t[0].suggestedStandardizedTitles.length>0&&t[0].suggestedStandardizedTitles[0]&&t[0].suggestedStandardizedTitles[0].isVague===!1,r=this.lixKeys;r.isSalaryCollectionEditTitlePageFirstEnabled=r.isSalaryCollectionEditTitlePageFirstEnabled||!i&&!a&&!n||!s;var l={model:this.compensationModel,areInsightsAvailable:this.insightsAvailableModel.areInsightsAvailable(),hasMultipleTitles:this.memberModel.doesPositionMatchMultipleTitles(),device:this.device,lixKeys:r};_.extend(l,e);var d=new v(l);this._app.layout.showChildView("contentRegion",d)}},{key:"showNotReady",value:function(){var e=new y({model:this.compensationModel});this._app.layout.showChildView("contentRegion",e)}}]),t}(k);t.exports=E}),function(){var e={createCookie:function(e,t,i,n,o){var a,s,r="",l="";i?(s=new Date,s.setTime(s.getTime()+24*i*60*60*1e3),a="; expires="+s.toGMTString()):a="",n&&(r=";domain="+n),o&&(l=";secure"),document.cookie=e+"="+t+a+";path=/"+r+l},readCookie:function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},eraseCookie:function(t){e.createCookie(t,"",-1)}};LIModules.exports("CookieManager",e),LIModules.exports("createCookie",e.createCookie),LIModules.exports("readCookie",e.readCookie),LIModules.exports("eraseCookie",e.eraseCookie)}(),define("cookieManager",function(){}),function(){function e(){var e,t,i,n=document.cookie.split(";"),a=n.length,s=o.JSESSIONID.length;for(t=0;a>t;t++){for(e=n[t];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(o.JSESSIONID)&&(i=e.substring(s,e.length),i!==o.DELETED_CSRF_TOKEN))return i.slice(1,-1)}return null}var t=LIModules.requires("jquery"),i=LIModules.requires("underscore"),n=function(){},o={CSRF_TOKEN:"csrfToken",DELETED_CSRF_TOKEN:"delete me",JSESSIONID:"JSESSIONID=",PAGEKEY:"pagekey-"},a={EMBEDDED_CONTENT:"#{0}"},s={CHANNEL:"channel",COMPANY:"company",EMAIL:"emailAddress",GROUP:"group",INDUSTRY:"industry",MEMBER:"member",SCHOOL:"school"};n.TRACKING_CODES={RegSuccess:"RS",RegFailure:"RF",ResumeFileUploadSuccess:"RFUS",ResumeFileUploadFailure:"RFUF",ResumeAmbryUploadSuccess:"RAUS",ResumeAmbryUploadFailure:"RAUF",PreFillResume:"PR",PrefillResumeChange:"PRC",Error:"Er"},n.TRACKING_ACTIVITY_TYPE={CLICK:"click",COLLAPSE:"collapse",EXPAND:"expand",HOVER:"hover",VIEW:"view"},n.URN_TYPE=s,n.format=function(){var e=arguments;return e[0].replace(/{(\d+)}/g,function(t,i){var n=parseInt(i,10)+1;return"undefined"!==e[n]?e[n]:t})},n.htmlEncode=function(e){return null===e||void 0===e?null:e.toString().replace(/(.)/g,function(e){return"<"===e?"&lt;":">"===e?"&gt;":"&"===e?"&amp;":'"'===e?"&quot;":e.charCodeAt(0)<127?e:"&#x"+e.charCodeAt(0).toString(16).toLowerCase()+";"})},n.htmlUnencode=function(e){var t=/&(?:(lt|gt|amp|quot|nbsp)|#x([\da-f]{1,4})|#(\d{1,5}));/gi,i={nbsp:"",lt:"<",gt:">",amp:"&",quot:'"'};return function(n){return null===n||n===e?null:(n+"").replace(t,function(e,t,n,o){return t?i[t]:n||o?String.fromCharCode(parseInt(n||o,n?16:10)||65533):""})}}(),n.unencodeSpaces=function(e){return e.replace(/\+/g," ")},n.embeddedContentExists=function(e){return e?t(n.format(a.EMBEDDED_CONTENT,e)).length>0:!1},n.getEmbeddedContent=function(e){if(!e)return null;try{if(n.embeddedContentExists(e))return window.play.getEmbeddedContent(e)}catch(t){n.getLogger().error("Error reading embedded content with id: "+e,t)}return null},n.hashMap=function(e){var t=e||{};return{addIfNotEmpty:function(e,i){i&&!window._.isEmpty(i)&&(t[e]=i)},data:t}},n.getQueryParams=function(e){var t,i,n,o,a,s,r,l={};if(t=window.location.search.substring(1))for(i=t.split("&"),o=0,n=i.length;n>o;o++){if(s=i[o].split("="),a=decodeURIComponent(s[0]),r=decodeURIComponent(s[1]),e&&a===e)return r;l[a]=r}return e?"":l},LI.getQueryStringParam=function(e){return n.getQueryParams(e)},n.isDebugMode=function(){return"true"===n.getQueryParams("debug")},n.getLogger=function(){var e={log:function(){},error:function(){},info:function(){}};return window.play.isProd()&&!n.isDebugMode()||!window.console||(window.console.log&&(e.log=function(){window.console.log(arguments)}),window.console.error&&(e.error=function(){window.console.error(arguments)}),window.console.info&&(e.info=function(){window.console.info(arguments)})),e},n.getUrnFromId=function(e,i){var o=t.trim(e),a=t.trim(i),s="",r="urn:li:{0}:{1}";return e&&i&&(s=n.format(r,a,o)),s},n.getIdFromUrn=function(e){var t=e.substring(e.lastIndexOf(":")+1);return"("===t.charAt(0)?t.substring(t.lastIndexOf(",")+1,t.length-1):t},n.buildCheckboxData=function(e,i){var o,a,s,r,l,d,c=t(e),u={},p=[],h=n.getCheckedElements(c),m=h.length,g=i.form||[],f=i.json||[],v=f.length,b=i.root||"root",y=i.format||"flat",w={};n.getLogger();for(l=0;m>l;l++)if(o=h[l].value,"flat"===y)p.push(o);else{for(w={},d=0;v>d;d++)a=g[d]+o,s=f[d],r=e[a]||"",r&&t.trim(r.value).length&&(w[s]=e[a].value);p.push(w)}return u[b]=p,u},n.getCheckedElements=function(e){var t=function(){return this.checked?this:void 0};return e.find('input[type="checkbox"]').filter(t)},n.getCsrfToken=function(t){var i=window.play.getPageContextValue(o.CSRF_TOKEN,!0);return t&&(i=e()),i},n.readCookie=function(e){var t,i,n=e+"=",o=document.cookie.split(";"),a=o.length;for(i=0;a>i;i++){for(t=o[i];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(n))return t.substring(n.length,t.length)}return null},n.createCookie=function(e,t,i,n){var o,a,s;e&&(i?(a=new Date,a.setTime(a.getTime()+24*i*60*60*1e3),o="; expires="+a.toGMTString()):o="",s=e+"="+t+o+"; path=/",n&&(s+="; domain="+n),document.cookie=s)},n.getPageKey=function(){return document.body.id?document.body.id.substring(o.PAGEKEY.length):""},n.getTrackingCode=function(){if(window.location.search){var e=/[\\?&]trk=([^&#]*)/.exec(window.location.search);return null===e?null:e[1]}return null},n.supportsCSSTransitions=function(){var e=document.createElement("p").style;return"transition"in e||"WebkitTransition"in e||"MozTransition"in e||"msTransition"in e||"OTransition"in e},n.serializeFormToObject=function(e){var t={},n=e.find("option:disabled").removeAttr("disabled");return i.each(e.serializeArray(),function(e){t[e.name]=e.value}),n.attr("disabled","disabled"),t},n.getRandomNumber=function(e){return e=e||1e3,Math.floor(Math.random()*e+1)},n.initTrackClient=function(){var e=LIModules.imports("UnoTrackingConsumer2");return LI.UnoTracking?new LI.UnoTracking:new e},LIModules.exports("JobsUtil",n)}(),define("jobsUtils",function(e){return function(){var t,i;return i=function(){return LIModules.requires("JobsUtil")},t=i.apply(e,arguments),t||e.jobsUtils}}(this)),function(e){var t,i,n=e.requires("JobsUtil"),o=e.requires("jsConfig"),a=e.requires("readCookie");window.liTrackClient?t=window.liTrackClient:"function"==typeof require&&require.ensure(["liTrackClient"],function(e){try{t=e("liTrackClient")}catch(i){return}}),i=function(){return{sendTrackingRequest:function(e){if(a("bcookie")&&n.getPageKey().indexOf("guest")>-1){t.setTrackingUrl("//"+document.domain+"/mob/tracking");var i={};if(i.jobId=o.get("id","JobPosting"),i.referrer=document.referrer.substr(0,128),t.track({eventInfo:{eventName:"PageViewEvent",appId:"job"},eventBody:{header:{service:"jobs-frontend"},requestHeader:{pageKey:n.getPageKey()+"_jsbeacon",path:window.location.href,trackingCode:n.getTrackingCode(),referer:document.referrer},pageType:"full",trackingCode:n.getTrackingCode(),trackingInfo:i}}),e){const s=e.header,r=e.requestHeader,l=e.clientRequestId,d=e.jobUrn,c=e.memberUrn,u=e.trackingCode,p=e.referenceId,h=e.isSponsored,m=e.recommendationFlavor,g={};s&&(g.header=s),r&&(g.requestHeader=r),l&&(g.clientRequestId=l),d&&(g.jobUrn=d),c&&(g.memberUrn=c),u&&(g.trackingCode=u),p&&(g.referenceId=p),h&&(g.isSponsored=h),m&&(g.recommendationFlavor=m),t.track({eventInfo:{eventName:"JobViewEvent",appId:"job"},eventBody:g})}}}}},e.exports("JobsJSBeacon",new i)}(window.LIModules),define("jsBeacon",["cookieManager","jobsUtils"],function(e){return function(){var t,i;return i=function(){return LIModules.requires("JobsJSBeacon")},t=i.apply(e,arguments),t||e.jsBeacon}}(this)),define("app/utils/googleAnalytics",["exports","module"],function(e,t){"use strict";t.exports={initSelfHosted:function(e){var t="UA-62256447-1";!function(e,t,i,n,o,a,s){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,a=t.createElement(i),s=t.getElementsByTagName(i)[0],a.async=1,a.src=n,s.parentNode.insertBefore(a,s)}(window,document,"script","//platform.linkedin.com/js/analytics.js","ga"),ga("create",t?t:"UA-62256447-1",{cookieDomain:"linkedin.com"}),ga("set","referrer",document.referrer),ga("set","location",window.location.href),ga("send","pageview",{page:e})},initBeacon:function(e){var t=t||[];t.push(["_setAccount","UA-3242811-1"]),t.push(["_setDomainName",".linkedin.com"]),t.push(["_trackPageview",e]),function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",t.parentNode.insertBefore(e,t)}()}}}),define("app/collections/embeddedContentCollection",["exports","module","backbone","jquery","app/services/ds","app/utils/debug"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=(s(n),s(o)),d=s(a),c="/";t.exports=r.Collection.extend({url:"",embeddedContentIds:[],initialize:function(e,t){e=e?e:{},this.embeddedContentIds=t&&t.embeddedContentIds?t.embeddedContentIds:[],this.url=this.embeddedContentIds.length>0&&!e.url?c:e.url;
},fetch:function(e){return this.url===c?this.getEmbeddedContent():r.Model.prototype.fetch.call(this)},getEmbeddedContent:function(){var e=this;return l.getModules(window.location.pathname,this.embeddedContentIds).then(function(t){return e.onEmbeddedContent(t),e}).fail(function(t){d.log("Cannot get embedded content for '"+e.embeddedContentIds+"'")})}})}),define("app/models/job",["exports","module","backbone","jquery","app/models/embeddedContentModel"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=(a(i),a(n),a(o)),r="decoratedJobPosting";t.exports=s.extend({defaults:{showShareProfileWithJobPosterModal:!1,shareProfileWithJobPoster:!1},getUrl:function(){return"jobs/view/"+this.id},saveMyJob:function(e){var t=this.get(r);t.hasMySavedJobPosting=e;var i=t.jobPosting.id,n=play.url({alias:"controllers.ViewJobController."+(e?"saveJob":"unsaveJob"),arg0:i,withCsrf:!0});return this.url=n,this.save()},sync:function(e,t,i){var n=this;return"create"===e&&!function(){var e=t.get(r),o=e.hasMySavedJobPosting;i.data={trackingId:"job_view_topcard_"+(o?"save":"unsave")},i.success=function(t,i,o){e.hasMySavedJobPosting=t.saved,n.set(r,e)}}(),s.prototype.sync.call(this,e,t,i)}})}),define("app/collections/jobs",["exports","module","backbone","app/collections/embeddedContentCollection","app/models/job"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=(a(i),a(n)),r=a(o);t.exports=s.extend({model:r,showJobAnalytics:!1,showConnections:!0,enableDerivedLocation:!1,showShortFlavorsText:!1,showOneClickIcon:!1,showJobTags:!1,showJobTagsInJobTitle:!1,initialize:function(e,t){this.showJobAnalytics=t&&t.hasOwnProperty("showJobAnalytics")?t.showJobAnalytics:!1,this.showConnections=t&&t.hasOwnProperty("showConnections")?t.showConnections:!0,this.enableDerivedLocation=t&&t.hasOwnProperty("enableDerivedLocation")?t.enableDerivedLocation:!1,this.isSPANavigationEnabled=t&&t.hasOwnProperty("isSPANavigationEnabled")?t.isSPANavigationEnabled:!1,this.showShortFlavorsText=t&&t.hasOwnProperty("showShortFlavorsText")?t.showShortFlavorsText:!1,this.showOneClickIcon=t&&t.hasOwnProperty("showOneClickIcon")?t.showOneClickIcon:!1,this.showJobTags=t&&t.hasOwnProperty("showJobTags")?t.showJobTags:!1,this.showJobTagsInJobTitle=t&&t.hasOwnProperty("showJobTagsInJobTitle")?t.showJobTagsInJobTitle:!1,s.prototype.initialize.call(this,e,t)},onEmbeddedContent:function(e){var t=this,i=e.jobs,n=[];i&&(n=i.map(function(e){return e.showJobAnalytics=t.showJobAnalytics,e.showConnections=t.showConnections,e.enableDerivedLocation=t.enableDerivedLocation,e.isSPANavigationEnabled=t.isSPANavigationEnabled,e.showShortFlavorsText=t.showShortFlavorsText,e.showOneClickIcon=t.showOneClickIcon,e.showJobTags=t.showJobTags,e.showJobTagsInJobTitle=t.showJobTagsInJobTitle,new r(e)})),this.set(n)}})}),define("app/models/summary",["exports","module","backbone","app/models/embeddedContentModel"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=(o(i),o(n));t.exports=a.extend({})}),define("app/models/yourIn",["exports","module","backbone","app/models/embeddedContentModel"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=(o(i),o(n)),s={numConnections:0,currentIndex:0,firstInFName:"",companyName:""};t.exports=a.extend({defaults:s,onEmbeddedContent:function(e){e.youHaveConnections&&this.set({companyName:e.decoratedJobPosting.jobPosting.companyName,seeAllLink:e.moreConnectionsLink,totalNumConnections:e.youHaveConnections.paging.total})}})}),define("app/models/whatsYourIn",["exports","module","backbone","app/models/embeddedContentModel"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=(o(i),o(n));t.exports=a.extend()}),define("app/models/globalVariableModel",["exports","module","backbone","app/models/embeddedContentModel"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=(o(i),o(n));t.exports=a.extend({})}),define("app/models/peopleAlsoSearchedModel",["exports","module","backbone","app/models/embeddedContentModel"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=(o(i),o(n));t.exports=a.extend({})}),define("app/models/guestChromeModel",["exports","module","backbone","app/models/embeddedContentModel"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=(o(i),o(n));t.exports=a.extend({})}),define("app/models/lixModel",["exports","module","backbone","app/models/embeddedContentModel"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=(o(i),o(n));t.exports=a.extend()}),define("app/models/postJobModel",["exports","module","backbone"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.Model.extend({})}),define("app/models/interestedCandidates",["exports","module","backbone"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.Model.extend({})}),define("app/models/impressionTrackingModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({embeddedContentIds:[{name:"impressionTrackingDisplayModule",optional:!0}]})}),define("app/models/person",["exports","module","backbone"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.Model.extend({})}),define("app/collections/people",["exports","module","backbone","app/utils/debug","app/collections/embeddedContentCollection","app/models/person"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=(s(i),s(n)),l=s(o),d=s(a);t.exports=l.extend({model:d,httpRequest:null,initialize:function(e,t){l.prototype.initialize.call(this,e,t)},onEmbeddedContent:function(e){var t=this._getPersonArrayFromJson(e);this.set(t),e.youHaveConnections&&e.youHaveConnections.paging.links.next&&(this.url=e.youHaveConnections.paging.links.next)},getMorePeople:function(e){return r.log("people.es: Start fetching for more people..."),this.url?(this.httpRequest&&this.httpRequest.abort(),this.httpRequest=this.fetch(),this.httpRequest):void 0},sync:function(e,t,i){var n=this;return"read"===e&&(i.success=function(e,t,i){var o=e.youHaveConnectionsDisplayModule,a=n._getPersonArrayFromJson(o);n.add(a),o.youHaveConnections&&o.youHaveConnections.paging.links.next&&(n.url=o.youHaveConnections.paging.links.next)}),l.prototype.sync.call(this,e,t,i)},_getPersonArrayFromJson:function(e){if(e.youHaveConnections){var t=function(){var t=e.youHaveConnections.elements,i=[];return t.forEach(function(e){i.push(new d(e))}),{v:i}}();if("object"==typeof t)return t.v}return[]}})}),define("app/models/companyLCP",["exports","module","backbone","jquery","app/models/embeddedContentModel"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=(a(i),a(n),a(o));t.exports=s.extend({fetchRecentUpdates:function(e){var t=this.get("showCompanyFeed");return t&&(this.url=this.get("bizEmbedUrl")),e||(e={}),e.isRecentUpdates=!0,this.fetch(e)},saveFollowing:function(e){this.set("following",e);var t="controllers.ViewJobController."+(e?"followCompany":"unfollowCompany"),i=this.get("companyId"),n=play.url({alias:t,arg0:i,withCsrf:!0});return this.url=n,this.save()},sync:function(e,t,i){var n=this;if(i.isRecentUpdates)i.dataType="html",i.success=function(e,i,n){t.set("recentUpdatesHtml",e)};else if("create"===e){var o=this.get("following");i.data={trackingId:"job_view_company_"+(o?"follow":"unfollow")},i.success=function(e,t,i){n.set("following",e.following)}}return s.prototype.sync.call(this,e,t,i)}})}),define("app/behaviors/lazyLoad",["exports","module","marionette","jquery","underscore","app/utils/lazyLoad"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=(s(n),s(o)),d=s(a);t.exports=r.Behavior.extend({onRender:function(){var e=this;l.defer(function(){d.attach(e.$el,e.options.radioCommand,e.options.offsetDistance,e.options.loadIndividual)})}})}),define("app/views/shared/ContextMenuLayoutView",["exports","module","marionette","jquery","underscore","mast/scripts/utils/Keycodes"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(o),c=s(a),u=l("body"),p=l(window),h="click.closeContextMenu",m="scroll.closeContextMenu",g="keyup.dropDown",f="transitionend webkitTransitionEnd oTransitionEnd",v="closing",b="shown";t.exports=r.LayoutView.extend({template:"templates/partial/app/shared/context_menu_layout",className:"context-menu",regions:{contentRegion:"#context-menu-content"},ui:{menuBodyContent:"#context-menu-content"},events:{"click @ui.menuBodyContent":"_menuContentClickHandler"},_position:function(){var e=this.model.get("anchor");if(e.addClass("clicked"),e){var t=e.outerWidth(),i=e.outerHeight(),n={};if(void 0!==this.model.get("top")){var o=l.isNumeric(this.model.get("top"))?e.offset().top+Number(this.model.get("top")):0;n.top=this._validatePosition(o)}if(void 0!==this.model.get("right")){var a=l.isNumeric(this.model.get("right"))?e.offset().left+t-this.$el.outerWidth()+Number(this.model.get("right")):0;n.left=this._validatePosition(a)}if(void 0!==this.model.get("bottom")){var s=l.isNumeric(this.model.get("bottom"))?e.offset().top+i+Number(this.model.get("bottom")):0;n.top=this._validatePosition(s)}if(void 0!==this.model.get("left")){var a=l.isNumeric(this.model.get("left"))?e.offset().left+Number(this.model.get("left")):0;n.left=a}this.$el.css(n)}else this.$el.css({top:this._validatePosition(this.model.get("top")?this.model.get("top"):""),right:this._validatePosition(this.model.get("right")?this.model.get("right"):""),bottom:this._validatePosition(this.model.get("bottom")?this.model.get("bottom"):""),left:this._validatePosition(this.model.get("left")?this.model.get("left"):"")})},onRender:function(){var e=this;this.model.get("view")&&(this.getRegion("contentRegion").show(this.model.get("view")),this.$el.attr("tabIndex","-1").focusWithoutScrolling(),d.defer(function(){e.$el.addClass(b).removeClass(v),e._position()}),p.on(m,this.closeWithAnimation.bind(this)),u.on(h,this.closeWithAnimation.bind(this)),u.on(g,this.$el,function(t){t.which===c.ESCAPE&&e.closeWithAnimation()}))},closeWithAnimation:function(e){var t=this;this.$el.addClass(v).on(f,function(){t.close()})},close:function(){this.model.get("anchor").removeClass("clicked").focusWithoutScrolling(),this.$el.off(f).removeClass(b).removeClass(v),u.off(h).off(g),p.off(m),this.getRegion("contentRegion").reset(),this.triggerMethod("app:region:reset","contextMenuRegion")},_menuContentClickHandler:function(e){e.stopPropagation()},_validatePosition:function(e){return l.isNumeric(e)?""+e+"px":e}})}),define("app/helpers/contextMenuHelper",["exports","marionette","backbone","radio","app/views/shared/ContextMenuLayoutView"],function(e,t,i,n,o){"use strict";function a(e){var t=c.channel(p);return t._commands&&t._commands[h]?void c.channel("debug").command("log",{msg:"contextMenuService is already connected. Ignoring call.",type:"error"}):(t.comply(h,function(t){if(t.view){var i=new(d.Model.extend())(t),n=e.getRegion("contextMenuRegion").currentView;n?(n.close(),n.model=i,n.render()):(n=new u({model:i}),e.getRegion("contextMenuRegion").show(n))}else c.channel("debug").command("log",{msg:"No view specififed. Ignoring call.",type:"error"})}),void t.comply(m,function(){var t=e.getRegion("contextMenuRegion").currentView;t.closeWithAnimation()}))}function s(e){return e?void c.channel(p).command(h,e):void c.channel("debug").command("log",{msg:"No options specified for the context menu service",type:"error"})}function r(e){c.channel(p).command(m,{})}var l=function(e){return e&&e.__esModule?e["default"]:e};e.contextMenuService=a,e.showViewInContextMenu=s,e.closeContextMenu=r,Object.defineProperty(e,"__esModule",{value:!0});var d=(l(t),l(i)),c=l(n),u=l(o),p="app",h="contextMenu:showViewInContextMenuOutlet",m="contextMenu:hideContextMenuOutlet"}),define("app/views/home/jobDeleteView",["exports","module","marionette","radio","app/helpers/modalHelper"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l="delete",d="delete:application";t.exports=s.ItemView.extend({template:"templates/partial/app/home/job_delete",className:"job-delete-container",ui:{deleteButton:".delete-btn",cancelButton:".cancel-btn"},events:{"click @ui.deleteButton":"_deleteApplication","click @ui.cancelButton":"_cancelHandler"},_deleteApplication:function(){r.channel(l).command(d,{model:this.model}),o.closeModal()},_cancelHandler:function(){o.closeModal()}})}),define("app/views/shared/compactJobsMenuView",["exports","module","marionette","backbone","i18n","app/helpers/modalHelper","app/helpers/contextMenuHelper","app/views/detail/messageHeader","app/views/home/jobDeleteView"],function(e,t,i,n,o,a,s,r,l){"use strict";var d=function(e){return e&&e.__esModule?e["default"]:e},c=d(i),u=d(n),p=d(o),h=d(r),m=d(l);t.exports=c.ItemView.extend({template:"templates/partial/app/shared/compact_job_menu_layout",tagName:"ul",className:"compact-jobs-menu-items",ui:{deleteApplicationButton:".delete-application-btn"},events:{"click @ui.deleteApplicationButton":"_deleteApplicationHandler"},_deleteApplicationHandler:function(e){e.preventDefault();var t=new u.Model({title:p.get("deleteApplication")});a.showViewInModal({view:new m({model:this.model}),element:this.model.get("element"),header:new h({model:t})}),s.closeContextMenu()}})}),define("app/views/shared/compactJobItemView",["exports","module","marionette","app/utils/debug","jquery","radio","app/views/shared/compactJobsMenuView","app/helpers/contextMenuHelper"],function(e,t,i,n,o,a,s,r){"use strict";var l=function(e){return e&&e.__esModule?e["default"]:e},d=l(i),c=(l(n),l(o)),u=(l(a),l(s)),p=8,h=0;t.exports=d.ItemView.extend({template:"templates/partial/app/shared/compact_job",className:"item",tagName:"li",ui:{optionsButton:".options-button"},events:{"click @ui.optionsButton":"_showOptions"},initialize:function(){if(this.model.get("decoratedJobPosting")){var e=this.model.get("decoratedJobPosting").sponsoredParams;e&&this.$el.addClass("sponsored")}},_showOptions:function(e){if(e.preventDefault(),e.stopPropagation(),c(e.currentTarget).hasClass("clicked"))r.closeContextMenu();else{var t=this.model.clone();this.model.set("el",this.el),t.set("element",this.model);var i=new u({model:t}),n={view:i,anchor:c(e.currentTarget),bottom:p};this.model.get("isRTL")?n.left=-1*h:n.right=h,r.showViewInContextMenu(n)}}})}),define("app/views/detail/ExpiredSimilarJobsView",["exports","module","marionette","jquery","underscore","app/utils/debug","app/behaviors/lazyLoad","../shared/compactJobItemView","app/behaviors/linkTo"],function(e,t,i,n,o,a,s,r,l){"use strict";var d=function(e){return e&&e.__esModule?e["default"]:e},c=d(i),u=d(n),p=d(o),h=(d(a),d(s)),m=d(r),g=d(l),f="currentIndex",v="disabled",b="showing",y="last",w="focusFirstItem";t.exports=c.CompositeView.extend({template:"templates/partial/app/detail/expired_similar_jobs",className:"expired-jobs-container",tagName:"div",childViewContainer:".compact-jobs-container",childView:m,behaviors:{lazyLoadBehavior:{behaviorClass:h,radioCommand:"expiredSimilarJobs",offsetDistance:100},linkToBehavior:{behaviorClass:g}},onShow:function(){var e=this;this._updateStylesForVisibleItems(),this._onScrollEnd(),p.defer(function(){e.$el.addClass(b)}),this.collection.length<=this._getMaxNumVisibleItems()&&this.ui.navButtons.addClass("hidden").prop("disabled",!0)},ui:{items:".items",scroller:".scroller",nextButton:".next",prevButton:".prev",navButtons:".button"},events:{"click @ui.nextButton":"_nextHandler","click @ui.prevButton":"_prevHandler","transitionend @ui.items":"_onScrollEnd"},_getCurrentIndex:function(){var e=this.model.get(f)||0;return e},_getMaxNumVisibleItems:function(){var e=u(this.ui.items).children().first().outerWidth(!0),t=Math.round(this.ui.scroller.outerWidth(!0)/e);return t},_nextHandler:function(e){if(e.preventDefault(),!u(e.target).hasClass(v)){var t=this._getMaxNumVisibleItems(),i=this.collection.length-1,n=this._getCurrentIndex();if(n+=t,n>i)return void(n=i);this._updateForAccessibility(),this.scrollToIndex(n)}},_prevHandler:function(e){if(e.preventDefault(),!u(e.target).hasClass(v)){var t=this._getMaxNumVisibleItems(),i=this._getCurrentIndex();if(i-=t,0>i)return void(i=0);this._updateForAccessibility(),this.scrollToIndex(i)}},_updateForAccessibility:function(){this.ui.items.children().css("visibility","visible"),this.model.set(w,!0)},_getPosXofItemWithIndex:function(e){if(0===e)return 0;var t=this.ui.items.children().eq(e),i=t?t.outerWidth()*e:0;return i},_updateStylesForVisibleItems:function(){this.ui.items.children().removeClass(b).removeClass(y);for(var e=this._getMaxNumVisibleItems(),t=this._getCurrentIndex(),i=t+e-1,n=void 0,o=t;i>=o;o++)n=this.ui.items.children().eq(o).addClass(b),o==i&&n.addClass(y)},_onScrollEnd:function(e){var t=this._getCurrentIndex(),i=this._getMaxNumVisibleItems(),n=t+(i-1),o=this.collection.length-1,a=this.ui.items.children(),s=a.slice(t,n+1);this.ui.items.children().css("visibility",""),this.ui.nextButton.toggleClass(v,t+i>o),this.ui.nextButton.prop("disabled",this.ui.nextButton.hasClass(v)?!0:!1),this.ui.prevButton.toggleClass(v,0>=t),this.ui.prevButton.prop("disabled",this.ui.prevButton.hasClass(v)?!0:!1),this.model.get(w)&&s.first().find("a").first().focus()},scrollToIndex:function(e){this.model.set(f,e);var t=this._getPosXofItemWithIndex(e);this.ui.navButtons.addClass(v),this.ui.items.css("transform","translate(-"+t+"px, 0)"),this._updateStylesForVisibleItems()}})}),define("app/views/detail/layoutView",["exports","module","marionette","jquery","backbone","app/collections/jobs","app/views/detail/ExpiredSimilarJobsView","app/factories/modelFactory","app/models/globalVariableModel","app/models/embeddedContentModel"],function(e,t,i,n,o,a,s,r,l,d){"use strict";var c=function(e){return e&&e.__esModule?e["default"]:e},u=c(i),p=c(n),h=(c(o),c(a)),m=c(s),g=c(r),f=c(l),v=c(d);t.exports=u.LayoutView.extend({template:"templates/partial/app/detail/layout",className:"content-outlet-container",regions:{guestChrome:"#guest-chrome-outlet",heroImage:"#hero-image",expiredSimilarJobs:"#expired-similar-jobs",twoBoxSearch:"#job-search",topCard:"#top-card",summaryDetail:"#summary-detail",whatsYourIn:"#whats-yourin",yourIn:"#your-in",companyInfo:"#company-info",browseMap:"#browse-map",companyLCP:"#company-lcp",similarJobs:"#similar-jobs",modalOutlet:"#modal-outlet",parentPremiumInsights:"#parent-premium-insights",sidebar:"#sidebar",main:"#main-content",peopleAlsoSearched:"#people-also-searched",meetTheTeam:"#meet-the-team",insightsUpsell:"#insights-upsell",jobSalary:"#job-salary",jobSalaryBraavos:"#job-salary-braavos",jobError:"#job-error-region",postJob:"#post-job",lyndaDisplay:"#lynda-display",stickyApply:"#sticky-apply",interestedCandidates:"#interested-candidates",rightRailUpsellAbove:"#right-rail-upsell-above",rightRailUpsellBelow:"#right-rail-upsell-below"},toggleSidebar:function(e){p(this.getRegion("sidebar").el).toggleClass("show",e),p(this.getRegion("main").el).toggleClass("left",e)},showExpiredSimilarJobs:function(){var e=this,t=g(h,["similarJobs"],{showJobAnalytics:!0,showOneClickIcon:!0,showJobTags:this.model.get("showTagsForJobCards"),isSPANavigationEnabled:this.model.get("isSPANavigationEnabled"),enableDerivedLocation:this.model.get("enableDerivedLocation")}),i=g(v.extend(),["similarJobs","globalVariable","decoratedJob"]);p.when(t,i).done(function(t,i){t.length>0&&(i.set("viewAllLink",i.get("seeMoreLink")),e.getRegion("expiredSimilarJobs").show(new m({model:i,collection:t})),e.ui.topCardContainer.addClass("itemShowingAbove"))})},ui:{contentContainer:".content-container:first-of-type",topCardContainer:".content-container:first-of-type .container"},initialize:function(){var e=this;g(f,["globalVariable","lixModule"]).done(function(t){e.model=t})}})}),define("app/views/detail/browseMapJobsView",["exports","module","marionette","jquery","underscore","app/utils/debug","app/behaviors/lazyLoad","../shared/compactJobItemView","app/behaviors/tracking","app/behaviors/linkTo"],function(e,t,i,n,o,a,s,r,l,d){"use strict";var c=function(e){return e&&e.__esModule?e["default"]:e},u=c(i),p=(c(n),c(o),c(a)),h=c(s),m=c(r),g=c(l),f=c(d);t.exports=u.CompositeView.extend({template:"templates/partial/app/detail/browsemap",className:"browsemap-container",tagName:"div",childViewContainer:".compact-jobs-container",childView:m,behaviors:{trackingBehavior:{behaviorClass:g,modules:["peopleAlsoViewedModule"]},lazyLoadBehavior:{behaviorClass:h,radioCommand:"browseMaps",offsetDistance:100},linkToBehavior:{behaviorClass:f}},initialize:function(){p.log(""+this.collection.length+" jobs loaded in the BrowseMap module")}})}),define("app/utils/language",["exports","module","jquery"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports={isRTL:function(){return"rtl"===o("body").attr("dir")}}}),function(){var e=LIModules.requires("jquery"),t=(LIModules.requires("underscore"),LIModules.requires("i18n"),LIModules.requires("dust"),function(t,i,n){var o,a=e(t),s=a;(s.is("form")||(s=s.find("form:first"),o=s[0]))&&(i=e.extend(!0,{customIFrameTimeout:12e4},i),s.on("submit",function(o){var s,r,l,d=this,c=e(d),u=(new Date).getTime(),p=d.elements.callback,h=p&&e.trim(p.value).length?e(p).val():"uploadCallback"+u,m=e.ajaxSettings.xhr(),g=m.upload&&(window.FormData||n),f=0;if(t.className=t.className.replace(/(^|\s)show-error-[^\s]+/,""),p?p.value=h:(s=e("<input/>").attr("type","hidden").attr("name","callback").val(h),d.appendChild(s.get(0)),window[h]=function(e){if(a.trigger("progress-update",{percent:100}),a.trigger("progress-complete",{percent:100}),"SUCCESS"===e.status)a.trigger("mpr-upload-success",e);else{switch(e.value){case"TIME":a.addClass("show-error-timeout");break;case"SIZE":a.addClass("show-error-size");break;case"DIMENSION":a.addClass("show-error-dimension");break;case"INV_MEDIA":a.addClass("show-error-format");break;case"ERROR":break;default:a.addClass("show-error-other")}a.trigger("mpr-upload-error",{error:e.value,form:d})}}),d.elements.upload_info&&!d.elements.upload_info_with_js&&(r=d.elements.upload_info.cloneNode(!0),r.type="hidden",r.name="upload_info_with_js",d.appendChild(r)),g)o.preventDefault(),m.upload&&(m.upload.addEventListener("progress",function(e){var t=e.position||e.loaded,i=e.totalSize||e.total,n=Math.floor(t/i*1e3)/10;a.trigger("progress-update",{percent:n})},!1),m.upload.addEventListener("load",function(e){},!1)),a.trigger("progress-start",{percent:0,realTime:!0}),a.trigger("mpr-upload-start",{transport:"xhr"}),n&&(l=new FormData(d),l.append("file",n[0])),e.ajax({url:c.attr("action"),type:c.attr("method"),beforeSend:function(e){e.setRequestHeader("X-IsAJAXForm","1")},xhr:function(){return m},data:l||new FormData(d),processData:!1,contentType:!1,cache:!1,success:function(t){var n,o;a.trigger("mpr-upload-returned",{html:t}),i.jsonResponse?("string"===e.type(t)&&(t=JSON.parse(t)),window[h].call(this,t)):(n=document.createElement("iframe"),document.body.appendChild(n),n.id="media-server-uploader-iframe",o=n.contentWindow?n.contentWindow.document:n.contentDocument?n.contentDocument:n.document,o.open(),o.write(t),o.close(),e("#"+n.id).remove())},error:function(e,t,i){var n;e&&e.getResponseHeader&&(n=e.getResponseHeader("X-Li-UF-Reason")),n||(n="ERROR"),a.trigger("progress-complete",{percent:f}),a.trigger("mpr-upload-error",{error:n,form:d})}});else{var v,b=i.customIFrameTimeout,y=null,w="iframeUploader-"+(new Date).getTime(),_="MediaIFrameUploadCallback"+(new Date).getTime();v=e("<iframe/>").attr("name",w).attr("id",w).attr("src","javascript:false;"),window[_]=function(e){v.remove(),window.clearTimeout(y),window[h].call(this,e)},d.elements.callback&&(d.elements.callback.value=_),y=window.setTimeout(function(){var t,i=e("#"+w).contents().find("#upload-error-code");i.length>0&&(t=i.html()),t||(t="ERROR"),a.trigger("mpr-upload-error",{error:t,form:d}),v.remove()},b),v.appendTo("body"),d.target=w,d.setAttribute("target",w),i.jsonResponse&&v.on("load",function(t){var i=e("#"+w).contents().find("body").text();a.trigger("mpr-upload-returned",{html:i}),window[_].call(this,JSON.parse(i))}),v.css({height:"1px",width:"1px",position:"absolute",left:"-1234em",top:"0",visibility:"hidden"}),a.trigger("progress-start",{percent:0,realTime:!1}),a.trigger("mpr-upload-start",{transport:"iframe"})}}))});LIModules.exports("ImageUtils.MediaServerUploader",t)}(),define("mediaServerUploader",function(e){return function(){var t,i;return i=function(){return LIModules.requires("ImageUtils.MediaServerUploader")},t=i.apply(e,arguments),t||e.mediaServerUploader}}(this)),define("app/views/detail/paperPlaneView",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=(o(n),"showing"),r="shown",l="delivering",d="delivered";t.exports=a.ItemView.extend({template:"templates/partial/app/detail/paper_plane_header",className:"applicant-header",tagName:"section",ui:{plane:".plane",background:".paper-plane-container .bg",profileImage:".profile-image-circle"},events:{"animationend @ui.plane":"_onPlaneAnimationEnd","webkitAnimationEnd @ui.plane":"_onPlaneAnimationEnd","animationend @ui.background":"_onBackgroundAnimationEnd","webkitAnimationEnd @ui.background":"_onBackgroundAnimationEnd","animationend @ui.profileImage":"_onProfileImageAnimationEnd","webkitAnimationEnd @ui.profileImage":"_onProfileImageAnimationEnd"},onShow:function(){this.ui.profileImage.addClass(s)},_onProfileImageAnimationEnd:function(){this.ui.profileImage.addClass(r),this.ui.plane.addClass(l),this.ui.background.addClass(s)},_onPlaneAnimationEnd:function(){this.ui.plane.addClass(d)},_onBackgroundAnimationEnd:function(){this.ui.background.addClass(r)}})}),define("app/views/shared/yourInItemView",["exports","module","marionette","app/helpers/modalHelper"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);t.exports=a.ItemView.extend({template:"templates/partial/app/detail/yourin_item",tagName:"li",className:"item",ui:{msgButton:".msg-btn"},events:{"click @ui.msgButton":"messageButtonHandler"},messageButtonHandler:function(e){e.preventDefault();var t=this.model;n.showMessagingModal({title:this.ui.msgButton.attr("data-messaging-modal-title"),to:t,element:this.ui.msgButton})}})}),define("app/views/shared/yourInView",["exports","module","marionette","jquery","underscore","app/utils/debug","app/utils/language","./yourInItemView","app/models/person","app/behaviors/tracking","app/utils/lazyLoad"],function(e,t,i,n,o,a,s,r,l,d,c){"use strict";var u=function(e){return e&&e.__esModule?e["default"]:e},p=u(i),h=u(n),m=u(o),g=u(a),f=u(s),v=u(r),b=(u(l),u(d)),y=u(c),w="connection-4-or-more",_="disabled",C=3,k="resize.yourin",x="yourIn",S="focusFirstItem";t.exports=p.CompositeView.extend({template:"templates/partial/app/detail/yourin",className:"yourin-container",tagName:"div",childView:v,childViewContainer:".items",initialize:function(){var e=this;this.model.set("totalNumConnections",this.model.get("youHaveConnections").paging.total);var t=this.model.get("decoratedJobPosting").decoratedCompany?this.model.get("decoratedJobPosting").decoratedCompany.canonicalName:this.model.get("decoratedJobPosting").companyName;this.model.set("companyName",t),this.model.set("isRTL",f.isRTL()),h(window).on(k,function(t){e._onWindowResize(t)})},behaviors:{trackingBehavior:{behaviorClass:b,modules:["youHaveConnectionsDisplayModule"]}},onDestroy:function(){h(window).off(k)},onRender:function(){h(this.ui.itemsContainer).hasClass(w)||h(this.ui.navButtons).prop("disabled",!0)},onBeforeRenderCollection:function(){var e="",t=this.model.get("totalNumConnections");e=t>C?w:"connection-"+t,h(this.ui.itemsContainer).addClass(e)},onShow:function(){var e=this;this._updateUI(),this._onScrollEnd(),m.defer(function(){e._onCollectionChanged()})},ui:{itemsContainer:".items-container",itemsScrollerWrapper:".scroller-wrapper",itemsScroller:".scroller",items:".items",navButtons:".button",nextButton:".next",prevButton:".prev",seeAllButton:".see-all-btn",spinner:".spinner"},events:{"click @ui.nextButton":"nextHandler","click @ui.prevButton":"prevHandler","transitionend @ui.itemsScroller":"_onScrollEnd","resize @window":"_onWindowResize"},nextHandler:function(e){e.preventDefault();var t=h(e.target);if(!t.hasClass(_)){var i=this._getCurrentIndex(),n=i+C;n>=this.collection.length&&(n=this.collection.length-1),this._updateForAccessibility(),this.scrollToIndex(n),g.log("scroll next to index: "+n)}},prevHandler:function(e){e.preventDefault();var t=h(e.target);if(!t.hasClass(_)){var i=this._getCurrentIndex(),n=i-C;0>n&&(n=0),this._updateForAccessibility(),this.scrollToIndex(n),g.log("scroll prev to index: "+n)}},_updateForAccessibility:function(){this.ui.items.children().css("visibility","visible"),this.model.set(S,!0)},scrollToIndex:function(e){0>e&&(e=0),this._setCurrentIndex(e);var t=e?this._getPosXOfItemWithIndex(e):0,i="translate(-"+t+"px,0)";if(this.model.get("isRTL")){var n=this.ui.items.children().first();t=e*n.outerWidth(!0),i="translate("+t+"px,0)"}h(this.ui.itemsScroller).css("transform",i),this._updateUI()},_getCurrentIndex:function(){return this.model.get("currentIndex")},_setCurrentIndex:function(e){this.model.set("currentIndex",e)},_getPosXOfItemWithIndex:function(e){if(0===e)return 0;var t=this.ui.items.children().eq(e),i=0;if(t&&t.position())i=t.position().left;else if(this.collection.length>0){var n=this.ui.items.children().last();i=n.position().left}return i},_onScrollEnd:function(e){var t=this,i=this._getCurrentIndex(),n=i+(C-1),o=this.model.get("totalNumConnections"),a=this.collection.length<o,s=this.ui.items.children().css("visibility",""),r=s.slice(i,n+1);if(this.model.get(S)&&r.first().attr("tabindex",-1).focus(),n>=this.collection.length-C&&a){var l=this.collection.getMorePeople();l.done(function(){t._onCollectionChanged()})}},_updateUI:function(){var e=this._getCurrentIndex(),t=e+(C-1),i=this.model.get("totalNumConnections"),n=this.collection.length<i;h(this.ui.navButtons).removeClass(_).prop("disabled",!1),0===e?h(this.ui.prevButton).addClass(_).prop("disabled",!0):(t>=this.collection.length-1&&!n||t>=this.collection.length&&n)&&h(this.ui.nextButton).addClass(_).prop("disabled",!0);var o="shown";h(this.ui.spinner).removeClass(o),t>=this.collection.length-1&&n&&h(this.ui.spinner).addClass(o);var a="shown",s=this.ui.items.children().removeClass(a),r=s.slice(e,t+1).addClass(a),l="first",d="last";if(s.removeClass(l).removeClass(d),r.first().addClass(l),r.last().addClass(d),i>C){var c=this.ui.itemsScrollerWrapper.outerWidth(!0)/C;if(this.model.get("personConnectionModal")){var u=32;c=(this.ui.itemsScrollerWrapper.outerWidth(!0)-u)/C}this.ui.items.children().outerWidth(c).css("max-width",""+c+"px").css("min-width",""+c+"px")}},_onCollectionChanged:function(){if(this.collection.length>C)this.scrollToIndex(this._getCurrentIndex());else if(1===this.collection.length){var e=this.collection.at(0),t=e?e.get("decoratedProfile").firstName:"";this.model.set({firstInFName:t}),this.render()}y.attach(this.$el,x)},_onWindowResize:function(){this.scrollToIndex(0)}})}),define("app/views/detail/successJobsView",["exports","module","marionette","../shared/compactJobItemView"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.CompositeView.extend({template:"templates/partial/app/detail/success_jobs",childViewContainer:".compact-jobs-container",childView:s,initialize:function(e){var t=this.collection.where({sponsored:!0});this.collection.remove(t);for(var i=this.collection.length-1;i>3;i--)this.collection.at(i).destroy();
}})}),define("app/views/detail/postApplyUpsellView",["exports","module","marionette","app/behaviors/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.ItemView.extend({template:"templates/partial/app/detail/post_apply_upsell",behaviors:{trackingBehavior:{behaviorClass:s,modules:["jssModel"]}}})}),define("app/views/detail/applySuccessLayoutView",["exports","module","marionette","jquery","backbone","app/factories/modelFactory","app/behaviors/tracking","app/behaviors/lazyLoad","app/views/detail/paperPlaneView","app/views/shared/yourInView","app/views/detail/successJobsView","app/views/detail/postApplyUpsellView","app/models/yourIn","app/models/embeddedContentModel","app/collections/people","app/collections/jobs"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g){"use strict";var f=function(e){return e&&e.__esModule?e["default"]:e},v=f(i),b=f(n),y=(f(o),f(a)),w=f(s),_=f(r),C=f(l),k=f(d),x=f(c),S=f(u),M=f(p),T=f(h),I=f(m),E=f(g),A="personConnectionModal",P="jssModel";t.exports=v.LayoutView.extend({template:"templates/partial/app/detail/apply_success_layout",regions:{header:".applicant-header-container",bottomContent:".bottom-content-container",postApplyUpsell:".post-apply-upsell-container"},behaviors:{trackingBehavior:{behaviorClass:w},lazyLoadBehavior:{behaviorClass:_,radioCommand:"applySuccess",offsetDistance:100}},onRender:function(){var e=this;if(this.getRegion("header").show(new C({model:this.model})),this.model.get(P))y(T.extend(),["lixModule"]).done(function(t){var i=t.get("postApplyVisualDisplay")||"control";e.model.set("postApplyVisualDisplay",i),e.getRegion("postApplyUpsell").show(new S({model:e.model}))});else if(this.model.get(A)){var t=y(M,["decoratedJob","yourIn"]),i=y(I,["yourIn"]);b.when(i,t).done(function(t,i){if(t.length>0){i.set(A,e.model.get(A));var n=new k({collection:t,model:i});e.getRegion("bottomContent").show(n)}})}else y(T,["lixModule"]).done(function(t){var i=y(E,["similarJobs"],{showJobAnalytics:!1,showConnections:!1,showJobTags:t.get("showTagsForJobCards"),showJobTagsInJobTitle:!0,enableDerivedLocation:t.get("enableDerivedLocation")}),n=y(T.extend(),["similarJobs"]);b.when(i,n).done(function(t,i){if(t.length>0){var n=t.where({isSponsored:!0});t.remove(n),i.set("viewAllLink",i.get("seeMoreLink"));var o=new x({collection:t,model:i});e.getRegion("bottomContent").show(o)}})})}})}),define("app/views/detail/companyLCPMediaView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/app/detail/company_lcp_media",className:"media"})}),define("app/views/detail/companyLCPOtherJobsView",["exports","module","marionette","underscore","app/behaviors/lazyLoad","../shared/compactJobItemView","app/behaviors/linkTo"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=(r(n),r(o)),c=r(a),u=r(s);t.exports=l.CompositeView.extend({template:"templates/partial/app/detail/company_lcp_other_jobs",className:"other-jobs-container",childView:c,childViewContainer:".compact-jobs-container",behaviors:{lazyLoadBehavior:{behaviorClass:d,radioCommand:"companyLCPOtherJobs",offsetDistance:100},linkToBehavior:{behaviorClass:u}}})}),define("app/collections/companyJobs",["exports","module","backbone","app/collections/jobs","app/models/job"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=(a(i),a(n)),r=a(o);t.exports=s.extend({onEmbeddedContent:function(e){var t=this,i=[];if(e&&e.jobs){var n=e.jobs;n&&(i=n.map(function(e){return e.showJobAnalytics=t.showJobAnalytics,e.enableDerivedLocation=t.enableDerivedLocation,e.isSPANavigationEnabled=t.isSPANavigationEnabled,e.showOneClickIcon=t.showOneClickIcon,e.showJobTags=t.showJobTags,new r(e)}))}i.length>3&&(i=i.slice(0,3)),this.set(i)}})}),define("app/views/detail/companyLCPView",["exports","marionette","jquery","underscore","radio","i18n","app/utils/debug","../shared/compactJobItemView","app/behaviors/tracking","app/behaviors/lazyLoad","app/utils/lazyLoad","./companyLCPMediaView","./companyLCPOtherJobsView","app/collections/companyJobs","app/helpers/alertHelper","app/services/scrollListener"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g){"use strict";function f(e){w.channel(V).command(L,{following:e.following})}var v=function(e){return e&&e.__esModule?e["default"]:e};e.showFollowing=f,Object.defineProperty(e,"__esModule",{value:!0});var b=v(t),y=(v(i),v(n)),w=(v(n),v(o)),_=v(a),C=(v(s),v(r),v(l)),k=v(d),x=v(c),S=v(u),M=v(p),T=v(h),I="follow-btn",E="unfollow-btn",A="loading",P="data-label-read-more",R="data-label-read-less",j="expanded",V="company",L="status:follow",B="topcard",D="status:follow";e["default"]=b.LayoutView.extend({template:"templates/partial/app/detail/company_lcp",className:"company-container",regions:{companyLCPMedia:".media-sec",companyLCPOtherJobs:".other-jobs"},initialize:function(){var e=this,t=w.channel(V);t.comply(L,function(t){e.model.set("following",t.following),e._reRenderFollowButton()})},onShow:function(){var e=this;y.defer(function(){e._renderReadButton(),e._reRenderFollowButton();var t=(e.$el.offset().top,e.model.get("decoratedJobPosting").decoratedCompany),i=!(!t||!t.hasPaidLcp),n=e.model.get("isDesktop"),o=e.model.get("isSPANavigationEnabled"),a=e.model.get("enableDerivedLocation"),s=e.model.get("showTagsForJobCards"),r=e.model.get("jobs"),l=e.model.get("mediaType"),d="companyLCP-media",c=void 0;r&&(c=new T({},{showJobAnalytics:n,showOneClickIcon:!1,showJobTags:s,isSPANavigationEnabled:o,enableDerivedLocation:a}),c.onEmbeddedContent({jobs:r})),i&&l&&e.getRegion("companyLCPMedia")&&x.attachComponent(e.$el,"lazy-load:"+d,300,function(){e.getRegion("companyLCPMedia").show(new S({model:e.model}))}),i&&r&&e.getRegion("companyLCPOtherJobs")&&e.getRegion("companyLCPOtherJobs").show(new M({collection:c,model:e.model}))})},behaviors:{trackingBehavior:{behaviorClass:C,modules:["companyDescriptionModule"],optionalModules:[{name:"otherJobsAtCompanyModule",checkProp:"jobs"},{name:"companyTargetedMediaModule",checkProp:"mediaType"}]},lazyLoadBehavior:{behaviorClass:k,radioCommand:"companyLCP",offsetDistance:100}},ui:{followUnFollowButton:".follow-unfollow-btn",followUnFollowText:".follow-unfollow-text",descriptionScroller:".description-scroller",readMoreButton:".read-more-btn",labelFollow:".label-follow"},events:{"click @ui.followUnFollowButton":"_sendFollowCompanyRequest","mouseleave @ui.followUnFollowButton":"_updateFollowButton","mouseenter @ui.followUnFollowButton":"_updateFollowButton","focus @ui.followUnFollowButton":"_updateFollowButton","blur @ui.followUnFollowButton":"_updateFollowButton","click @ui.readMoreButton":"_onReadButtonClicked"},_updateFollowButton:function(){this.ui.followUnFollowButton.removeClass(A)},_sendFollowCompanyRequest:function(e){var t=this;e.preventDefault();var i=this.ui.followUnFollowButton.addClass(A),n=!this.model.get("following"),o="lcp_follow",a="lcp_unfollow";i.prop("disabled",!0);var s=this.model.saveFollowing(n);s.done(function(){t._reRenderFollowButton(),i.prop("disabled",!1).focus(),t._updateFollowButton();var e=t.ui.followUnFollowButton.hasClass(I);i.data("control",e?o:a)}).fail(function(e){if(t.model.set("following",!n),t._reRenderFollowButton(),i.prop("disabled",!1).focus(),t._updateFollowButton(),m.showAlert({message:_.get("tryAgainErrorMessage"),type:"error",dismiss:!0,timeout:5e3}),window.jet){var o="Follow/unfollow module",a="The following error occurred for the "+o+": "+e.statusText;window.jet.error(a)}})},_reRenderFollowButton:function(){var e=this.ui.followUnFollowButton,t=this.ui.followUnFollowText,i=this.model.get("following"),n=this.ui.labelFollow,o=_.get("follow"),a=_.get("unfollow");"string"!=typeof e&&(w.channel(B).command(D,{isFollowing:this.model.get("following")}),e.toggleClass(E,i),e.toggleClass(I,!i),i?(t.text(a),n.text(a)):(t.text(o),n.text(o)))},_renderReadButton:function(){if("string"!=typeof this.ui.descriptionScroller){var e=this._canDescriptionBeExpanded(),t=this._isDescriptionExpanded();this.ui.readMoreButton.toggle(e),this.ui.descriptionScroller.toggleClass("expandable",e),this.ui.readMoreButton.attr("aria-expanded",t?"true":"false"),this.ui.readMoreButton.text(t?this.ui.readMoreButton.attr(R):this.ui.readMoreButton.attr(P))}},_canDescriptionBeExpanded:function(){if(this.ui.descriptionScroller.hasClass(j))return!0;var e=this.ui.descriptionScroller.get(0);return e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth?!0:!1},_isDescriptionExpanded:function(){var e=this.ui.descriptionScroller;return e.hasClass(j)},_onReadButtonClicked:function(e){e.preventDefault();var t="lcp_read_more",i="lcp_read_less",n=this._isDescriptionExpanded();this.ui.descriptionScroller.toggleClass(j,!n),this._renderReadButton(),this.ui.readMoreButton.data("control",n?t:i)}})}),define("app/views/detail/apply",["exports","module","marionette","backbone","jquery","underscore","i18n","mediaServerUploader","app/components/spinner","app/helpers/modalHelper","app/helpers/alertHelper","app/behaviors/tracking","app/utils/lazyLoad","app/views/detail/applySuccessLayoutView","app/views/detail/topCardView","app/views/detail/companyLCPView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g){"use strict";var f=function(e){return e&&e.__esModule?e["default"]:e},v=f(i),b=f(n),y=f(o),w=f(a),_=f(s),C=f(r),k=f(l),x=f(u),S=f(p),M=f(h),T=k(),I="dragover";t.exports=v.ItemView.extend({template:"templates/partial/app/detail/apply",onRender:function(){this.ui.backgroundImage.attr({width:"100%",height:""}),S.attach(this.$el,"applyModal")},behaviors:{trackingBehavior:{behaviorClass:x}},ui:{backgroundImage:".background-image",uploadButton:"#resume-file-upload-container",resumeUploadForm:"#resume-upload-form",resumeFileInput:"input[type=file].resume-file-input",resumeMediaId:"#resume-media-id",resumeName:"#resume-file-name",resumeMupldSignature:"#resume-mupld-sig",fileName:".first-line",fileInfo:".second-line",sendButton:"#send-application-button",applyButton:"#apply-job-button",editButton:"li .edit-option",cancelButton:".cancel",phoneFieldWrapper:".phone .field-wrapper",phoneInput:"#phone-input",emailInput:"#email-selector",applicationForm:"form",checkboxes:"form input[type=checkbox]",phoneInputField:"form input[type=tel]",errorMessage:".error-message",uploader:".uploader",dragDetect:".drag-detect",dropContainer:".droppable-container",remove:".remove",pencilIcon:".pencil-icon"},events:{"change @ui.resumeFileInput":"resumeInputChange",dragover:"_onDragOver","drop @ui.dragDetect":"_onDrop","dragleave @ui.dragDetect":"_onDragLeave","click @ui.sendButton":"sendHandler","click @ui.editButton":"editFieldHandler","click @ui.cancelButton":"cancelHandler","change @ui.checkboxes":"_onCheckboxChange","keydown @ui.phoneInputField":"_onPhoneInputKeyDown","click @ui.remove":"_removeUploadedFile","click @ui.pencilIcon":"_selectPhoneInput"},initUploader:function(e){this.ui.uploader.hasClass("uploaded")||new C(this.ui.resumeUploadForm[0],null,e)},_selectPhoneInput:function(){this.ui.phoneInputField.select()},_onDragOver:function(e){var t=this;e.preventDefault();var i=this.$el.parents(".modal");i.addClass("blur"),this.ui.dragDetect.addClass("visible"),w.defer(function(){t.ui.dragDetect.addClass(I)})},_onDragLeave:function(e){e.preventDefault();var t=this.$el.parents(".modal");this.ui.dragDetect.removeClass("visible").removeClass(I),t.removeClass("blur")},_onDrop:function(e){e.preventDefault();var t=this.$el.parents(".modal");this.ui.dragDetect.removeClass("visible"),t.removeClass("blur");var i=e.originalEvent.dataTransfer.files;if(i.length>1){var n={error:"NUM_FILES"};this.resumeUploadError(null,n)}else this.ui.resumeFileInput.value=i[0].value,this.model.set("files",i),this.initUploader(i),this.upload();return!1},resumeInputChange:function(e){this.ui.resumeUploadForm.append(e.target),this.model.set("files",null),this.initUploader(this.ui.resumeFileInput[0].files),this.upload()},upload:function(){var e=this;this.ui.errorMessage.empty(),this.ui.resumeUploadForm.submit();var t=this.$el.parents(".modal");if(T.attach(t),this.ui.resumeUploadForm.on("mpr-upload-success",function(t,i){e.resumeUploadSuccess(t,i)}),this.ui.resumeUploadForm.on("mpr-upload-error",function(t,i){e.resumeUploadError(t,i)}),this.model.get("files")){var i=this.model.get("files")[0].name,n=i.substring(i.lastIndexOf("\\")+1).split(".").pop();if(!w.contains(["pdf","doc","docx"],n)){var o={error:"INV_MEDIA"};this.resumeUploadError(null,o)}}},resumeUploadSuccess:function(e,t){var i=t.value,n=t.sig;this.ui.resumeMediaId.val(i),this.ui.resumeMupldSignature.val(n);var o=0;this.ui.resumeFileInput[0].files[0]?o=this.ui.resumeFileInput[0].files[0].size:this.model.get("files")&&(o=this.model.get("files")[0].size);var a="";this.ui.resumeFileInput.val()?a=this.ui.resumeFileInput.val():this.model.get("files")&&(a=this.model.get("files")[0].name);var s=a.substring(a.lastIndexOf("\\")+1);this.ui.resumeName.val(s);var r=s.split(".").pop(),l=this.calcFileSize(o),d=this.$el.parents(".modal");T.detach(d),this.ui.uploader.addClass("uploaded"),this.ui.fileName.text(s),this.ui.fileInfo.text(r.toUpperCase()+" "+l),this.ui.resumeFileInput.attr("disabled",!0),this.ui.remove.addClass("show"),this.ui.uploader.removeClass("before-file-upload"),this.ui.resumeFileInput.hide()},resumeUploadError:function(e,t){var i=this.ui.resumeFileInput.val();i.substring(i.lastIndexOf("\\")+1);this.model.set("errorType",t.error),this.render();var n=this.$el.parents(".modal");T.detach(n)},calcFileSize:function(e){var t=["Bytes","KB","MB","GB","TB"],i=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return 0==i?e+" "+t[i]:(e/Math.pow(1024,i)).toFixed(1)+" "+t[i]},_removeUploadedFile:function(e){e.stopPropagation(),this.ui.remove.removeClass("show"),this.ui.uploader.removeClass("uploaded"),this.ui.resumeFileInput.remove(),this.ui.fileName.remove(),this.ui.fileInfo.remove(),this.ui.uploader.addClass("before-file-upload"),this.render(),this.ui.errorMessage.empty()},_removeError:function(){this.ui.applicationForm.find("span.error").remove(),this.ui.applicationForm.find(".error").removeClass("error")},sendHandler:function(e){e.stopPropagation(),e.preventDefault(),this._removeError();var t=(this.ui.emailInput.length>0,this.ui.phoneInput.val()),i=t.trim().length>0;if(i){var n=this.model.get("applicant");n.phone=t,this.model.set("applicant",n),this.sendJobApplication()}else this._handleInvalidFormApplication(this.ui.resumeUploadForm,this.ui.phoneInput)},sendJobApplication:function(){var e=this,t=this.$el.parents(".modal-wrapper"),i="overlay",n=k(),o=this.$el.parents(".modal");n.attach(o),t.addClass(i),this.submitApplyRequest().complete(function(){t.removeClass(i),n.detach(o),o.focus()}).done(function(t){return e.handleSuccessState(t)}).fail(function(t){return e.handleFailureState(t)})},submitApplyRequest:function(){var e=this.ui.applicationForm,t=e.attr("method");return y.ajax({url:e.attr("action"),method:t,type:t,headers:{"X-IsAJAXForm":1,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:e.serialize()})},_handleInvalidFormApplication:function(e,t){var i=_.get("invalidPhoneNumber"),n=y("<span/>").addClass("error").text(i);0===t.val().trim.length&&(y(this.ui.phoneFieldWrapper).after(n),t.focus(),this.ui.phoneFieldWrapper.addClass("error-field"))},handleSuccessState:function(e){if(!e.success)return void this.handleFailureState(e);var t=this.model.get("applicant").memberPicture,i=this.model.get("messages").viewProfileLink,n=this.model.get("applicant").name,o=e.applyModel.messages.appliedDate;m.showApplied({appliedOn:o});var a=e.following;g.showFollowing({following:a});var s=new(b.Model.extend())({memberPicture:t,memberProfileLink:i,memberName:n,jssModel:e.jssModel,personConnectionModal:e.hasOwnProperty("youHaveConnectionsDisplayModule")});d.showViewInModal({title:e.message,view:new M({model:s}),replaceContent:!0})},handleFailureState:function(e){b.Radio.channel("debug").command("log",{msg:e,type:"error"});var t=e.message?e.message:_.get("generalApplyError");d.closeModal(),c.showAlert({message:t,type:"error",dismiss:!0,timeout:5e3}),window.jet.error("There was an error submitting job application")},cancelHandler:function(e){e.stopPropagation(),d.closeModal()},_onCheckboxChange:function(e){var t=y(e.target);t.prop("value",t.is(":checked"))}})}),define("app/models/applyModel",["exports","module","backbone","jquery","jobsUtils"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=a(o);t.exports=s.Model.extend({initialize:function(e){this.url=play.url({alias:"controllers.ViewJobController.viewApplyModal",arg0:this.id})},defaults:{sponsoredSrc:l.getQueryParams("spSrc")||"",trackSrc:l.getQueryParams("trkSrc")||"",trk:l.getQueryParams("trk")||"",refId:l.getQueryParams("refId")||"",displayFollowCompanyCheckbox:!0},trackApplyClick:function(){var e=play.url({alias:"controllers.ViewJobController.createInternalApplyClickEvent",arg0:this.id}),t=[];this.get("trackSrc")&&t.push("trkSrc="+this.get("trackSrc")),this.get("refId")&&t.push("refId="+this.get("refId")),this.get("sponsoredSrc")&&t.push("spSrc="+this.get("sponsoredSrc")),this.get("trk")&&t.push("trk="+this.get("trk"));var i=""+e+"?"+t.join("&");return r.get(i).fail(function(e){return window.jet.error(e)})}})}),define("app/views/detail/applyLayoutView",["exports","module","marionette","jquery","app/views/detail/apply","app/models/applyModel"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=(s(n),s(o));s(a);t.exports=r.LayoutView.extend({template:"templates/partial/app/detail/apply_layout",initialize:function(e){this.model=e.applyViewModel,this.dataModel=e.dataModel},regions:{applyContent:"#apply-form-outlet",successView:"#success-outlet"},onRender:function(){this.getRegion("applyContent").show(new l({model:this.dataModel}))}})}),define("app/views/detail/apply-starters/modalView",["exports","module","marionette","app/behaviors/tracking","app/helpers/modalHelper","app/helpers/alertHelper","i18n","radio","app/factories/modelFactory","app/models/embeddedContentModel"],function(e,t,i,n,o,a,s,r,l,d){"use strict";var c=function(e){return e&&e.__esModule?e["default"]:e},u=c(i),p=c(n),h=(c(s),c(r)),m=c(l),g=c(d);t.exports=u.ItemView.extend({template:"templates/partial/app/detail/apply-starters/modal_view",behaviors:{trackingBehavior:{behaviorClass:p}},ui:{optSwitch:".share-switch > input",optSwitchLabel:".share-switch > .explicit-label",applyButton:".apply-button"},events:{"change @ui.optSwitch":"_onOptSwitchChange","click @ui.applyButton":"_saveSharePreference"},initialize:function(){var e=this;this.newMessageLixEnabled=!1,m(g.extend(),["lixModule"]).done(function(t){t.get("isApplyStarterModalNewMessageEnabled")&&(e.newMessageLixEnabled=!0)})},_saveSharePreference:function(){var e=this.ui.optSwitch.is(":checked");h.channel("apply:starters").command("apply:starters:action:continue",{isShare:e}),o.closeModal()},_onOptSwitchChange:function(){var e=this.ui.optSwitch.is(":checked");this.ui.optSwitchLabel.text(this.ui.optSwitchLabel.data(e?"on":"off"))},templateHelpers:function(){return{newMessageLixEnabled:this.newMessageLixEnabled}}})}),define("app/views/detail/apply-starters/modalHeaderView",["exports","module","marionette","app/helpers/modalHelper"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);t.exports=a.ItemView.extend({template:"templates/partial/app/detail/apply-starters/modal_header",ui:{closeModalButton:".close-modal"},events:{"click @ui.closeModalButton":"_onCloseHandler"},_onCloseHandler:function(e){e.stopPropagation(),n.closeModal()}})}),define("app/views/detail/shareButtonView",["exports","module","marionette","jquery","underscore","i18n","radio","app/utils/debug","app/helpers/modalHelper","app/helpers/contextMenuHelper","mast/scripts/utils/Keycodes"],function(e,t,i,n,o,a,s,r,l,d,c){"use strict";var u=function(e){return e&&e.__esModule?e["default"]:e},p=u(i),h=u(n),m=(u(o),u(a)),g=(u(s),u(r),u(c),"width=550,height=380,scrollbars=yes,resizable=yes"),f="https://www.facebook.com/sharer/sharer.php?u=",v="https://plus.google.com/u/0/share?url=",b="https://twitter.com/intent/tweet?&url=",y="http://service.weibo.com/share/share.php?url=",w="http://v.t.qq.com/share/share.php?url=";h("body");t.exports=p.ItemView.extend({template:"templates/partial/app/detail/share_buttons",tagName:"div",className:"share_buttons",ui:{SocialShare:".share-button"},events:{"click @ui.SocialShare":"clickSocialShare"},clickSocialShare:function(e){if(!e.metaKey){e.preventDefault();var t=h(e.target).closest("a"),i=t.data("share-type"),n=h("link[rel=canonical]").attr("href")||window.location.href,o=this.model.get("hostname"),a=m.get("checkOutThisJobFrom"),s=m.get("takeALookFrom"),r=void 0,l=this.model.get("jobPosting").companyName,d=this.model.get("jobPosting").title;switch(i){case"linkedin":r=this.linkedinShareUrl(n,o,d,l,a),t.attr("itemprop",r);break;case"facebook":r=this.facebookShareUrl(n,l,a),t.attr("itemprop",r);break;case"gplus":r=this.gplusShareUrl(n),t.attr("itemprop",r);break;case"twitter":r=this.twitterShareUrl(n,l,a),t.attr("itemprop",r);break;case"weibo":r=this.weiboShareUrl(n,l,s),t.attr("itemprop",r);break;case"qq":r=this.qqShareUrl(n,l,s),t.attr("itemprop",r)}window.open(r,"_blank",g)}},linkedinShareUrl:function(e,t,i,n,o){var a=""+this.model.get("protocol")+t+"/shareArticle?url="+encodeURIComponent(e);return a+="&summary="+encodeURIComponent(o)+" "+encodeURIComponent(n),a+=i?"&title="+encodeURIComponent(i):"",a+=n?" - "+encodeURIComponent(n):""},facebookShareUrl:function(e,t,i){var n=""+f+encodeURIComponent(e);return n+="&t="+encodeURIComponent(i)+" "+encodeURIComponent(t)},gplusShareUrl:function(e){var t=""+v+encodeURIComponent(e);return t},twitterShareUrl:function(e,t,i){var n=""+b+encodeURIComponent(e);return n+="&text="+encodeURIComponent(i)+" "+encodeURIComponent(t)},weiboShareUrl:function(e,t,i){var n=""+y+encodeURIComponent(e);return n+="&title="+encodeURIComponent(i)+" "+encodeURIComponent(t)},qqShareUrl:function(e,t,i){var n=""+w+encodeURIComponent(e);return n+="&title="+encodeURIComponent(i)+" "+encodeURIComponent(t)}})}),function(e){var t,i=e.requires("jquery");t=function(){var e="POST",t=null;return{setLiteURL:function(e){t=e},getLiteURL:function(){return t},requestFlag:function(n,o){var a=o||function(){};if(null===t)throw new Error("requestFlag(), UCF endpoint url not set");i.ajax({url:t,type:e,data:n,cache:!1,headers:{"X-IsAJAXForm":1}}).done(function(e){a.call(this,e)}).fail(function(e,t,i){a.call(this,{content:i,status:t})})}}},e.exports("Jobs.UCF",t())}(window.LIModules),define("Jobs.UCF",function(e){return function(){var t,i;return i=function(){return LIModules.requires("Jobs.UCF")},t=i.apply(e,arguments),t||e.Jobs.UCF}}(this)),define("app/views/detail/flaggingView",["exports","module","marionette","jquery","i18n","app/utils/debug","Jobs.UCF","app/helpers/modalHelper","app/helpers/alertHelper"],function(e,t,i,n,o,a,s,r,l){"use strict";var d=function(e){return e&&e.__esModule?e["default"]:e},c=d(i),u=(d(n),d(o)),p=(d(a),d(s)),h="error";t.exports=c.ItemView.extend({template:"templates/partial/app/detail/flagging",className:"flagging-container",ui:{cancelButton:".cancel-btn",form:"form",message:".message",radioButtons:"form input[type=radio]"},events:{"submit @ui.form":"_onSubmitHandler","click @ui.cancelButton":"_onCancelHandler","invalid @ui.radioButtons":"_onFormInvalid"},onRender:function(){var e=this;this.ui.radioButtons.on("invalid",function(t){e._onFormInvalid(t)})},_onSubmitHandler:function(e){var t=this;e.preventDefault(),this.ui.message.text("").removeClass(h);var i=this.ui.form.serializeArray();p.getLiteURL()||p.setLiteURL(this.ui.form.attr("action")+"?csrfToken="+encodeURI(i[0].value)),p.requestFlag({contentSource:encodeURI(i[1].value),contentUrn:i[2].value,reason:encodeURI(i[3].value)},function(e){var i="ok"===e.status;if(i)r.closeModal(),l.showAlert({message:""+u.get("flaggingSuccess"),type:"success",dismiss:!0,timeout:!1});else{t.ui.message.addClass(h).text(t.ui.message.attr("data-error"));var n="Flagging (UCF) network request error.";window.jet.error(n)}})},_onCancelHandler:function(e){e.preventDefault(),r.closeModal()},_onFormInvalid:function(e){e.preventDefault(),this.ui.message.addClass(h).text(this.ui.message.attr("data-invalid"))}})}),define("app/views/detail/feedbackBaseView",["exports","module","marionette","app/factories/modelFactory","app/models/embeddedContentModel"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=a(o),d="Neo Job Feedback",c="======================================";t.exports=s.ItemView.extend({initialize:function(e){var t=this;r(l,["globalVariable"],null,["helpCenter","decoratedJob","jobPosting"]).done(function(i){t.model=i,t.model.set("feedbackSubject",e.feedbackSubject||d),t.model.set("isJobFeedback",e.isJobFeedback===!1?!1:!0)})},_appendFeedbackData:function(e){var t={};if(t.URL=window.location.href,t["User Agent"]=navigator.userAgent,t["Member ID"]=this.model.get("memberId"),t["Member Locale"]=this.model.get("locale"),t["User is member"]=this.model.get("isLoggedIn"),t["User is subscriber"]=this.model.get("isPremium"),this.model.get("isJobFeedback")){var i=this.model.get("decoratedJobPosting");i&&(t["Job ID"]=i.jobPosting.id,t["Job Listing Type"]=i.jobPosting.listingType),t["OnSite Apply Job"]=this.model.get("onSiteApply"),t["Closed Job"]=this.model.get("closed"),t["Applied Job"]=this.model.get("applied"),t["New Job"]=this.model.get("newJob")}for(var n=0;n<e.length;n++){var o=e[n];if("content"===o.name){o.value+="\n\n"+c+"\nUser Session Data Below:\n"+c;for(var a in t){var s=t[a];o.value+="\n"+a+": "+s}break}}return e}})}),define("app/views/detail/jobFeedbackView",["exports","module","marionette","jquery","i18n","app/utils/debug","app/helpers/modalHelper","app/helpers/alertHelper","app/components/spinner","app/behaviors/tracking","app/views/detail/feedbackBaseView"],function(e,t,i,n,o,a,s,r,l,d,c){"use strict";var u=function(e){return e&&e.__esModule?e["default"]:e},p=(u(i),u(n)),h=u(o),m=(u(a),u(l)),g=u(d),f=u(c),v=m(),b="error";t.exports=f.extend({template:"templates/partial/app/detail/job_feedback",className:"message-container",behaviors:{trackingBehavior:{behaviorClass:g,pageTrackingKey:{base:"jobs_job_detail",page:"feedback"}}},ui:{cancelButton:".cancel-btn",sendButton:".send-btn",form:"form",feedbackField:".feedback-sec",messageLabel:"#message-label",messageField:".message-field"},events:{"click @ui.cancelButton":"_cancelButtonHandler","submit @ui.form":"_formSubmitHandler"},_cancelButtonHandler:function(e){e.preventDefault(),s.closeModal()},_formSubmitHandler:function(e){var t=this;if(e.preventDefault(),this.ui.feedbackField.hasClass(b)&&this.ui.feedbackField.empty,!this._validate())return this.ui.messageField.addClass(b).attr("placeholder",""),this.ui.messageLabel.focus(),void this._showFeedbackMessage(h.get("messagingMissingError"),!0);v.attach(this.$el);var i=this.ui.form.serializeArray();i=this._appendFeedbackData(i),p.ajax({type:"POST",url:this.ui.form.attr("action"),data:p.param(i),headers:{"X-IsAJAXForm":1}}).then(_.bind(function(e){t._onMessageSent(e)},this),_.bind(function(e){t._onMessageSentError(e)},this))},_onMessageSent:function(e){v.detach(this.$el),r.showAlert({message:h.get("feedbackSuccess"),type:"success",dismiss:!0,timeout:5e3}),s.closeModal()},_onMessageSentError:function(e){v.detach(this.$el),this.ui.messageField.focus(),this._showFeedbackMessage(h.get("tryAgainErrorMessage"),!0)},_showFeedbackMessage:function(e,t){var i=p(this.ui.feedbackField).text(e);t?i.addClass(b):i.removeClass(b)},_validate:function(){var e=p.trim(this.ui.messageField.val());return""!==e}})}),define("app/views/detail/topcardMenuView",["exports","module","marionette","backbone","jquery","i18n","app/utils/debug","app/helpers/modalHelper","app/helpers/contextMenuHelper","app/views/detail/flaggingView","app/views/detail/jobFeedbackView","app/views/detail/messageHeader"],function(e,t,i,n,o,a,s,r,l,d,c,u){"use strict";var p=function(e){return e&&e.__esModule?e["default"]:e},h=p(i),m=p(n),g=(p(o),p(a)),f=(p(s),p(d)),v=p(c),b=p(u);t.exports=h.ItemView.extend({template:"templates/partial/app/detail/topcard_menu",tagName:"ul",className:"topcard-menu",ui:{flagButton:".flag-btn",feedbackButton:".feedback-btn"},events:{"click @ui.flagButton":"_handleFlagging","click @ui.feedbackButton":"_handleFeedback"},_handleFlagging:function(e){e.preventDefault(),r.showViewInModal({title:""+g.get("flaggingTitle"),view:new f({model:this.model}),element:this.model.get("element")}),l.closeContextMenu()},_handleFeedback:function(e){e.preventDefault();var t=new m.Model({title:g.get("sendFeedback2")});r.showViewInModal({view:new v,element:this.model.get("element"),customClass:"messaging secondary",header:new b({model:t})}),l.closeContextMenu()}})}),define("app/views/detail/ccModalItemView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/app/detail/cc_modal_item",tagName:"li",className:"person"})}),define("app/views/detail/ccModalView",["exports","module","marionette","backbone","underscore","i18n","app/behaviors/tracking","app/helpers/alertHelper","app/helpers/modalHelper","app/components/spinner","app/views/detail/ccModalItemView"],function(e,t,i,n,o,a,s,r,l,d,c){"use strict";var u=function(e){return e&&e.__esModule?e["default"]:e},p=u(i),h=u(n),m=u(o),g=u(a),f=u(s),v=u(d),b=u(c),y=v(),w=void 0;t.exports=p.CompositeView.extend({template:"templates/partial/app/detail/cc_modal",className:"cc-modal-container",childViewContainer:".people",childView:b,behaviors:function(){var e=this.options.model.get("isSchool");return{trackingBehavior:{behaviorClass:f,pageTrackingKey:{base:"jobs_job_detail",page:"neo_"+(e?"classmates":"coworkers")+"_modal"}}}},ui:{cancelButton:".cancel-btn",seeAllButton:".see-all-btn",buttonsContainer:".bottom-sec"},events:{"click @ui.cancelButton":"_onCancel","click @ui.seeAllButton":"_onSeeAll"},onShow:function(){this._loadData()},_loadData:function(){var e=this;y.attach(this.$el),this.ui.buttonsContainer.addClass("loading"),w=this.model.fetch().done(function(t){e._onLoaded(t)}).fail(function(t){e._onError(t)})},_onLoaded:function(e){var t=this;this.model.set(e);var i=this.model.get("isSchool")?"SchoolRecruitConnections":"CompanyRecruitConnections",n=this.model.get(i),o=m.map(n,function(e){return e.isSchool=t.model.get("isSchool"),new h.Model(e)});this.collection=new h.Collection(o),this.model.set("showSeeAll",this.model.get("totalNumConnections")>n.length),y.detach(this.$el),this.render()},_onError:function(e){l.closeModal(),r.showAlert({message:g.get("tryAgainErrorMessage"),type:"error",dismiss:!0})},_onCancel:function(e){e.stopPropagation(),l.closeModal()},_onSeeAll:function(e){e.stopPropagation(),window.open(this.model.get("seeAllLink")),l.closeModal()}})}),define("app/models/ccViewModel",["exports","module","backbone"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.Model.extend({defaults:{isSchool:!0,jobId:-1,currentCompanyId:-1},url:function(){return""+this.get("jobId")+"/"+(this.get("isSchool")?"classmatesAtCompany":"coworkersAtCompany")},fetch:function(){var e={currentCompanyId:this.get("currentCompanyId")};return o.Collection.prototype.fetch.call(this,{data:e})}})}),define("app/views/detail/ccModalHeader",["exports","module","marionette","underscore","app/views/shared/ModalHeader"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=(a(i),a(n),a(o));t.exports=s.extend({template:"templates/partial/app/detail/cc_modal_header",ui:{closeModalButton:"#close-modal-button",logo:".logo",
logoContainer:".logo-container"},onRender:function(){var e=this;this.ui.logo.one("load",function(t){e._onLogoLoaded(t)})},_onLogoLoaded:function(e){this.ui.logoContainer.addClass("loaded")}})}),define("app/views/detail/topCardView",["exports","marionette","backbone","jquery","radio","app/behaviors/lazyLoad","i18n","app/utils/language","app/helpers/modalHelper","app/helpers/alertHelper","app/helpers/contextMenuHelper","app/behaviors/tracking","app/utils/vendorPrefix","app/views/detail/applyLayoutView","app/views/detail/apply-starters/modalView","app/views/detail/apply-starters/modalHeaderView","app/models/applyModel","app/views/detail/shareButtonView","app/views/detail/topcardMenuView","app/views/detail/ccModalView","app/models/ccViewModel","app/views/detail/ccModalHeader"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g,f,v,b,y,w,C){"use strict";function k(e){I.channel($).command(K,{appliedOn:e.appliedOn})}var x=function(e){return e&&e.__esModule?e["default"]:e};e.showApplied=k,Object.defineProperty(e,"__esModule",{value:!0});var S=x(t),M=x(i),T=x(n),I=x(o),E=x(a),A=x(s),P=x(r),R=x(u),j=x(h),V=x(m),L=x(g),B=x(f),D=x(v),F=x(b),N=x(y),O=x(w),H=x(C),J="save",U="saved",z="loading",q="isFollowingCompany",$="topcard",K="status:applied",W="status:follow",G="action:apply",Y="action:save",Q="action:showCCModal",X="stickyAplly",Z="state:save",ee="state:applied",te="apply:starters",ie="apply:starters:action:continue",ne="sticky:share:profile",oe="sticky:apply:handler",ae="controllers.OffsiteJobApplicantsController.share",se="controllers.OffsiteJobApplicantsController.savePreferenceAndMaybeDoShare",re="controllers.OffsiteJobApplicantsController.undoShare",le=-70,de=8,ce=0,ue=101349322,pe=void 0,he=void 0,me=void 0;e["default"]=S.ItemView.extend({template:"templates/partial/app/detail/topcard",behaviors:{trackingBehavior:{behaviorClass:R,modules:["decoratedJobPostingModule","topCardV2Module"],optionalModules:[{name:"reasonToCareDisplayModule",checkProp:"reasonToCare"}]},lazyLoadBehavior:{behaviorClass:E,radioCommand:"topCard",offsetDistance:100}},initialize:function(e){var t=this,i=this.model.get("decoratedJobPosting").jobPosting.id;me=i===ue,this.model.set("isRTL",P.isRTL());var n=I.channel($),o=I.channel(te);n.comply(K,function(e){t._showApplied(e.appliedOn)}),n.comply(W,function(e){t.model.set(q,e.isFollowing)}),n.comply(G,function(e){t.ui.applyButton.trigger("click")}),n.comply(Y,function(e){t.ui.saveButton.trigger("click")}),n.comply(Q,function(e){t._showConnectionsModal(e)}),o.comply(ie,function(e){t._applyStartersContinue(e)}),o.comply(ne,function(e){t._applyWithShareProfile(e)}),o.comply(oe,function(e){t._applyStartersHandler(e.evt)})},ui:{applyButton:"#apply-job-button",applyStarterButton:"#apply-starters-job-button",offsiteApplyClick:"#offsite-apply-button",complexOnsiteApplyButton:"#complex-onsite-apply-button",saveButton:"#save-job-button",saveButtonText:".save-job-button-text",shareButton:".share-button",optionsButton:".options-button",connectionsLink:".connections-link",appliedText:".applied-text",connectionsImages:".connection-images",labelSave:".label-save"},events:{"click @ui.applyButton":"applyHandler","click @ui.saveButton":"saveJobHandler","click @ui.complexOnsiteApplyButton":"complexOnsiteApplyHandler","mouseleave @ui.saveButton":"_updateSaveButton","mouseenter @ui.saveButton":"_updateSaveButton","focus @ui.saveButton":"_updateSaveButton","blur @ui.saveButton":"_updateSaveButton","click @ui.shareButton":"_showShareButtons","click @ui.optionsButton":"_showOptions","click @ui.connectionsLink":"_showConnections","click @ui.connectionsImages":"_showConnections","click @ui.offsiteApplyClick":"_applyWithShareProfile","click @ui.applyStarterButton":"_applyStartersHandler"},onRender:function(){var e=this.model.get("applied"),t=(this.model.get("appliedDate"),this.model.get("closed")),i=this.ui.appliedText.text();e&&t?d.showAlert({message:""+i+" "+A.get("alertMessageJobStatusExpired")+".",type:"success",dismiss:!1,timeout:!1}):e?d.showAlert({message:i,type:"success",dismiss:!1,timeout:!1}):t&&(this.model.get("isProjectMoonshotEnabled")&&me?d.showAlert({message:""+A.get("projectMoonshotText")+".  ",type:"notice",dismiss:!1,timeout:!1,messageLinkText:""+A.get("projectMoonshotCta"),messageLink:"/closerthanyouthink?trk=yctyt_astronaut_job_organic_banner"}):d.showAlert({message:""+A.get("alertMessageJobStatusExpired")+".",type:"yield",dismiss:!1,timeout:!1}))},onShow:function(){if(this.model.get("isLoggedIn")&&T(this.ui.applyButton).length){var e=this.model.get("decoratedJobPosting"),t=e?e.jobPosting.id:null;t?(pe=new B({id:t}),he=pe.fetch()):window.jet.error("no jobId was found to open the apply modal")}document.addEventListener(p.pageVisibility().visibilityChange,function(){T(".content-container").addClass("rendered")}),this._renderPage()},applyHandler:function(e){var t=this;e.preventDefault(),pe.trackApplyClick(),pe.unset("errorType"),he.done(function(){pe.set("displayFollowCompanyCheckbox",!t.model.get(q)),l.showViewInModal({title:t.ui.applyButton.data("applyTitle"),view:new j({dataModel:pe}),element:t.ui.applyButton})})},complexOnsiteApplyHandler:function(e){var t=this.model.get("decoratedJobPosting"),i=t?t.jobPosting.id:null;i&&(pe=new B({id:i}),pe.trackApplyClick())},_applyWithShareProfile:function(e){var t=this;if(this.model.get("isLoggedIn")){var i=T(e.currentTarget).attr("href"),n=play.url({alias:ae,arg0:this.model.get("jobId")});i=play.addQueryParameter(i,"shouldShareWithPoster","false"),T(e.currentTarget).attr("href",i),this._saveUserSettings(n).then(function(e){e.showUndoBanner&&d.showAlert({message:A.get("undoShareProfile"),type:"success",dismiss:!1,timeout:!1,messageLink:"#",messageLinkText:A.get("undo"),messageLinkCallback:_.bind(t._undoShareProfile,t)})}),I.channel("scrollTo").command("to:top",{time:500})}},_applyStartersHandler:function(e){e.preventDefault(),l.showViewInModal({view:new V({model:this.model}),element:this.ui.applyStarterButton,header:new L({model:this.model}),customClass:"apply-starters-modal"})},_applyStartersContinue:function(e){var t=this,i=play.url({alias:se,arg0:e.isShare,arg1:this.model.get("jobId")});this._saveUserSettings(i).then(function(){e.isShare&&d.showAlert({message:A.get("undoShareProfile"),type:"success",dismiss:!1,timeout:!1,messageLink:"#",messageLinkText:A.get("undo"),messageLinkCallback:_.bind(t._undoShareProfile,t),linkClass:"share-profile-undo"}),t.model.set("showShareProfileWithJobPosterModal",!1),t.model.set("shareProfileWithJobPoster",e.isShare),t.render(),I.channel(X).command(ie),I.channel("scrollTo").command("to:top",{time:500})})},_saveUserSettings:function(e){return T.ajax({type:"PUT",url:e,headers:{"Csrf-Token":play.getPageContextValue("csrfToken")}})},_undoShareProfile:function(){var e=play.url({alias:re,arg0:this.model.get("jobId")});T.ajax({type:"DELETE",url:e,headers:{"Csrf-Token":play.getPageContextValue("csrfToken")}}).then(function(e){d.replaceCurrentAlert({message:A.get("undoSuccess"),type:"success",timeout:!1,dismiss:!1,messageLink:e.preferenceSettingsUrl,messageLinkText:A.get("manageJobPreference")})})},saveJobHandler:function(e){var t=this;e.preventDefault();var i=this.model.get("decoratedJobPosting"),n=this.ui.saveButton.addClass(z),o=!i.hasMySavedJobPosting;n.prop("aria-disabled",!0);var a=this.model.saveMyJob(o);a.done(function(){t._reRenderSaveButton(),n.prop("aria-disabled",!1),t._updateSaveButton()}).fail(function(){i.hasMySavedJobPosting=!o,t.model.set("decoratedJobPosting",i),t._reRenderSaveButton(),n.prop("aria-disabled",!1),t._updateSaveButton(),d.showAlert({message:A.get("tryAgainErrorMessage"),type:"error",dismiss:!0,timeout:5e3})})},_renderPage:function(){return T("#application-body").addClass("render-complete"),this.model.get("isLoadTransitionEnabled")?T("#application-body").addClass("loaded").one("transitionend webkitTransitionEnd oTransitionEnd",function(){T(".content-container").addClass("rendered")}):void 0},_reRenderSaveButton:function(){var e=this.model.get("decoratedJobPosting"),t=this.ui.saveButton,i=this.ui.saveButtonText,n=e.hasMySavedJobPosting,o=n?"topcard_unsave":"topcard_save",a=this.ui.labelSave,s=A.get("save"),r=A.get("unsave");t.toggleClass(U,n),t.toggleClass(J,!n),t.data("control",o),n?(i.text(r),a.text(r)):(i.text(s),a.text(s)),I.channel(X).command(Z,{isSaved:n})},_updateSaveButton:function(){this.ui.saveButton.removeClass(z)},_showShareButtons:function(e){if(e.preventDefault(),e.stopPropagation(),T(e.currentTarget).hasClass("clicked"))c.closeContextMenu();else{var t=new D({model:this.model}),i={view:t,anchor:this.ui.shareButton,bottom:de};this.model.get("isRTL")?i.right=-1*le:i.left=le,c.showViewInContextMenu(i)}},_showOptions:function(e){if(e.preventDefault(),e.stopPropagation(),T(e.currentTarget).hasClass("clicked"))c.closeContextMenu();else{var t=this.model.clone();t.set("element",this.ui.optionsButton);var i=new F({model:t}),n={view:i,anchor:this.ui.optionsButton,bottom:de};this.model.get("isRTL")?n.left=-1*ce:n.right=ce,c.showViewInContextMenu(n)}},_showApplied:function(e){this.model.set({applied:!0,appliedDate:e}),this.render(),I.channel(X).command(ee)},_showConnections:function(e){if(e.stopPropagation(),this.ui.connectionsLink.hasClass("open-modal")){var t=this.model.get("reasonToCare").maybeSchool||this.model.get("reasonToCare").maybeCompany,i=t.schoolName?t.schoolName:t.companyName,n=t.schoolLogoImage?t.schoolLogoImage:t.companyLogoImage,o=this.ui.connectionsLink.data("modalTitle"),a="SCHOOL_RECRUIT"===this.model.get("reasonToCare").flavor,s=this.model.get("reasonToCare").connections.maybeSeeMoreConnectionsLink,r=this.ui.connectionsLink,l=this.model.get("reasonToCare").connections.totalConnections;return void this._showConnectionsModal({orgName:i,orgLogoImage:n,title:o,isSchool:a,seeAllLink:s,$originElement:r,totalNumConnections:l})}if(!this.ui.connectionsLink.attr("href")){var d="#your-in .yourin-container";T(d).length>0&&I.channel("scrollTo").command("to:element",{to:d,offset:75,time:500})}},_showConnectionsModal:function(e){var t=e.orgName,i=e.orgLogoImage,n=e.title,o=e.isSchool,a=e.seeAllLink,s=e.$originElement,r=e.totalNumConnections,d=new M.Model({orgName:t,orgLogoImage:i,title:n}),c=new H({model:d}),u=this.model.get("decoratedJobPosting"),p=u?u.jobPosting.id:null;p||window.jet.error("no jobId was found to open the classmates/cowrkers modal");var h=this.model.get("decoratedJobPosting").decoratedCompany.company.companyId;h||window.jet.error("Company ID is not found to open the classmates/coworkers modal");var m=new O({isSchool:o,jobId:p,currentCompanyId:h,seeAllLink:a,totalNumConnections:r}),g=new N({model:m});l.showViewInModal({element:s,customClass:"cc",title:n,header:c,view:g})}})}),define("app/views/detail/summaryDetailView",["exports","module","marionette","backbone","jquery","underscore","radio","app/factories/modelFactory","app/helpers/modalHelper","app/models/embeddedContentModel","app/behaviors/tracking","app/services/scrollListener","app/behaviors/lazyLoad","app/services/tracking","app/services/rum"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m){"use strict";var g=function(e){return e&&e.__esModule?e["default"]:e},f=g(i),v=g(n),b=g(o),y=g(a),w=g(s),_=g(r),C=g(d),k=g(c),x=g(p),S="data-view-more",M="data-view-less",T=270;t.exports=f.ItemView.extend({template:"templates/partial/app/detail/summary",className:"summary-detail",behaviors:{trackingBehavior:{behaviorClass:k,modules:["jobDescriptionModule"],optionalModules:[{name:"posterInformationModule",checkProp:"posterId"},{name:"jobposterupsellModule",checkProp:"showInmailUpsell"}]},lazyLoadBehavior:{behaviorClass:x,radioCommand:"summaryDetail",offsetDistance:100}},ui:{descriptionModule:".description-module",posterContent:".poster-content",additionalDetails:".additional-details",toggleButton:".reveal-action",toggleButtonLabel:".reveal-action .reveal-action-text",msgButton:".msg-btn",summaryContent:".summary"},events:{"click @ui.toggleButton":"toggleHandler","click @ui.msgButton":"messageHandler"},onShow:function(){var e=this;this.ui.posterContent.length<1&&this.ui.descriptionModule.addClass("additional-details-shown"),y.defer(function(t){var i=e.model.get("isMobilePhone"),n=e.getCollapseHeight(i),o=e.model.get("isLoggedIn");o?"string"!=typeof e.ui.descriptionModule&&(i&&T>n&&e.ui.toggleButton.addClass("hide"),T>n&&(n=T),e.ui.descriptionModule.css({height:n})):i&&n>T?e.ui.descriptionModule.css({height:n}):e.ui.toggleButton.addClass("hide"),e._updateToggleLabel()}),m.rumRenderComplete()},toggleHandler:function(e){e.preventDefault();var t=b(".posting-content"),i=b(e.target).find("svg"),n="show";this.ui.descriptionModule.toggleClass(n);var o=t.outerHeight(!0),a="#chevron-up-icon",s="description_contract",r=this.ui.descriptionModule.height(),l=this.ui.toggleButton.attr("aria-expanded","true");this.ui.descriptionModule.hasClass(n)||(o=this.getCollapseHeight(),a="#chevron-down-icon",s="description_expand",r=0,l=this.ui.toggleButton.attr("aria-expanded","false")),u.setScrollTopOffset(r),this.ui.toggleButton.data("control",s),T>o&&(o=T),this.ui.descriptionModule.css({height:o}),i.find("use").attr("xlink:href",a),this._updateToggleLabel(),this.ui.descriptionModule.hasClass("show")||w.channel("scrollTo").command("to:top",{time:500})},_updateToggleLabel:function(){if("string"!=typeof this.ui.descriptionModule){var e=this.ui.descriptionModule.hasClass("show")?M:S;this.ui.toggleButtonLabel.text(this.ui.toggleButton.attr(e))}},getCollapseHeight:function(e){var t=this.ui.posterContent,i="string"!=typeof t&&t.length>0,n=this.ui.additionalDetails,o=this.model.get("posterId")?this.model.get("connectionDistance"):"",a=!this.model.get("isPremium")&&""!==o&&"DISTANCE_1"!=o,s=i?t.outerHeight(!1):"string"!=typeof n?n.outerHeight(!0):0,r=i?a?54:24:18;if(e){var l=this.ui.summaryContent,d=l.outerHeight(!0),c=270;s=d>c?c:d,r=24}return s+r},messageHandler:function(e){var t=this;e.preventDefault(),_(C.extend(),["posterInfo"]).done(function(e){var i=(e.get("posterProfileNameLink"),e.get("name")),n=({decoratedJobPosting:t.model.get("decoratedJobPosting")},void 0);if(e.get("posterPicture")){var o=e.get("posterPicture");n=play.mprUrl(o,100,100)}var a={decoratedProfile:{firstName:e.get("firstName"),lastName:e.get("lastName"),pictureLink:n,fullName:i,headLine:e.get("posterHeadline"),formattedLocation:e.get("posterFormattedLocation"),memberId:e.get("posterId")}};l.showMessagingModal({title:t.ui.msgButton.attr("data-messaging-modal-title"),to:new(v.Model.extend())(a)})})}})}),define("app/views/detail/heroImageView",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=(o(n),101349322),r="/jobs-frontend/images/closer_than_you_think/backgrounds/high_resolution/intro-min.jpg",l="/jobs-frontend/images/closer_than_you_think/backgrounds/low_resolution/intro-min.jpg",d=void 0;t.exports=a.ItemView.extend({template:"templates/partial/app/detail/hero_image",className:"hero-image",ui:{lowResImage:".low-res",highResImage:".high-res"},events:{"transitionend @ui.highResImage":"_onHighResImageShown"},initialize:function(){var e=this.model.get("decoratedJobPosting").jobPosting.id;d=e===s,this.model.set("isMoonPhaseJob",d)},onRender:function(){var e=this;this.ui.lowResImage.on("load",function(t){e._onLowResImageLoaded(t)}),this.ui.highResImage.on("load",function(t){e._onHighResImageLoaded(t)})},_onLowResImageLoaded:function(e){if(this.ui.lowResImage.addClass("shown"),this.model.get("isProjectMoonshotEnabled")&&d){var t=this.model.get("isMobilePhone")?l:r;this.ui.highResImage.prop("src","/jobs2/assets/"+encodeURIComponent(t))}else{var i={urn:this.model.get("decoratedJobPosting").decoratedCompany.careersImage},n=this.model.get("isMobilePhone")?400:1200,o=play.mprUrl(play.getMediaIdFromParams(i),n,n,!0);this.ui.highResImage.prop("src",o)}},_onHighResImageLoaded:function(e){this.ui.highResImage.addClass("shown")},_onHighResImageShown:function(e){this.ui.lowResImage.remove()}})}),define("app/views/detail/similarJobsView",["exports","module","marionette","jquery","underscore","app/utils/debug","app/behaviors/tracking","app/behaviors/lazyLoad","../shared/compactJobItemView","app/behaviors/linkTo"],function(e,t,i,n,o,a,s,r,l,d){"use strict";var c=function(e){return e&&e.__esModule?e["default"]:e},u=c(i),p=(c(n),c(o),c(a)),h=c(s),m=c(r),g=c(l),f=c(d);t.exports=u.CompositeView.extend({template:"templates/partial/app/detail/similar_jobs",className:"section-container",childViewContainer:".compact-jobs-container",childView:g,behaviors:{trackingBehavior:{behaviorClass:h,modules:["similarJobsModule"]},lazyLoadBehavior:{behaviorClass:m,radioCommand:"similarJobs",offsetDistance:100},linkToBehavior:{behaviorClass:f}},initialize:function(){p.log(""+this.collection.length+" jobs loaded in the SimilarJobs module")}})}),define("app/factories/lazyModelFactory",["exports","module","underscore","jquery"],function(e,t,i,n){"use strict";function o(e){if(e){var t=e.Model,i=e.modelOptions||{},n=e.fetchOptions||{},o={url:e.url};s.extend(o,i);var a=new t(o),l=r.when(a.fetch(n)),d=new r.Deferred;return l.done(function(e){a.set(e),d.resolve(a)}),l.fail(function(e){d.reject("Failed to retrieve data from given URL. Error: ",e)}),d.promise()}}var a=function(e){return e&&e.__esModule?e["default"]:e};t.exports=o;var s=a(i),r=a(n)}),define("app/models/premiumInsights",["exports","module","backbone"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.Model.extend({initialize:function(e,t){this.url=e.url},hasSufficientCompanyInsights:function(){var e=this.get("companyInsights"),t=e&&e.companyGrowthModule,i=e&&e.inflowCompanyRankingsModule,n=e&&e.schoolRankingsModule;return t||i||n}})}),define("app/views/detail/feedbackModalView",["exports","module","marionette","jquery","underscore","app/helpers/modalHelper","app/views/detail/feedbackBaseView"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=(r(i),r(n)),d=r(o),c=r(s),u="error-content-empty",p="submit-error",h="submit-success";t.exports=c.extend({template:"templates/partial/app/detail/feedback_modal",ui:{feedbackModal:".feedback-modal",feedbackForm:".feedback-form",feedbackTextArea:".feedback-content",submitButton:".submit-feedback",closeBannerButton:".close-banner-button"},events:{"click @ui.submitButton":"validateForm","click @ui.closeBannerButton":"closeBanner"},onShow:function(){var e=this;d.defer(function(){e.ui.feedbackTextArea.focus()})},closeBanner:function(e){this.ui.feedbackModal.removeClass("submit-error")},validateForm:function(e){e.preventDefault(),l.trim(this.ui.feedbackTextArea.val()).length<=0?this.ui.feedbackModal.addClass(u):(this.ui.feedbackModal.removeClass(u),this.handleFormSubmit())},handleFormSubmit:function(){var e=this.ui.feedbackForm.serializeArray();e=this._appendFeedbackData(e),l.ajax({type:"POST",url:this.ui.feedbackForm.attr("action"),data:l.param(e),headers:{"X-IsAJAXForm":1}}).then(d.bind(this.handleSubmitSuccess,this),d.bind(this.handleSubmitError,this))},handleSubmitSuccess:function(){this.ui.feedbackModal.removeClass(p),this.ui.feedbackModal.addClass(h),setTimeout(function(){a.closeModal()},2e3)},handleSubmitError:function(){this.ui.feedbackModal.addClass(p)}})}),define("app/components/companyGrowthChart",["exports","module","jquery","t8","i18n","underscore","jSecure"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=r(i),u=r(n),p=r(o),h=r(a),m=r(s),g=new u.DateFormatter,f=new u.NumberFormatter,v=p.getLocale().value,b=new u.Chooser,y=new u.Resources(dust.i18n,dust),w=function(){function e(t){function i(e){return e.length?e.slice(0,o).reverse().map(function(e){var t=e.yearmonth,i=new Date(t.year,t.month-1,t.day),n=e.employeeCount||0,o={count:n},a=void 0;return y.get("i18n_employees_count_with_choice_tag",u,o,function(e,t){a=t}),C?{y:n||0,name:{month:t.month,formattedLabel:[m.htmlEncode(g.format(i,v,"my.medium"))]},tooltipText:["<div>",m.htmlEncode(g.format(i,v,"my.medium")),"<br/>",'<span style="color: '+h+'">',m.htmlEncode(f.format(n,v)),"</span>",a?m.htmlEncode(a):m.htmlEncode(b.format(n,_,v)),"</div>"].join(" ")}:{y:n||0,name:{month:t.month,formattedLabel:[m.htmlEncode(t.month+"/"+t.year)]},tooltipText:["<div>",m.htmlEncode(t.month+"/"+t.year),"<br/>",'<span style="color: '+h+'">',m.htmlEncode(n),"</span>",1===n?m.htmlEncode("employee"):m.htmlEncode("employees"),"</div>"].join(" ")}}):void 0}function n(e){var t=e[0].yearmonth,i=new Date(t.year,t.month-1,t.day),n=e[0].employeeCount||0,o=!0;try{f.format(n,v),g.format(i,v,"my.medium"),b.format(n,_,v)}catch(a){o=!1}return o}l(this,e);var o=24,a=p.get("employeesChartSeriesName"),s=p.get("employeesChartSeriesNameDual"),r=p.get("employeesChartSeriesNameSingular"),d=p.get("numberOfEmployeesLabel"),u="templates/partial/app/shared/neo_i18n",h="#009EA5",w={1:!0,4:!0,7:!0,10:!0},_=[{category:"singular",comparison:"eq",text:r},{category:"plural",comparison:"eq",text:a},{category:"dual",comparison:"eq",text:s}],C=n(t.data,_),k=i(t.data);if(k){var x={credits:!1,title:null,legend:{enabled:!1},chart:{type:"area",height:275,spacing:[15,0,5,0],reflow:!0,marginRight:5},xAxis:{allowDecimals:!1,title:null,minPadding:0,maxPadding:0,type:"category",labels:{style:{textTransform:"uppercase",width:"30px"},step:1,formatter:function(){var e=this.value;return w[e.month]?e.formattedLabel:""}},gridLineWidth:0,lineWidth:0,offset:5,startOnTick:!0,tickWidth:0,tickmarkPlacement:"on"},yAxis:{title:{text:d},gridLineWidth:0,lineWidth:0,endOnTick:!0,labels:{formatter:function(){return C?f.format(this.value,v):void 0}}},plotOptions:{area:{lineColor:h,lineWidth:1,states:{hover:{lineWidth:1}},marker:{fillColor:"#FFF",enabled:!0,symbol:"circle",lineWidth:0,lineColor:"#D0D3D6",radius:0,states:{hover:{radius:6,fillColor:h,lineColor:h}}}}},tooltip:{formatter:function(){return this.point.options.tooltipText},backgroundColor:"white",borderWidth:1,borderColor:"#E6E9EC",shadow:!1,useHTML:!0,style:{color:"rgba(0,0,0,0.7)",fontSize:"12px",padding:"8px"}},series:[{color:"#D2ECEB",data:k}]};this.configs=c.extend({},x,t.configs)}}return d(e,[{key:"render",value:function(e){if(e.jquery||(e=c(e)),e.length&&Highcharts){var t=h.clone(this.configs);return"zh_CN"===v&&(t.xAxis.labels.style.width=100,t.xAxis.labels.rotation=75),"ja_JP"===v&&(t.xAxis.labels.style.width=100,t.xAxis.labels.rotation=75),"zh_TW"===v&&(t.xAxis.labels.style.width=100,t.xAxis.labels.rotation=75),t.chart.renderTo=e[0],new Highcharts.Chart(t),e}}}]),e}();t.exports=w}),define("app/views/detail/premium-insights/company-insights/companyGrowthView",["exports","module","marionette","jquery","app/components/companyGrowthChart","app/services/tracking"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=(s(n),s(o));t.exports=r.ItemView.extend({template:"templates/partial/app/detail/premium-insights/company-insights/company_growth",initialize:function(){this.model=this.transformModel(this.model)},renderCompanyGrowthChart:function(e){var t=e.get("data"),i=t&&t.companyGrowth,n=this.$el.find(".company-growth-chart");i&&i.length&&new l({data:i}).render(n)},transformModel:function(e){function t(e){if(1===e.length)return 100;var t=e.slice(0),i=t.shift().employeeCount,n=t.pop().employeeCount;return Math.floor(100*(i-n)/(n||1))}var i=e.get("data"),n=i&&i.companyGrowth;return n&&n.length&&(i.totalEmployees=n[0].employeeCount,i.percentGrowth=t(n)),e},onShow:function(){var e="moduleImpression",t="companyGrowthModuleRendered";a.emitTrackingEvent(e,[t])}})}),define("app/views/detail/premium-insights/company-insights/companyFunctionGrowthView",["exports","module","marionette","app/services/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);t.exports=a.ItemView.extend({template:"templates/partial/app/detail/premium-insights/company-insights/company_function_growth",initialize:function(){this.model=this.transformModel(this.model)},transformModel:function(e){function t(e){if(1===e.length)return 100;var t=e.slice(0),i=t.shift().employeeCount,n=t.pop().employeeCount;return Math.floor(100*(i-n)/(n||1))}var i=e.get("positionHealthModule"),n=i&&i.functionGrowth;return n&&(n.totalEmployees=n.companyGrowth[0].employeeCount,n.percentGrowth=t(n.companyGrowth)),e},onShow:function(){var e="moduleImpression",t="companyFunctionGrowthModuleRendered";n.emitTrackingEvent(e,[t])}})}),define("app/behaviors/Tooltip/components/Tooltip",["jquery","underscore","marionette"],function(e,t,i){var n,o=e(window),a=e(document),s=e("body"),r="active";n={dataContent:"tooltip-content",dataTitle:"tooltip-title",direction:"top",delay:{show:0,close:0},lastDirection:"top",extraOffset:4,persistent:!1,template:"templates/partial/app/shared/tooltip",trigger:"hover",type:"tooltip",positionAdjusted:!1,tooltipAdjustedOffset:16,tooltipClass:"",muteBackgroundClass:""};var l=i.Object.extend({initialize:function(i,o){this.el=i,this.$el=e(i),this.$el.data("tooltip-placement")&&(o.direction=this.$el.data("tooltip-placement")),this.$el.data("tooltip-position-adjusted")&&(o.positionAdjusted=this.$el.data("tooltip-position-adjusted")),this.options=t.defaults(o,n),this.timeout=null,this.setContent(),this.attachEvents()},attachEvents:function(){"hover"===this.getOption("trigger")&&this.$el.on("mouseenter.tooltip focus.tooltip",this.enter.bind(this)).on("mouseleave.tooltip blur.tooltip",this.leave.bind(this)),"hover-persistent"===this.getOption("trigger")?this.$el.on("mouseenter.tooltip focus.tooltip",this.toggle.bind(this)):this.$el.on("click.tooltip",this.toggle.bind(this))},onDestroy:function(){this.$el.off(".tooltip")},enter:function(){var e=this.getOption("delay").show;return clearTimeout(this.timeout),this._showing=!0,e?void(this.timeout=setTimeout(this.show.bind(this),e)):this.show()},show:function(){var e=this.$tip;this._showing&&(s.append(e),this.setPosition(),e.addClass(r),this.triggerMethod("tooltip:show"),o.on("resize.tooltip",this.setPosition.bind(this)),a.on("keydown.tooltip",this.handleDocKeydown.bind(this)),this.options.muteBackgroundClass&&this.options.muteBackgroundClass.addClass("muted"))},leave:function(){var e=this.getOption("delay").close;return clearTimeout(this.timeout),this._showing=!1,e?void(this.timeout=setTimeout(this.hide.bind(this),e)):this.hide()},hide:function(){this._showing||(this.$tip.detach(),this.$tip.removeClass(r),this.triggerMethod("tooltip:hide"),a.off("keydown.tooltip"),o.off("resize.tooltip"),this.options.muteBackgroundClass&&this.options.muteBackgroundClass.removeClass("muted"))},toggle:function(){this._showing=!this._showing,this._showing?(this.show(),"click"===this.getOption("trigger")?s.on("click.tooltip",this.handleBodyClick.bind(this)):"hover-persistent"===this.getOption("trigger")&&s.on("click",this.handleBodyClick.bind(this))):(this.hide(),s.off("click.tooltip"))},handleBodyClick:function(t){var i=t.target,n=e(i),o=this.getOption("persistent"),a=i===this.el||this.el.contains(i),r=this.$tip[0].contains(i),l=n.hasClass("tooltip-close");(l||!a&&!r&&!o)&&(this._showing=!1,this.hide(),s.off("click"))},handleDocKeydown:function(e){27===e.which&&(this._showing=!1,this.hide())},getElementData:function(t){var i;return t=t||this.$el,i=t[0],e.extend({width:t.outerWidth(!0),height:t.outerHeight(!0),scrollTop:t.scrollTop()},t.offset())},setPosition:function(){var t,i,n=this.getElementData(),o=this.getElementData(s),a=this.options.lastDirection,r=this.options.direction,l=r,d=this.options.positionAdjusted;this.$tip.addClass(r),i=this.getElementData(this.$tip),d?t=this.calculateAdjustedPosition(r,n,i):(t=this.calculatePosition(n,i,r),r=this.checkInViewport(r,t,o,n,i),r!==l&&(this.$tip.removeClass(l).addClass(r),this.options.lastDirection=r,i=this.getElementData(this.$tip),t=this.calculatePosition(n,i,r)),r!==a&&(this.$tip.removeClass(a),this.options.lastDirection=r)),this.$tip.css(e.extend({position:"absolute"},t))},checkInViewport:function(e,t,i,n,a){var s=e,r=o.height(),l=o.width();switch(e){case"top":t.top<i.scrollTop&&(s="bottom");break;case"bottom":t.top+a.height>r+i.scrollTop&&(s="top");break;case"left":t.left<0&&(s="right");break;case"right":t.left+a.width>l&&(s="left")}return s},calculatePosition:function(e,t,i){var n,o,a;switch(a=this.getOption("extraOffset"),i){case"top":n=e.top-t.height-a,o=e.left+e.width/2-t.width/2;break;case"bottom":n=e.top+e.height+a,o=e.left+e.width/2-t.width/2;break;case"left":n=e.top+e.height/2-t.height/2,o=e.left-t.width-a;break;case"right":n=e.top+e.height/2-t.height/2,o=e.left+e.width+a}return{top:n,left:o}},calculateAdjustedPosition:function(e,t,i){var n,o,a,s;switch(a=this.getOption("extraOffset"),s=this.getOption("tooltipAdjustedOffset"),i18nLocale=this.getOption("tooltipi18n"),e){case"top":"ar_AE"===i18nLocale?(n=t.top-i.height-a,o=t.left-s):(n=t.top-i.height-a,o=t.left+t.width+s-i.width);break;case"bottom":"ar_AE"===i18nLocale?(n=t.top+t.height+a,o=t.left-s):(n=t.top+t.height+a,o=t.left+t.width+s-i.width);break;case"left":n=t.top+t.height+s-i.height,o=t.left-i.width-a;break;case"right":n=t.top+t.height+s-i.height,o=t.left+t.width+a}return{top:n,left:o}},getTemplate:function(){return this.getOption("template")},setContent:function(){var n,o,a,s,r;if(n=this.$el.attr("aria-describedby")){if(o=e("#"+n),!o.length)throw new Error('Tooltip: Unable to find element with id "#'+n+'"!');this.$tip=o}else{if(a=this.getOption("dataContent"),!this.$el.data(a))throw new Error('Tooltip: Specify content by setting "data-'+a+'" on the trigger element!');s=t.uniqueId("tip-content-"),r=i.Renderer.render(this.getTemplate(),{content:this.$el.data(a),title:this.$el.data(this.getOption("dataTitle")),id:s,closeIcon:this.getOption("closeIcon")}),this.$el.attr("aria-describedby",s),this.$tip=e(r)}return this.$tip.css({position:"absolute"}).addClass(this.getOption("type")),""!==this.getOption("tooltipClass")&&this.$tip.addClass(this.getOption("tooltipClass")),this.$tip}});return l}),define("app/behaviors/Tooltip/Tooltip",["jquery","underscore","marionette","app/behaviors/Tooltip/components/Tooltip","i18n"],function(e,t,i,n,o){var a={};return i.Behavior.extend({defaults:{tooltipContentAttr:"tooltip-content",tooltipDirection:"top",tooltipDirectionAttr:"tooltip-direction",tooltipSelector:".js-tooltip",tooltipTrigger:"hover",tooltipClassName:"tooltip-class-name",returnTooltip:!1},initialize:function(){this.tooltips=[]},onAttach:function(){var e=this.view.$(this.getOption("tooltipSelector"));e.each(function(e,t){t&&this.createTooltip(t)}.bind(this))},buildTooltipOptions:function(t){var i=this.options;return{dataContent:i.tooltipContentAttr,direction:e(t).data(this.getOption("tooltipDirectionAttr"))||i.tooltipDirection,trigger:i.tooltipTrigger,tooltipClass:e(t).data(this.getOption("tooltipClassName")),tooltipi18n:o.getLocale().value}},createTooltip:function(i){var o=e(i),s=o.attr("id"),r=this.options;if(s||(o.attr("id",t.uniqueId("tooltip-")),s=o.attr("id")),!a[s]){var l=new n(i,this.buildTooltipOptions(i));a[s]=l,r.returnTooltip&&this.view.triggerMethod("behavior:tooltipCreated",l),this.tooltips.push(l)}},onDestroy:function(){t.each(this.tooltips,function(e){e&&(e.destroy(),delete a[e.$el.attr("id")])})}})}),define("app/views/detail/premium-insights/company-insights/companyTopCompaniesView",["exports","module","marionette","jquery","radio","app/behaviors/Tooltip/Tooltip","app/behaviors/tracking","app/services/tracking"],function(e,t,i,n,o,a,s,r){"use strict";var l=function(e){return e&&e.__esModule?e["default"]:e},d=l(i),c=l(n),u=l(o),p=l(a),h=l(s),m="topcard",g="action:showCCModal";t.exports=d.ItemView.extend({template:"templates/partial/app/detail/premium-insights/company-insights/company_top_companies",
behaviors:{Tooltip:{behaviorClass:p},trackingBehavior:{behaviorClass:h}},ui:{logoImages:".logo-image",seeAllLink:".company-school-see-who-hired-link"},events:{"click @ui.seeAllLink":"seeAllHandler","click @ui.logoImages":"logoClickHandler"},seeAllHandler:function(e){e.stopPropagation();var t=c(e.currentTarget);if(t.hasClass("open-modal")){e.preventDefault();var i=!1,n=t.data("orgName"),o=t.data("orgLogo"),a=t.data("modalTitle"),s=t.data("seeAllLink"),r=t.data("orgCount");u.channel(m).command(g,{orgName:n,orgLogoImage:o,title:a,isSchool:i,seeAllLink:s,$originElement:t,totalNumConnections:r})}},logoClickHandler:function(e){e.stopPropagation()},initialize:function(){this.model=this.transformModel(this.model,this.options)},transformModel:function(e,t){if(e.set("isClassmatesCoworkersModalEnabled",t.isClassmatesCoworkersModalEnabled),e.get("inflowCompanyRankingsModule")){var i=10,n=13,o=e.get("metaDataModule")&&e.get("metaDataModule").jobFunction,a=e.get("inflowCompanyRankingsModule"),s=e.get("hiredFromCompany"),r=a&&a.rankings,l=r.slice(0),d=t.isExpanded?n:i;a.topCompanies=l.slice(0,d),a.memberCompanyInfo&&s&&a.memberCompanyInfo.memberPosition.company===s.positionWithCompanyModel.company&&(s.jobFunction=o&&o[0],s.jobFunctionCount=s.jobFunction&&a.memberCompanyInfo.count,a.memberCompanyInfo.totalHiredCount=s.formerCoworkersCount),(a.memberCompanyInfo||s)&&(a.showRankingsHeader=!0)}return e.get("metaDataModule")?e.get("metaDataModule").isExpanded=t.isExpanded:e.isExpanded,e},onShow:function(){var e="premiumCompanyTopCompaniesModuleRendered";r.emitTrackingEvent("moduleImpression",[e])}})}),define("app/views/detail/premium-insights/company-insights/companyTopSchoolsView",["exports","module","marionette","jquery","radio","app/behaviors/Tooltip/Tooltip","app/services/tracking","app/behaviors/tracking"],function(e,t,i,n,o,a,s,r){"use strict";var l=function(e){return e&&e.__esModule?e["default"]:e},d=l(i),c=l(n),u=l(o),p=l(a),h=l(r),m="topcard",g="action:showCCModal";t.exports=d.ItemView.extend({template:"templates/partial/app/detail/premium-insights/company-insights/company_top_schools",behaviors:{Tooltip:{behaviorClass:p},trackingBehavior:{behaviorClass:h}},ui:{logoImages:".logo-image",seeAllLink:".company-school-see-who-hired-link"},events:{"click @ui.seeAllLink":"seeAllHandler","click @ui.logoImages":"logoClickHandler"},seeAllHandler:function(e){e.stopPropagation();var t=c(e.currentTarget);if(t.hasClass("open-modal")){e.preventDefault();var i=!0,n=t.data("orgName"),o=t.data("orgLogo"),a=t.data("modalTitle"),s=t.data("seeAllLink"),r=t.data("orgCount");u.channel(m).command(g,{orgName:n,orgLogoImage:o,title:a,isSchool:i,seeAllLink:s,$originElement:t,totalNumConnections:r})}},logoClickHandler:function(e){e.stopPropagation()},initialize:function(){this.model=this.transformModel(this.model,this.options)},transformModel:function(e,t){if(e.set("isClassmatesCoworkersModalEnabled",t.isClassmatesCoworkersModalEnabled),e.get("schoolRankingsModule")){var i=10,n=13,o=e.get("metaDataModule")&&e.get("metaDataModule").jobFunction,a=e.get("schoolRankingsModule"),s=e.get("hiredFromSchool"),r=a&&a.rankings,l=r.slice(0),d=t.isExpanded?n:i;a.topSchools=l.slice(0,d),a.membersSchoolInfo&&s&&a.membersSchoolInfo.membersSchool.school===s.educationWithSchoolModel.school&&(s.jobFunction=o&&o[0],s.jobFunctionCount=s.jobFunction&&a.membersSchoolInfo.count,a.membersSchoolInfo.totalHiredCount=s.alumnusCount),(a.membersSchoolInfo||s)&&(a.showRankingsHeader=!0)}return e.get("metaDataModule")?e.get("metaDataModule").isExpanded=t.isExpanded:e.isExpanded,e},onShow:function(){var e="premiumCompanyTopSchoolsModuleRendered";s.emitTrackingEvent("moduleImpression",[e])}})}),define("app/views/detail/premium-insights/company-insights/companyNoDataView",["exports","module","marionette","app/services/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);t.exports=a.ItemView.extend({template:"templates/partial/app/detail/premium-insights/company-insights/company_no_data",onShow:function(){var e="moduleImpression",t="premiumCompanyNullStateModuleRendered";n.emitTrackingEvent(e,[t])}})}),define("app/behaviors/Tooltip/Hovercard",["jquery","underscore","app/behaviors/Tooltip/Tooltip","app/behaviors/Tooltip/components/Tooltip"],function(e,t,i,n){return i.extend({defaults:t.defaults({tooltipSelector:".js-hovercard",tooltipTitleAttr:"tooltip-title",tooltipPersistentAttr:"tooltip-persistent",tooltipTrigger:"click",tooltipPositionAdjustedAttr:"tooltip-position-adjusted",extraOffset:8,tooltipAdjustedOffset:32,closeIcon:!1,delay:{show:!1,hide:!1}},i.prototype.defaults),buildTooltipOptions:function(t){var n=this.options,o=i.prototype.buildTooltipOptions.call(this,t);return e.extend(o,{dataTitle:n.tooltipTitleAttr,template:"templates/partial/app/shared/hovercard",trigger:n.tooltipTrigger,type:"hovercard",persistent:e(t).data(this.getOption("tooltipPersistentAttr")),closeIcon:n.closeIcon,adjusted:e(t).data(this.getOption("tooltipPositionAdjustedAttr")),tooltipAdjustedOffset:n.tooltipAdjustedOffset,muteBackgroundClass:this.view.$(this.options.muteBackgroundClass)})}})}),define("app/views/detail/premium-insights/companyPremiumInsightsLayoutView",["exports","module","backbone","marionette","jquery","app/views/detail/feedbackModalView","app/views/detail/premium-insights/company-insights/companyGrowthView","app/views/detail/premium-insights/company-insights/companyFunctionGrowthView","app/views/detail/premium-insights/company-insights/companyTopCompaniesView","app/views/detail/premium-insights/company-insights/companyTopSchoolsView","app/views/detail/premium-insights/company-insights/companyNoDataView","app/behaviors/Tooltip/Hovercard","app/behaviors/lazyLoad","app/services/tracking","app/helpers/modalHelper"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m){"use strict";var g=function(e){return e&&e.__esModule?e["default"]:e},f=g(i),v=g(n),b=(g(o),g(a)),y=g(s),w=g(r),C=g(l),k=g(d),x=g(c),S=g(u),M=g(p),T="insights-bottom-row company-bottom-row";t.exports=v.LayoutView.extend({template:"templates/partial/app/detail/premium-insights/company_premium_insights",regions:{companyInsights:".company-insights-content",companyGrowth:".company-growth",companyFunctionGrowth:".company-function-growth",companyTopCompanies:".company-top-companies",companyTopSchools:".company-top-schools",companyNoData:".company-no-data",companyTopRow:".company-top-row",companyTalentSourceHeader:".talent-source-header",companyFooter:".insights-footer"},ui:{feedbackButton:".feedback-button-company-insights"},events:{"click @ui.feedbackButton":"feedbackHandler"},behaviors:{Hovercard:{behaviorClass:S,muteBackgroundClass:".company-insights-content",tooltipTrigger:"hover-persistent"},lazyLoadBehavior:{behaviorClass:M,radioCommand:"companyPremiumInsights",offsetDistance:100}},renderCompanyGrowthChart:function(){var e=this.companyGrowthView;e&&e.renderCompanyGrowthChart(e.model)},onBeforeShow:function(){var e=this.model,t=e.get("companyInsights"),i=t&&t.metaDataModule,n=t&&t.companyGrowthModule,o=t&&t.inflowCompanyRankingsModule,a=t&&t.schoolRankingsModule,s=t&&t.positionHealthModule,r=t&&t.hiredFromSchool,l=t&&t.hiredFromCompany,d=(r||l)&&i,c=this.options.isClassmatesCoworkersModalEnabled,u=e.get("decoratedCompany");e.hasSufficientCompanyInsights()||d?(n?(s?this.showChildView("companyFunctionGrowth",new w({model:new f.Model({positionHealthModule:s,metaDataModule:i})})):this.$el.find(this.regions.companyFunctionGrowth).remove(),this.companyGrowthView=new y({model:new f.Model(n)}),this.showChildView("companyGrowth",this.companyGrowthView)):this.$el.find(this.regions.companyTopRow).remove(),i&&(this.setMemberInfo(t),i.schoolRankingsModuleExists=a,i.schoolCallOut=r||a&&a.membersSchoolInfo,i.inflowCompanyRankingsModuleExists=o,i.companyCallOut=l||o&&o.memberCompanyInfo),o||l?this.showChildView("companyTopCompanies",new C({model:new f.Model({hiredFromCompany:l,inflowCompanyRankingsModule:o,metaDataModule:i,decoratedCompany:u}),isExpanded:a||r?!1:!0,isClassmatesCoworkersModalEnabled:c})):this.$el.find(this.regions.companyTopCompanies).remove(),a||r?this.showChildView("companyTopSchools",new k({model:new f.Model({schoolRankingsModule:a,hiredFromSchool:r,metaDataModule:i,decoratedCompany:u}),isExpanded:o||l?!1:!0,isClassmatesCoworkersModalEnabled:c})):this.$el.find(this.regions.companyTopSchools).remove(),this.$el.find(".insights-card").length?this.$el.find(".insights-card").last().parent().addClass(T):this.regions.companyFooter.remove()):(this.$el.find(this.regions.companyInsights).remove(),this.showChildView("companyNoData",new x({model:e}))),o||l||a||r||this.$el.find(this.regions.companyTalentSourceHeader).remove()},setMemberInfo:function(e){var t=e&&e.inflowCompanyRankingsModule,i=e&&e.schoolRankingsModule,n=e&&e.metaDataModule,o=n&&n.jobFunction,a=t&&t.rankings,s=i&&i.rankings,r=a&&_.find(a,function(e,t){return e.rank=t,e.jobFunction=o&&o[0],e.memberPosition}),l=s&&_.find(s,function(e,t){return e.rank=t,e.jobFunction=o&&o[0],e.membersSchool});t?t.memberCompanyInfo=r:t,i?i.membersSchoolInfo=l:i},onShow:function(){var e="moduleImpression",t="premiumCompanyInsightsModuleRendered";h.emitTrackingEvent(e,[t])},feedbackHandler:function(e){m.showViewInModal({title:"Send Feedback",view:new b({feedbackSubject:"Neo Company Insights"})})}})}),define("app/views/detail/premium-insights/applicants-insights/applicantsRankView",["exports","module","marionette","app/behaviors/Tooltip/Tooltip","app/services/tracking"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n);t.exports=s.ItemView.extend({template:"templates/partial/app/detail/premium-insights/applicants-insights/applicants_rank",behaviors:{Tooltip:{behaviorClass:r,tooltipDirection:"right"}},initialize:function(e){this.model=this.transformModel(e.model)},transformModel:function(e){var t=e.get("rankExplanations");return t&&t.length&&(t=t.map(function(e){return e.meterRank=Math.ceil(e.percentile/20)})),e},onShow:function(){var e="moduleImpression",t="premiumApplicantsRankModuleRendered";o.emitTrackingEvent(e,[t])}})}),define("app/views/detail/premium-insights/applicants-insights/applicantsSkillsView",["exports","module","marionette","app/services/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);t.exports=a.ItemView.extend({template:"templates/partial/app/detail/premium-insights/applicants-insights/applicants_skills",initialize:function(){this.model.set("memberSkillsCount",this.model.get("skills").reduce(function(e,t){return e+=t.checked?1:0},0))},onShow:function(){var e="moduleImpression",t="topSkillsModuleRendered";n.emitTrackingEvent(e,[t])}})}),define("app/views/detail/premium-insights/applicants-insights/applicantsExperienceView",["exports","module","marionette","app/services/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);t.exports=a.ItemView.extend({template:"templates/partial/app/detail/premium-insights/applicants-insights/applicants_experience",onShow:function(){var e="moduleImpression",t="seniorityModuleRendered";n.emitTrackingEvent(e,[t])}})}),define("app/views/detail/premium-insights/applicants-insights/applicantsEducationView",["exports","module","marionette","app/services/tracking"],function(e,t,i,n){"use strict";function o(e){var t=100,i=t-e.reduce(function(e,t){return e+t.percent},0);return i>0&&{degreeMessage:"Other",applicantHasDegree:!1,percent:i,isOther:!0}}var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i);t.exports=s.ItemView.extend({template:"templates/partial/app/detail/premium-insights/applicants-insights/applicants_education",initialize:function(){var e=this.model.get("topDegreeElements").slice(0),t=this.model.get("fallback");if(!t){var i=o(e);i&&e.push(i),this.model.set("topDegreeElements",e)}},onShow:function(){var e="moduleImpression",t="educationModuleRendered";n.emitTrackingEvent(e,[t])}})}),define("app/components/applicantsLocationsMap",["exports","module","jquery","underscore"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=o(i),l=o(n),d=function(){function e(t){function i(e){return e.slice(0,o).filter(function(e){return!!e.countryLatitude&&!!e.countryLongitude}).map(function(e,t){return{lat:e.latitude?e.latitude:e.countryLatitude,lon:e.longitude?e.longitude:e.countryLongitude,id:e.location,i18nLocation:e.i18nLocation,z:n(e.upperRange)}})}function n(e){var t=15,i=100;return t>e?t:e>i?i:e}if(a(this,e),t&&t.data&&Highcharts){var o=3,s="#009EA5",l="#FFF",d="#D0D3D6",c=Highcharts.maps["custom/world"],u=i(t.data),p=3,h=1;if(u&&c){var m={chart:{spacing:[0,0,0,0],margin:[0,0,0,0]},exporting:!1,title:null,credits:{enabled:!1},legend:{enabled:!1},mapNavigation:{enabled:!0,enableButtons:!1,enableMouseWheelZoom:!1,enableDoubleClickZoomTo:!1,enableDoubleClickZoom:!1,enableTouchZoom:!1},plotOptions:{map:{borderColor:"#D0D3D6"}},tooltip:{enabled:!0,animation:!1,backgroundColor:l,borderColor:d,borderRadius:5,followPointer:!1,followTouchMove:!0,hideDelay:0,useHTML:!0,style:{padding:"10px",margin:"8px 0",fontWeight:"100"},formatter:function(){return this.point.i18nLocation}},series:[{name:"Basemap",mapData:c,borderColor:"#FFF",nullColor:"#E4E3E4",enableMouseTracking:!1,dashStyle:"Dot"},{type:"mapbubble",name:"ApplicantsLocations2",dataLabels:{enabled:!1},animation:!0,allowPointSelect:!0,enableMouseTracking:!0,maxSize:30,minSize:12,zMax:100,zMin:15,marker:{enabled:!0,fillColor:"transparent",lineColor:"transparent",symbol:"circle",lineWidth:0,states:{hover:{enabled:!0,fillColor:"transparent",lineColor:s,lineWidth:h},select:{enabled:!0,fillColor:"transparent",lineColor:s,lineWidth:h}}},data:u},{type:"mappoint",name:"ApplicantsLocations",dataLabels:{enabled:!1},animation:!0,allowPointSelect:!1,enableMouseTracking:!1,marker:{enabled:!0,fillColor:s,radius:p,lineColor:"transparent",lineWidth:0,symbol:"circle",states:{hover:{enabled:!0,fillColor:s,radius:p,lineColor:"transparent",lineWidth:0,symbol:"circle"},select:{enabled:!0,fillColor:s,radius:p,lineColor:"transparent",lineWidth:0,symbol:"circle"}}},data:u}]};this.configs=r.extend({},m,t.configs),this.data=u}}}return s(e,[{key:"zoomToLocation",value:function(e,t){var i=this.map,n=i.get(e),o=1;n&&(n.select(!0),i.mapZoom(t||o,n.x,n.y))}},{key:"resetMap",value:function(){var e=this.map;this.data[0]?(this.zoomToLocation(this.data[0].id),e.mapZoom(),this.zoomToLocation(this.data[0].id,.25)):e.mapZoom()}},{key:"render",value:function(e,t){if(e.jquery||(e=r(e)),e.length&&Highcharts&&proj4){t=t||{};var i=l.clone(this.configs);i.chart.renderTo=e[0];var n=new Highcharts.Map(i);return this.map=n,this.data[0]&&t.zoomToFirstDataPoint&&this.zoomToLocation(this.data[0].id,.25),e}}}]),e}();t.exports=d}),define("app/views/detail/premium-insights/applicants-insights/applicantsLocationView",["exports","module","marionette","jquery","app/behaviors/Tooltip/Tooltip","app/components/applicantsLocationsMap"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(o),c=s(a);t.exports=r.ItemView.extend({template:"templates/partial/app/detail/premium-insights/applicants-insights/applicants_location",ui:{locationTitle:".location-title",resetMapButton:".reset-button-link"},events:{"click @ui.locationTitle":"clickedLocationTitle","click @ui.resetMapButton":"resetMap"},behaviors:{Tooltip:{behaviorClass:d,tooltipDirection:"right"}},onRender:function(){this.renderApplicantsLocationsMap(this.model)},renderApplicantsLocationsMap:function(e){var t=e.get("applicantsLocations"),i=this.$el.find(".applicants-location-map");if(t&&t.length){var n=new c({data:t});n.render(i,{zoomToFirstDataPoint:!0}),this.applicantsLocationsMap=n,this.ui.locationTitle.first().addClass("selected")}},clickedLocationTitle:function(e){this.ui.locationTitle.removeClass("selected"),e.preventDefault();var t=l(e.target),i=t.data("location"),n=this.applicantsLocationsMap;i&&n&&(n.zoomToLocation(i),t.addClass("selected"))},resetMap:function(e){this.ui.locationTitle.removeClass("selected");var t=this.applicantsLocationsMap;t&&t.resetMap(),this.ui.locationTitle.first().addClass("selected")}})}),define("app/views/detail/premium-insights/applicants-insights/applicantsNoDataView",["exports","module","marionette","app/services/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);t.exports=a.ItemView.extend({template:"templates/partial/app/detail/premium-insights/applicants-insights/applicants_no_data",onShow:function(){var e="moduleImpression",t="premiumApplicantsNullStateModuleRendered";n.emitTrackingEvent(e,[t])}})}),define("app/views/detail/premium-insights/applicantsPremiumInsightsLayoutView",["exports","module","backbone","marionette","app/views/detail/feedbackModalView","app/views/detail/premium-insights/applicants-insights/applicantsRankView","app/views/detail/premium-insights/applicants-insights/applicantsSkillsView","app/views/detail/premium-insights/applicants-insights/applicantsExperienceView","app/views/detail/premium-insights/applicants-insights/applicantsEducationView","app/views/detail/premium-insights/applicants-insights/applicantsLocationView","app/views/detail/premium-insights/applicants-insights/applicantsNoDataView","app/behaviors/Tooltip/Hovercard","app/services/tracking","app/helpers/modalHelper","app/models/embeddedContentModel","app/factories/modelFactory"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g){"use strict";var f=function(e){return e&&e.__esModule?e["default"]:e},v=f(i),b=f(n),y=f(o),w=f(a),_=f(s),C=f(r),k=f(l),x=f(d),S=f(c),M=f(u),T=f(m),I=f(g),E="insights-bottom-row";t.exports=b.LayoutView.extend({template:"templates/partial/app/detail/premium-insights/applicants_premium_insights",regions:{applicantsInsightsContent:".applicants-insights-content",applicantsRank:".applicants-rank",applicantsSkills:".applicants-skills",applicantsExperience:".applicants-experience",applicantsEducation:".applicants-education",applicantsLocation:".applicants-location",applicantsNoData:".applicants-no-data",applicantsFooter:".insights-footer"},ui:{feedbackButton:".feedback-button-applicants-insights"},behaviors:{Hovercard:{behaviorClass:M,muteBackgroundClass:".applicants-insights-content",tooltipTrigger:"hover-persistent"}},events:{"click @ui.feedbackButton":"feedbackHandler"},onBeforeShow:function(){var e=this.model,t=e.get("educationModule"),i=e.get("seniorityModule"),n=e.get("topLocationsModule"),o=e.get("topSkillsModule"),a=(e.get("applicationsOverTimeModule"),e.get("showEducationFallback")),s=e.get("applicantRankModule"),r=new v.Model(s);e.get("hasEnoughApplicants")?(r.set({hasEnoughApplicants:e.get("hasEnoughApplicants"),numApplicants:e.get("numApplicants"),applicationsOverTimeModule:e.get("applicationsOverTimeModule")}),this.showChildView("applicantsRank",new w({model:r})),this._checkSkillsModule(o)?this.showChildView("applicantsSkills",new _({model:new v.Model(o)})):this.$el.find(this.regions.applicantsSkills).remove(),this._checkSeniorityModule(i)?this.showChildView("applicantsExperience",new C({model:new v.Model(i)})):this.$el.find(this.regions.applicantsExperience).remove(),this._checkEducationModule(t)?this._showEducationModule(t,a):this.$el.find(this.regions.applicantsEducation).remove(),this._checkLocationModule(n)?this.showChildView("applicantsLocation",new x({model:new v.Model(n)})):this.$el.find(this.regions.applicantsLocation).remove(),this.$el.find(".insights-card").length?this.$el.find(".insights-card").last().parent().addClass(E):this.regions.applicantsFooter.remove()):(this.$el.find(this.regions.applicantsInsightsContent).remove(),this.showChildView("applicantsNoData",new S({model:e})))},onShow:function(){this.triggerMethod("applicantsInsights:show");var e="moduleImpression",t="premiumApplicantsInsightsModuleRendered";p.emitTrackingEvent(e,[t])},feedbackHandler:function(e){h.showViewInModal({title:"Send Feedback",view:new y({feedbackSubject:"Neo Applicants Insights"})})},_showEducationModule:function(e,t){var i=this,n=e.topDegreeElements.slice(0),o=new v.Model(e),a=!1;if(n[0]&&100===n[0].percent){var s=!0;o.set("fallback",s),I(T,["reasonToCare"]).fail(function(e){i._callShowEducation(o)}).done(function(e){n[0].applicantHasDegree&&t?a=!0:a,o.set("reasonToCareTip",a),i._callShowEducation(o)})}else this._callShowEducation(o)},_callShowEducation:function(e){this.showChildView("applicantsEducation",new k({model:e}))},_checkSkillsModule:function(e){return e&&e.skills&&e.skills.length>0},_checkEducationModule:function(e){return e&&e.topDegreeElements&&e.topDegreeElements.length>0&&e.topDegreeElements[0].percent>0},_checkSeniorityModule:function(e){return e&&e.seniorityData&&e.seniorityData[0].count>0},_checkLocationModule:function(e){return e&&e.applicantsLocations&&e.applicantsLocations.some(function(e){return e.countryLatitude&&e.countryLongitude&&e.upperRange})}})}),define("app/views/detail/premium-insights/noDataPremiumInsightsView",["exports","module","marionette","app/services/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);t.exports=a.ItemView.extend({template:"templates/partial/app/detail/premium-insights/no_data_premium_insights",onShow:function(){var e="moduleImpression",t="premiumCombinedNullStateModuleRendered";n.emitTrackingEvent(e,[t])}})}),define("app/views/detail/premium-insights/applicants-insights/applicantsErrorView",["exports","module","marionette","app/services/tracking","app/behaviors/tracking"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(o);t.exports=s.ItemView.extend({template:"templates/partial/app/detail/premium-insights/applicants-insights/applicants_error",behaviors:{trackingBehavior:{behaviorClass:r}},ui:{retryLink:".applicants-insights-retry"},events:{"click @ui.retryLink":"clickedRetryLink"},onShow:function(){var e="moduleImpression",t="premiumApplicantsInsightsErrorModuleRendered";n.emitTrackingEvent(e,[t])},clickedRetryLink:function(e){this.triggerMethod("applicantsInsights:retry")}})}),define("app/views/detail/premium-insights/applicants-insights/applicantsLoadingView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/app/detail/premium-insights/applicants-insights/applicants_loading_screen"})}),define("app/views/detail/premium-insights/parentPremiumInsightsLayoutView",["exports","module","jquery","underscore","radio","marionette","app/utils/debug","app/factories/lazyModelFactory","app/models/premiumInsights","app/behaviors/tracking","app/services/tracking","app/views/detail/premium-insights/companyPremiumInsightsLayoutView","app/views/detail/premium-insights/applicantsPremiumInsightsLayoutView","app/views/detail/premium-insights/noDataPremiumInsightsView","app/views/detail/premium-insights/applicants-insights/applicantsErrorView","app/views/detail/premium-insights/applicants-insights/applicantsLoadingView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g){"use strict";var f=function(e){return e&&e.__esModule?e["default"]:e},v=f(i),b=f(n),y=f(o),w=f(a),_=(f(s),f(r)),C=f(l),k=f(d),x=f(u),S=f(p),M=f(h),T=f(m),I=f(g),E="ajax_d_job_details_applicants_premium_insights_success",A="d_job_details_applicants_premium_insights_load_time",P="_start",R="_end",j=window.performance&&"function"==typeof window.performance.mark,V=j&&window.performance;t.exports=w.LayoutView.extend({template:"templates/partial/app/detail/premium-insights/parent_premium_insights",regions:{companyPremiumInsights:"#company-premium-insights",applicantsPremiumInsights:"#applicant-premium-insights",noDataPremiumInsights:"#no-data-premium-insights"},behaviors:{trackingBehavior:{behaviorClass:k,modules:["premiumInsightsModule"]}},onBeforeShow:function(){var e=this.model,t=e.get("companyInsights"),i=e.get("decoratedJobPosting")&&e.get("decoratedJobPosting").decoratedCompany||{},n=e.get("formerCoworkersCount")&&e.get("positionWithCompanyModel"),o=e.get("alumnusCount")&&e.get("educationWithSchoolModel");n&&t&&(t.hiredFromCompany={formerCoworkersCount:e.get("formerCoworkersCount"),positionWithCompanyModel:e.get("positionWithCompanyModel"),seeMoreFormedCoworkersLink:e.get("seeMoreFormedCoworkersLink")}),o&&t&&(t.hiredFromSchool={alumnusCount:e.get("alumnusCount"),educationWithSchoolModel:e.get("educationWithSchoolModel"),seeMoreAlumnusLink:e.get("seeMoreAlumnusLink")});var a=t&&new C({companyInsights:t,decoratedCompany:i}),s=(n||o)&&t&&t.metaDataModule,r=t&&(a.hasSufficientCompanyInsights()||s),l=e.get("hasEnoughApplicants");r||l?(this.companyPremiumInsightsView=new x({model:a,isClassmatesCoworkersModalEnabled:e.get("isClassmatesCoworkersModalEnabled")}),this.getRegion("companyPremiumInsights").show(this.companyPremiumInsightsView),l?this.renderLoadingScreen():this.getRegion("applicantsPremiumInsights").show(new S({model:new C({hasEnoughApplicants:l,numApplicants:e.get("numApplicants")})}))):this.getRegion("noDataPremiumInsights").show(new M({model:e}))},startTimingForMarkers:function(e){j&&e.forEach(function(e){V.mark(e+P)})},endTimingForMarkers:function(e){j&&e.forEach(function(e){V.mark(e+R)})},measureRumMarkers:function(e){j&&e.forEach(function(e){var t=""+e+P,i=""+e+R;V.getEntriesByName(t).length&&V.getEntriesByName(i).length&&V.measure(e,t,i)})},renderLoadingScreen:function(){this.getRegion("applicantsPremiumInsights").show(new I)},renderApplicantsInsights:function(){var e=this;this.startTimingForMarkers([A]);var t=1e4,i=this.model,n=i.get("decoratedJobPosting"),o=n&&n.jobPosting.id;this.startTimingForMarkers([E]);var a="applicantAnalytics/"+o,s=_({Model:C,url:a,fetchOptions:{timeout:t}});s.done(function(t){e.endTimingForMarkers([E]),t.set({hasEnoughApplicants:i.get("hasEnoughApplicants"),showEducationFallback:i.get("showEducationFallback"),numApplicants:i.get("numApplicants")}),e.getRegion("applicantsPremiumInsights").show(new S({model:t}))}),s.fail(function(){e.getRegion("applicantsPremiumInsights").show(new T),window.jet&&window.jet.error(new Error("Applicants analytics AJAX call failed"));var t="moduleImpression",i="premiumApplicantsInsightsModuleRendered";c.emitTrackingEvent(t,[i])})},reflowHighchartsComponents:function(){v(window).trigger("resize")},onPageLoadEvents:function(){this.model.get("hasEnoughApplicants")&&this.renderApplicantsInsights(),this.companyPremiumInsightsView&&this.companyPremiumInsightsView.renderCompanyGrowthChart()},onShow:function(){"complete"!==document.readyState?v(window).on("load",this.onPageLoadEvents.bind(this)):this.onPageLoadEvents(),this.model.get("scrollToPremiumInsights")&&!function(){var e=".premium-insights";b.defer(function(){y.channel("scrollTo").command("to:element",{to:e,offset:45,time:200})})}()},childEvents:{"applicantsInsights:show":function(){this.reflowHighchartsComponents(),this.endTimingForMarkers([A]),this.measureRumMarkers([E,A])},"applicantsInsights:retry":function(){this.renderLoadingScreen(),this.renderApplicantsInsights()}}})}),define("app/views/detail/whatsYourInView",["exports","module","marionette","jquery","radio","app/behaviors/tracking","app/behaviors/lazyLoad"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=r(a),p=r(s),h="topcard",m="action:showCCModal";t.exports=l.CompositeView.extend({template:"templates/partial/app/detail/whats_yourin",behaviors:{trackingBehavior:{behaviorClass:u,modules:["yourInDisplayModule"]},lazyLoadBehavior:{behaviorClass:p,radioCommand:"whatsYourIn",offsetDistance:100}},ui:{seeWhoLinks:".whats-yourin-text a"},events:{"click @ui.seeWhoLinks":"_onSeeWhoClicked"},_onSeeWhoClicked:function(e){if(this.model.get("isClassmatesCoworkersModalEnabled")){e.preventDefault();var t=d(e.currentTarget).hasClass("school"),i=this.model.get(t?"educationWithSchoolModel":"positionWithCompanyModel"),n=i[t?"schoolName":"companyName"],o=i[t?"schoolLogoImage":"companyLogoImage"],a=d(e.currentTarget).parents(".whats-yourin-text").data("modalTitle"),s=this.model.get(t?"seeMoreAlumnusLink":"seeMoreFormedCoworkersLink"),r=d(e.currentTarget),l=this.model.get(t?"alumnusCount":"formerCoworkersCount");c.channel(h).command(m,{orgName:n,orgLogoImage:o,title:a,isSchool:t,seeAllLink:s,$originElement:r,totalNumConnections:l})}}})}),define("app/lib/TwoBoxTypeahead",["exports","module","jquery","bloodhound","app/lib/TwitterTypeahead"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=a(o),d=function(e){function t(e){e=e||{},o.each(function(t,n){var o=s(n),d=o.data(),c=d.limit||a.limit,u=e.filter?e.filter:function(t){return e.jsonkey||t.resultList||[]},p=function(t,i){var n=e.queryParam?e.queryParam:"query",o=d.queryParam,a=o?Object.keys(o):[],s="";a.forEach(function(e){s+="&"+e+"="+o[e]});var r=encodeURIComponent(i);return""+t+"?"+n+"="+r+s},h=void 0===e.replace?p:e.replace,m={url:e.sourceUrl||d.sourceUrl,filter:u,replace:h},g=function(e){return r.tokenizers.obj(e.displayName)},f="displayName";e.limit=c,e.remote=m,e.datumTokenizer=g,e.displayKey=f;var v=new l(o,e);v.init(),v.on(l.EVENTS.SELECTED,function(e,t,n){i(s(this),t)}),v.on(l.EVENTS.AUTOCOMPLETED,function(e,t,n){i(s(this),t)}),e.eventHandlers&&e.eventHandlers.forEach(function(e){v.on(e.event,e.callback)})})}function i(e,t){var i=s("input[rel=typeahead-location-id]");"location"===e.attr("name")&&i.length&&i.val(t.id)}var n="input[rel=typeahead], input.typeahead",o=e.find(n),a={limit:10};return{init:t}};d.EVENTS=l.EVENTS,t.exports=d}),define("app/views/search/manageJobAlertItemView",["exports","module","marionette","jquery","underscore","app/helpers/modalHelper","app/helpers/alertHelper","i18n","radio","app/services/ds"],function(e,t,i,n,o,a,s,r,l,d){"use strict";var c=function(e){return e&&e.__esModule?e["default"]:e},u=c(i),p=c(n),h=c(o),m=c(r),g=c(l),f=c(d);t.exports=u.ItemView.extend({template:"templates/partial/guest_job_search/job_alert_manage_items",ui:{csrfToken:'input[name="csrfToken"]',jobAlertFields:".alert-frequency-select, .email-notification-checkbox, .push-notification-checkbox",editJobAlertLink:".job-alert-edit-link"},events:{"click .job-alert-delete-link":"deleteJobAlertHandler","click .edit-job-alert-expand":"editJobAlertHandler","click .job-alert-edit-link":"mobileEditJobAlertHandler","click .job-details-label-link":"jobAlertLinkClickHandler"},changeJobAlertAttribute:function(e,t){var i=e.parents(".manage-job-alert-item").index(),n=e.val();"checkbox"===e.attr("type")&&(n=e.is(":checked")),this.model.get("jobAlerts")[i][t]=n},onShow:function(e){var t=this;p("#manage-job-alerts-outlet").on("change",this.ui.jobAlertFields,function(e){t.changeJobAlertAttribute(p(e.target),p(e.target).data("field"))}.bind(this))},deleteJobAlertHandler:function(e){var t=this;e.preventDefault();var i=p(e.target).parents(".manage-job-alert-item-form"),n=i.attr("method"),o=(encodeURIComponent(this.ui.csrfToken.val()),this.model.get("isLoggedIn")?i.attr("action"):""+i.attr("action")+"?authToken="+this.model.get("guestAuthToken"));this.model.deleteJobAlert(o,n,i).done(function(i){var n=p(e.target).parents(".manage-job-alert-item").index();if(n>-1){var o=h.clone(t.model.get("jobAlerts"));o.splice(n,1),t.model.set("jobAlerts",o),t.model.get("isJobsHome")&&f.update(window.location.pathname,"jobAlertDisplayModule",t.model.get("jobAlerts")),t.render(),0===t.model.get("jobAlerts").length&&a.closeModal()}var r="SUCCESS_DELETE",l=t.model.jobAlertResponseMap[r];s.showAlert({message:m.get(l.i18n_key),type:l.type,dismiss:!0,
timeout:!1,clearBuffer:!0}),t.model.get("isJobsHome")&&g.channel("deleteJobAlert").command("delete:jobAlert",{jobAlerts:t.model.get("jobAlerts")})}.bind(this)).fail(function(e){var i="ERROR_DELETE",n=t.model.jobAlertResponseMap[i];s.showAlert({message:m.get(n.i18n_key),type:n.type,dismiss:!0,timeout:!1,clearBuffer:!0})})},mobileEditJobAlertHandler:function(e){e.preventDefault();var t=p(e.currentTarget).parents(".manage-job-alert-item").data("job-alert-id");this.triggerMethod("action:showJobAlerMobileEditScreen",{alertId:t,model:this.model})},editJobAlertHandler:function(e){e.preventDefault();var t=p(e.target).parents(".manage-job-alert-item");t.toggleClass("expanded"),t.find(".manage-job-alert-edit-fields").toggleClass("active");var i=t.hasClass("expanded")?"chevron-up-icon":"chevron-down-icon";t.find(".edit-job-alert-icon").attr("type",i)},_updateModel:function(e){var t=e.replace(/search\?/gi,"searchRefresh?refreshType=fullpage&");g.channel("manageJobAlert").command("manageJobAlert:delta",{endpoint:t,newUrl:e,isFullPageRefresh:!0})},jobAlertLinkClickHandler:function(e){if(!this.model.get("isJobsHome")){e.preventDefault(),a.closeModal();var t=p(e.currentTarget).attr("href");this._updateModel(t)}}})}),define("app/models/search/jobAlertsModel",["exports","module","app/models/embeddedContentModel","jquery","i18n"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=a(o);t.exports=s.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"globalVariableModule"},{name:"searchValuesModule",optional:!0},{name:"UILixModule"},{name:"jobSearchAlertModule",optional:!0}],jobAlertResponseMap:{SUCCESS_CREATE:{type:"success",i18n_key:"job_alert_create_success"},SUCCESS_CREATE_NO_LOCATION:{type:"success",i18n_key:"job_alert_create_success_no_location"},SUCCESS_CREATE_GUEST:{type:"success",i18n_key:"job_alert_create_success_guest"},SUCCESS_UPDATE:{type:"success",i18n_key:"job_alert_update_success"},SUCCESS_DELETE:{type:"success",i18n_key:"job_alert_delete_success"},UNACCEPTABLE_SEARCH_TYPE:{type:"yield",i18n_key:"job_alert_create_unable"},UNACCEPTABLE_OWNER_TYPE:{type:"yield",i18n_key:"job_alert_create_unable"},UNACCEPTABLE_FREQUENCY:{type:"yield",i18n_key:"job_alert_create_unable"},NO_RESPONSE:{type:"yield",i18n_key:"job_alert_create_unable"},MEMBER_EMAIL_ADDRESS:{type:"yield",i18n_key:"job_alert_create_member_email_no_link"},EMAIL_IN_REDLIST:{type:"yield",i18n_key:"job_alert_create_unable"},OVER_QUOTA:{type:"yield",i18n_key:"job_alert_create_maximum"},OVER_QUOTA_NO_LINK:{type:"yield",i18n_key:"job_alert_create_maximum_no_link"},OVER_QUOTA_GUEST:{type:"yield",i18n_key:"job_alert_create_maximum_guest"},OBJECTIONABLE_QUERY:{type:"error",i18n_key:"job_alert_create_questionable"},EMPTY_QUERY:{type:"notice",i18n_key:"job_alert_create_keyword"},ERROR_UPDATE:{type:"error",i18n_key:"job_alert_update_error"},ERROR_DELETE:{type:"error",i18n_key:"job_alert_delete_error"}},getAlertErrorResponse:function(e,t){var i=e;return"OVER_QUOTA"===e&&(i=this.get("isLoggedIn")?"OVER_QUOTA_NO_LINK":"OVER_QUOTA_GUEST"),this.jobAlertResponseMap[i]},compileCreateData:function(e,t,i){var n=e.split("&"),o={};return n.forEach(function(e){var t=e.split("=")[0],i=e.split("=")[1];o[t]=i}),o.emailEnabled=t,o.notificationsEnabled=i,o.searchQueryParams=this.get("searchQueryParams"),this.get("keywords")?o.searchName=this.get("geoLocation").cityName?l.get("job_alert_name_both"):l.get("job_alert_name_keywords"):o.searchName=this.get("geoLocation").cityName?l.get("job_alert_name_location"):"",o.emailAddress&&(o.emailAddress=decodeURIComponent(o.emailAddress)),o},deleteJobAlert:function(e,t,i){return this._sendCreateAjax(e,t,i.serialize())},createJobAlert:function(e,t,i,n,o){var a=this.compileCreateData(i.serialize(),n,o);return this._sendCreateAjax(e,t,JSON.stringify(a))},fetchJobAlerts:function(e,t,i){var n=i?i.serialize():{};return this._sendCreateAjax(e,t,n)},updateJobAlerts:function(e,t,i){return this._sendCreateAjax(e,t,JSON.stringify(i))},_sendCreateAjax:function(e,t,i){return r.ajax({url:e,method:t,type:t,headers:{"X-IsAJAXForm":1,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:i})}})}),define("app/views/search/manageJobAlerts",["exports","module","marionette","app/helpers/modalHelper","app/helpers/alertHelper","app/views/search/manageJobAlertItemView","app/models/search/jobAlertsModel","i18n"],function(e,t,i,n,o,a,s,r){"use strict";var l=function(e){return e&&e.__esModule?e["default"]:e},d=l(i),c=l(a),u=(l(s),l(r));t.exports=d.LayoutView.extend({template:"templates/partial/guest_job_search/manage_job_alerts_modal",ui:{cancelButton:".modal-cancel",saveButton:".manage-job-alerts-modal-save",doneButton:".done-btn.job-alert-mobile-screen-btn",csrfToken:'input[name="csrfToken"]',manageJobAlertsSaveForm:".manage-job-alerts-save-form"},events:{"click @ui.cancelButton":"cancelHandler","click @ui.saveButton":"saveHandler","click @ui.doneButton":"mobileDoneHandler"},childEvents:{"action:showJobAlerMobileEditScreen":"showJobAlerMobileEditScreen"},regions:{manageItemsContent:"#manage-job-alerts-items"},onRender:function(){this.getRegion("manageItemsContent").show(new c({model:this.model}))},cancelHandler:function(e){e.preventDefault(),n.closeModal()},mobileDoneHandler:function(e){e.preventDefault(),this.triggerMethod("action:hideMobileJobAlertScreen")},showJobAlerMobileEditScreen:function(e,t){this.triggerMethod("action:showMobileJobAlertScreen",{alertId:t.alertId,view:"edit",model:t.model})},saveHandler:function(e){var t=this;e.preventDefault();var i=this.ui.manageJobAlertsSaveForm,a=encodeURIComponent(this.ui.csrfToken.val()),s=this.model.get("isLoggedIn")?""+i.attr("action")+"?csrfToken="+a:""+i.attr("action")+"?csrfToken="+a+"&authToken="+this.model.get("guestAuthToken"),r=i.attr("method");this.model.updateJobAlerts(s,r,this.model.get("jobAlerts")).done(function(e){var i="SUCCESS_UPDATE",a=t.model.jobAlertResponseMap[i];o.showAlert({message:u.get(a.i18n_key),type:a.type,dismiss:!0,timeout:!1,clearBuffer:!0}),n.closeModal()}.bind(this)).fail(function(e){var i="ERROR_UPDATE",n=t.model.jobAlertResponseMap[i];o.showAlert({message:u.get(n.i18n_key),type:n.type,dismiss:!0,timeout:!1,clearBuffer:!0})})}})}),define("app/views/search/manageJobAlertsModalLayoutView",["exports","module","marionette","backbone","jquery","app/views/search/manageJobAlerts","app/models/search/jobAlertsModel"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=(r(n),r(o),r(a)),c=r(s);t.exports=l.LayoutView.extend({template:"templates/partial/app/search/manage_job_alerts_layout",regions:{manageJobAlertsContent:"#manage-job-alerts-outlet"},onShow:function(){var e=this,t=new c,i=!1;this.model&&(i=this.model.get("isJobsHome"));var n=null;i&&(n={sourceSans:!0,isPlayStreamingEnabled:!0,isJobsHome:!0},t.useSearchParamsInUrl=!1),t.fetch().then(function(t){t.set("jobAlerts",e.options.jobs.jobAlerts),t.set("isNotDesktop",!t.get("isDesktop")),n&&t.get("isJobAlertInJobsHomeEnabled")?t.set(n):(t.set("isNotDesktop",!t.get("isDesktop")),t.set("sourceSans",t.get("isJserpSourceSansFontEnabled"))),e.getRegion("manageJobAlertsContent").show(new d({model:t}))})}})}),define("app/views/shared/twoBoxSearchView",["exports","module","marionette","jquery","app/utils/debug","app/lib/TwoBoxTypeahead","app/behaviors/tracking","app/helpers/alertHelper","app/services/ds","app/helpers/modalHelper","radio","i18n","app/services/tracking","app/views/search/manageJobAlertsModalLayoutView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h){"use strict";var m=function(e){return e&&e.__esModule?e["default"]:e},g=m(i),f=m(n),v=(m(o),m(a)),b=m(s),y=m(l),w=m(c),_=m(u),C=m(h),k="16px",x="hide",S="/jobs/home/clearSearchHistory";t.exports=g.ItemView.extend({recentSearchHistoryTemplate:"templates/partial/shared/two_box_recent_search_history",template:"templates/partial/shared/two_box_search",className:"jobs-two-box-search",tagName:"div",behaviors:{trackingBehavior:{behaviorClass:b,modules:["jobHomeSearchBarDisplayModule","searchHistoryDisplayModule"]}},ui:{twoBoxForm:"form.two-box-search-form",twoBoxSearchContainer:".two-box-search-container",twoBoxSearchSection:".two-box-search-section",mobileSearchBox:".mobile-search-box",keywordSearchContainer:".keyword-search-container",keywordSearchInput:"#keyword-search-box",keywordClearIcon:".keyword-clear-icon",locationSearchContainer:".location-search-container",locationClearIcon:".location-clear-icon",locationSearchInput:"#location-search-box",keywordClearButton:".keyword-clear-button",locationClearButton:".location-clear-button",locationIdInput:".location-id-box",trackingParamInput:".two-box-trk",searchOriginParamInput:".two-box-search-origin",mobileExpandOverlay:".mobile-expand-overlay",keywordIcon:"#keyword-icon",locationIcon:"#location-icon",clearHistory:".clear-history",csrfToken:'input[name="csrfToken"]',searchButton:".search-button",seeAllButton:".see-all",jobAlertListItems:".search-alert-container"},events:{"click @ui.locationClearButton":"_clearLocationInputHandler","click @ui.keywordClearButton":"_clearKeywordInputHandler","click @ui.locationClearIcon":"_clearLocationInputHandler","click @ui.keywordClearIcon":"_clearKeywordInputHandler","click @ui.mobileSearchBox":"_showAllInputs","click @ui.mobileExpandOverlay":"_collapseAllInputs","click @ui.clearHistory":"_clearRecentHistoryHandler","keyup @ui.keywordSearchInput":"_toggleClearButton","keyup @ui.locationSearchInput":"_toggleClearButton","click @ui.searchButton":"_updateJserpSearchResults","click @ui.seeAllButton":"_seeAllSearchAlerts","focus @ui.keywordSearchInput":"_focusSearchInput","focus @ui.locationSearchInput":"_focusSearchInput"},triggers:{"action toggleSearchMobileActiveState":"action:toggleSearchMobileActiveState"},initialize:function(){var e=3,t=this.model.get("searchHistory"),i=this.model.get("isJserp"),n=this.model.get("isSearchHistoryTypeaheadEnabled");if(this.hasFocusedOnSearchInput=!1,(n||this.model.get("isMobilePhone"))&&this.model.set("showRecentSearch",!1),t&&t.length){var o=t.slice(0,e);this.model.set("searchHistory",o)}i&&this.$el.removeClass("jobs-two-box-search")},onRender:function(){var e=this;if(v){var t={};t.name="twobox-typeahead",t.empty=function(){return""};var i=f.extend({},t),n=f.extend({},t);this._initKeywordTypeahead(i),this._initLocationTypeahead(n)}if(r.isAlertActive()&&!this._reRender){var o=r.getAlertHeight();this.ui.twoBoxSearchSection.css("margin-top",o)}if((this.model.get("isJobsHome")||this.model.get("isJserpSourceSansFontEnabled"))&&(this.model.get("searchKeywords")||this.ui.keywordClearButton.addClass(x),this.model.get("searchLocation")||this.ui.locationClearButton.addClass(x),this.ui.locationIcon.attr({width:k,height:k}),this.ui.keywordIcon.attr({width:k,height:k}),this.model.get("isJserp")&&this.model.get("isTablet")&&(this.ui.locationIcon.attr({size:"large"}),this.ui.keywordIcon.attr({size:"large"}))),this.model.get("isJobsHome")&&(this.model.get("isVoltronToJserpMigrationEnabled")||this.ui.twoBoxForm.attr("action","/jobs/home/search"),this.ui.searchOriginParamInput.attr("value","JSHP"),this.ui.trackingParamInput.attr("value","jobshomev2_2boxsearch")),this.model.get("jobAlerts"))for(var a=this.ui.jobAlertListItems.children("li").not(this.ui.seeAllButton),s=0;s<a.length;s++){var l=(this.model.get("jobAlerts")[s].label?this.model.get("jobAlerts")[s].label:"",f(a[s]));l.find("a").attr("title",l.text())}w.channel("deleteJobAlert").comply("delete:jobAlert",function(t){e.model.set("jobAlerts",t.jobAlerts),e._reRender=!0,e.render(),e.ui.searchButton.focus()})},_initLocationTypeahead:function(e){new v(this.ui.locationSearchContainer).init(e)},_initKeywordTypeahead:function(e){var t=this,i=this.model.get("isSearchHistoryTypeaheadEnabled"),n=this.ui.locationSearchInput,o={event:v.EVENTS.SELECTED,callback:function(e,t){n&&n.select()}};e.eventHandlers=[],e.eventHandlers.push(o),i&&!function(){var i={searchHistory:t.model.get("searchHistory")},o={event:v.EVENTS.SELECTED,callback:function(e,t){if(t.maybeKeywords&&n){var i=t.formattedLocation?t.formattedLocation:"";n.typeahead2("val",i)}}};e.minLength=0,e.notFound=function(e){return""===e?g.Renderer.render(t.recentSearchHistoryTemplate,i):void 0},e.eventHandlers.push(o)}(),new v(this.ui.keywordSearchContainer).init(e)},_toggleClearButton:function(e,t){var i=e&&f(e.target).attr("id"),n=this.ui.keywordSearchInput.attr("id"),o=this.ui.locationSearchInput.attr("id"),a=i===n?!0:!1,s=i===o?!0:!1;(this.model.get("isJobsHome")||this.model.get("isJserpSourceSansFontEnabled"))&&(a?(this.ui.keywordClearButton.removeClass(x),""===this.ui.keywordSearchInput.typeahead2("val")&&this.ui.keywordClearButton.addClass(x)):s?(this.ui.locationIdInput.val(""),this.ui.locationClearButton.removeClass(x),""===this.ui.locationSearchInput.typeahead2("val")&&this.ui.locationClearButton.addClass(x)):t&&t.addClass(x))},_clearLocationInputHandler:function(e){e.preventDefault(),this.ui.locationSearchInput.typeahead2("val","").focus(),this.ui.locationIdInput.val(""),(this.model.get("isJobsHome")||this.model.get("isJserpSourceSansFontEnabled"))&&this._toggleClearButton(null,this.ui.locationClearButton)},_clearKeywordInputHandler:function(e){e.preventDefault(),this.ui.keywordSearchInput.typeahead2("val","").focus(),(this.model.get("isJobsHome")||this.model.get("isJserpSourceSansFontEnabled"))&&this._toggleClearButton(null,this.ui.keywordClearButton)},_showAllInputs:function(){var e=this.model.get("isJserp");e?this.triggerMethod("action:toggleSearchMobileActiveState"):this.ui.twoBoxSearchSection.addClass("two-box-search-section-expand")},_collapseAllInputs:function(){this.ui.twoBoxSearchSection.removeClass("two-box-search-section-expand")},_updateJserpSearchResults:function(e){var t=this.model.get("isJserp");if(t){e.preventDefault();var i=encodeURIComponent(this.ui.keywordSearchInput.val().trim()),n=encodeURIComponent(this.ui.locationSearchInput.val().trim()),o="/jobs/search?keywords="+i+"&location="+n+"&locationId="+this.ui.locationIdInput.val()+"&trk="+this.ui.trackingParamInput.val()+"&searchOrigin="+this.ui.searchOriginParamInput.val(),a="/jobs/searchRefresh?keywords="+i+"&location="+n+"&locationId="+this.ui.locationIdInput.val()+"&refreshType=fullpage&trk="+this.ui.trackingParamInput.val()+"&searchOrigin="+this.ui.searchOriginParamInput.val();this.triggerMethod("update:renderAffectedViews",{endpoint:a,newUrl:o,isFullPageRefresh:!0})}},_clearRecentHistoryHandler:function(){var e=this.ui.csrfToken.val();f.ajax({url:S,method:"POST",beforeSend:function(t){t.setRequestHeader("Csrf-Token",e)}}).done(this._clearRecentHistory.bind(this)).fail(function(e){var t=new Error(""+e.status+" "+e.responseText);window.jet.error(t)})},_clearRecentHistory:function(){var e=window.location.pathname;y.update(e,"searchHistoryDisplayModule",{}),this.model.set("searchHistory",[]),this.render(),this.ui.searchButton.focus()},_seeAllSearchAlerts:function(){d.showViewInModal({title:_.get("manageYourJobAlerts"),view:new C({jobs:{jobAlerts:this.model.get("jobAlerts")},model:this.model}),customClass:"manage-job-alerts-modal manage-job-alerts",replaceContent:!1})},_focusSearchInput:function(e){if(!this.model.get("isMobilePhone")){var t=f(e.target).data("tcode"),i="click",n=this.model.get("pageKey"),o="keyword-search-input"===t,a="location-search-input"===t,s=o&&!this.hasFocusedOnSearchInput,r=a&&!this.hasFocusedOnSearchInput,l={activityType:i,actionType:t,pageKey:n,entityType:null,componentKey:null,entityId:null,attributes:{}};(s||r)&&(p.emitTrackingEvent("EntityActivityEvent",l),this.hasFocusedOnSearchInput=!0)}}})}),define("app/views/detail/peopleAlsoSearchedView",["exports","module","marionette","underscore","app/behaviors/tracking"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=(a(n),a(o));t.exports=s.CompositeView.extend({template:"templates/partial/app/detail/people_also_searched",className:"people-also-searched",behaviors:{trackingBehavior:{behaviorClass:r,modules:["peopleAlsoSearchedDisplayModule"]}},ui:{actions:".actions",expandButton:".expand",labelText:".see-more-text",list:".people-also-searched-content ul"},events:{"click @ui.expandButton":"toggleHeight"},onRender:function(){var e=this.ui.list.children(),t=e.length;4>t&&this.ui.actions.addClass("hide")},toggleHeight:function(){this.$el.toggleClass("active"),this.$el.hasClass("active")?(this.ui.labelText.text(this.ui.expandButton.data("less")),this.ui.expandButton.attr("aria-expanded","true")):(this.ui.labelText.text(this.ui.expandButton.data("more")),this.ui.expandButton.attr("aria-expanded","false"))}})}),define("app/views/shared/guestChromeView",["exports","module","marionette","jquery","app/behaviors/tracking","app/behaviors/lazyLoad"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=(s(n),s(o)),d=s(a);t.exports=r.CompositeView.extend({template:"templates/partial/app/shared/guest_chrome",behaviors:{trackingBehavior:{behaviorClass:l,modules:["guestChromeDisplayModule"]},lazyLoadBehavior:{behaviorClass:d,radioCommand:"guestChrome",offsetDistance:100}}})}),define("app/views/detail/meetTheTeamSelectedMemberView",["exports","module","marionette","underscore","radio","app/behaviors/tracking"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(o),c=s(a),u="onDestroy",p="destroyOnTransitionend",h="mtt",m="show:next";t.exports=r.ItemView.extend({template:"templates/partial/app/detail/meet_the_team_selected_member",className:"selected",behaviors:{trackingBehavior:{behaviorClass:c}},ui:{viewNextLink:".view-next-link",viewProfileLink:".view-profile-link"},events:{transitionend:"_onTransitionEnd","click @ui.viewNextLink":"_viewNext","click @ui.viewProfileLink":"_viewProfileClicked"},onShow:function(){var e=this;l.defer(function(){e.$el.addClass("shown")})},executeOnDestroy:function(e){this.model.set(u,e),this.model.set(p,!0),this.$el.addClass("hide")},_onTransitionEnd:function(){this.model.get(p)&&this.destroy()},onDestroy:function(){var e=this.model.get(u);e&&e()},_viewNext:function(e){e.preventDefault();var t=this.model.get("decoratedProfile").memberId;d.channel(h).command(m,{memberId:t})},_viewProfileClicked:function(e){e.stopPropagation()}})}),define("app/views/detail/meetTheTeamSelectedHistoryView",["exports","module","marionette","underscore","jquery","app/behaviors/lazyLoad"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(o),c=s(a),u="onDestroy",p="destroyOnTransitionend",h="shown";t.exports=r.ItemView.extend({template:"templates/partial/app/detail/meet_the_team_history",className:"selected-history",behaviors:{lazyLoadBehavior:{behaviorClass:c,radioCommand:"meetTheTeamSelectedHistory",offsetDistance:100}},ui:{paths:".paths",places:".places",skills:".skills"},events:{transitionend:"_onTransitionEnd"},onShow:function(){var e=this;l.defer(function(){e.$el.addClass(h),e.ui.paths.children().each(function(t,i){e._showAnimationOneByOne(t,i,100)}),e.ui.places.children().each(function(t,i){e._showAnimationOneByOne(t,i,250)}),e.ui.skills.children().each(function(t,i){e._showAnimationOneByOne(t,i,70)})})},_showAnimationOneByOne:function(e,t,i){var n=e*i;d(t).css("transition-delay",""+n+"ms").addClass(h)},executeOnDestroy:function(e){this.model.set(u,e),this.model.set(p,!0),this.$el.addClass("hide")},_onTransitionEnd:function(){this.model.get(p)&&this.destroy()},onDestroy:function(){var e=this.model.get(u);e&&e()}})}),define("app/views/detail/meetTheTeamView",["exports","module","marionette","backbone","jquery","underscore","radio","app/utils/language","app/utils/debug","app/views/detail/meetTheTeamSelectedMemberView","app/views/detail/meetTheTeamSelectedHistoryView","app/behaviors/tracking","app/behaviors/lazyLoad"],function(e,t,i,n,o,a,s,r,l,d,c,u,p){"use strict";var h=function(e){return e&&e.__esModule?e["default"]:e},m=h(i),g=h(n),f=h(o),v=h(a),b=h(s),y=h(r),w=(h(l),h(d)),_=h(c),C=h(u),k=h(p),x=70,S=12,M=119,T=24,I="data-member-id",E="selectedMemberView",A="selectedMemberHistoryView",P="selected-person",R="mtt",j="show:next";t.exports=m.LayoutView.extend({template:"templates/partial/app/detail/meet_the_team",className:"meet-the-team-container",behaviors:{trackingBehavior:{behaviorClass:C,modules:["meetTheTeamDisplayModule"]},lazyLoadBehavior:{behaviorClass:k,radioCommand:"meetTheTeam",offsetDistance:100}},regions:{selectedMember:".selected-container",selectedMemberHistory:".selected-history-container"},initialize:function(e){var t=this;this.model.set("isRTL",y.isRTL());var i=b.channel(R);i.comply(j,function(e){t.selectNextMember(e.memberId)});var n=this.model.get("decoratedProfiles"),o=v.uniq(n,function(e){return e.decoratedProfile.memberId});if(this.model.set("decoratedProfiles",o),n.length!==o.length){var a=this.model.get("decoratedJobPosting").jobPosting.id,s=v.map(n,function(e){return e.decoratedProfile.memberId}),r="Duplicated members found in 'Meet The Team' with job id: "+a+", and member ids: "+s;window.jet&&window.jet.error(r)}},onShow:function(){var e=this.ui.people.children().first(),t=e.attr(I);this.selectMemberWithId(t)},ui:{people:".people",personImages:".person .profile-image"},events:{"click @ui.personImages":"_onPersonHandler"},_onPersonHandler:function(e){e.preventDefault();var t=f(e.target).parents(".person"),i=t.attr(I);this.selectMemberWithId(i)},selectMemberWithId:function(e){var t=this,i="["+I+"='"+e+"']",n=this.ui.people.find(i),o=this.ui.people.children().last();n.before(o),this.ui.people.append(n),this._showMemberInfo(e),v.defer(function(){t._updatePositionsForPeople()})},selectNextMember:function(e){var t=this,i="["+I+"='"+e+"']",n=(this.ui.people.find(i),this.ui.people.children().first()),o=n.attr(I);this.ui.people.append(n),this._showMemberInfo(o),setTimeout(function(){t._updatePositionsForPeople()},350)},_showMemberInfo:function(e){var t=this,i=this._getMemberWithId(e);if(i){var n=function(){var e=new(g.Model.extend())(i);e.set("showNext",t.model.get("decoratedProfiles").length>2);var n=new w({model:e});t.model.set(E,n),t.getRegion("selectedMember").show(n)},o=function(){i.decoratedCompany=t.model.get("decoratedJobPosting").decoratedCompany;var e=new(g.Model.extend())(i),n=new _({model:e});t.model.set(A,n),t.getRegion("selectedMemberHistory").show(n)},a=this.model.get(E);a?a.executeOnDestroy(n):n();var s=this.model.get(A);s?s.executeOnDestroy(o):o()}},_updatePositionsForPeople:function(){var e=this,t=this.ui.people.children().size()-1,i=void 0,n=void 0;this.ui.people.children().each(function(o,a){i=""+(t>o?0:M)+"px",n=""+(t>o?o*(x+S):0)+"px",e.ui.people.hasClass("hidden")&&(i=T);var s={top:n};s[e.model.get("isRTL")?"right":"left"]=i,f(a).css(s),f(a).toggleClass(P,o==t)})},_getSelectedMemberId:function(){var e=this.ui.people.children().last();return e.attr(I)},_getMemberWithId:function(e){var t=this.model.get("decoratedProfiles"),i=void 0,n=void 0;for(i in t)if(n=t[i],String(n.decoratedProfile.memberId)===String(e))return n}})}),define("app/views/detail/jobSalaryView",["exports","module","marionette","jquery","underscore","app/behaviors/tracking","app/services/tracking","app/helpers/modalHelper","i18n","app/views/detail/feedbackModalView","app/utils/language"],function(e,t,i,n,o,a,s,r,l,d,c){"use strict";var u=function(e){return e&&e.__esModule?e["default"]:e},p=u(i),h=(u(n),u(o)),m=(u(a),u(l)),g=u(d),f=u(c),v="jobSalaryBraavosDisplayModuleRendered",b="jobSalaryBraavosDisplayModuleNullRendered",y="jobSalaryBraavosDisplayModuleErrorRendered";t.exports=p.ItemView.extend({template:"templates/partial/app/detail/job_salary",initialize:function(e){this.model.set("isRTL",f.isRTL())},ui:{averageSalaryText:"#average-salary",jobSalaryContainer:".job-salary-container",feedbackButton:".feedback-button-payscale",averageMarkerIcon:".average-marker"},events:{"click @ui.feedbackButton":"feedbackHandler"},onShow:function(){var e=this;h.defer(function(){var t=e.ui.averageSalaryText.width()/e.ui.jobSalaryContainer.width()*100,i=e.model.get("percentile"),n=Math.min(Math.max(0,i-t/2),100-t);e.model.get("isRTL")?(e.ui.averageSalaryText.css({right:""+n+"%"}),e.ui.averageMarkerIcon.css({right:""+i+"%"})):(e.ui.averageSalaryText.css({left:""+n+"%"}),e.ui.averageMarkerIcon.css({left:""+i+"%"}))}),this.emitModuleImpressionEvent()},feedbackHandler:function(e){r.showViewInModal({title:m.get("sendFeedback"),view:new g({feedbackSubject:"Neo Payscale"})})},emitModuleImpressionEvent:function(){var e="moduleImpression",t="jobSalaryDisplayModuleRendered";if(this.model.get("isBraavosSalaryEnabled")){var i=this.model.get("isErrorState"),n=this.model.get("isDataAvailable");t=i?y:n?b:v}s.emitTrackingEvent(e,[t])}})}),define("app/views/detail/insightsUpsell",["exports","module","marionette","app/services/tracking","app/services/scrollListener"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r="impression-insightsUpsell",l="templates/partial/app/detail/insights_upsell_control",d="templates/partial/app/detail/insights_upsell_skills",c={learnSkills:"jobdetails_learn_skills_lynda_upsell",indemand:"jobdetails_indemand_lynda_upsell",control:"jobdetails_control_lynda_upsell"},u=void 0;t.exports=s.ItemView.extend({getTemplate:function(){return"learnSkills"===u||"indemand"===u?d:l},initialize:function(){var e=this.model.get("lyndaLearningUpsell");u=e.upsellType,u&&o.listener(r,function(e){n.emitTrackingEvent("moduleImpression",e.modules)})},onShow:function(){var e=this.$el.offset().top;if(u){var t=c[u],i=this.$el,n=[t];o.registerScrollDistance(e,{$el:i,modules:n},r)}}})}),define("app/views/detail/errorView",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n),r=5;t.exports=a.ItemView.extend({template:"templates/partial/app/detail/error",className:"job-error-container",initialize:function(){this.model.set("seconds",r)},onRender:function(){var e=this;s("#application-body").addClass("loaded"),window.setTimeout(function(){s(".content-container").addClass("rendered")},100),window.setTimeout(function(){var t=e.model.get("seconds");t=0>t-1?0:t-1,t?(e.model.set("seconds",t),e.render()):window.location.replace(e.model.get("jobsHomeUrl"))},1e3)}})}),define("app/views/detail/postJobView",["exports","module","marionette","jquery","i18n"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i);a(n),a(o);t.exports=s.ItemView.extend({template:"templates/partial/app/detail/post_job",className:"post-job-container"})}),define("app/views/detail/lyndaDisplayView",["exports","module","marionette","app/behaviors/tracking","app/services/tracking"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=(a(n),{lynda:{control:"premiumLyndaJobDetailsLearningInterviewModuleRendered",skills:"premiumLyndaJobDetailsLearningSkillsModuleRendered"},lil:{control:"premiumLinkedInLearningJobDetailsLearningInterviewModuleRendered",skills:"premiumLinkedInLearningJobDetailsLearningSkillsModuleRendered"}});t.exports=s.ItemView.extend({template:"templates/partial/app/detail/lynda_display",onShow:function(){var e="moduleImpression",t="skills"===this.model.get("rightRailLearningCopy")?"skills":"control",i=this.model.get("isLinkedInLearningEnabled")?"lil":"lynda",n=r[i][t];o.emitTrackingEvent(e,[n])}})}),define("app/views/detail/stickyApplyView",["exports","module","marionette","jquery","underscore","radio","app/behaviors/tracking","i18n"],function(e,t,i,n,o,a,s,r){"use strict";var l=function(e){return e&&e.__esModule?e["default"]:e},d=l(i),c=l(n),u=l(o),p=l(a),h=l(s),m=l(r),g="topcard",f="action:apply",v="action:save",b="stickyAplly",y="state:save",w="state:applied",_="apply:starters:action:continue",C="sticky",k="action:stick",x="action:unstick",S="stickied",M="save",T="saved",I="loading",E="scroll.sticky",A="resize.sticky";t.exports=d.ItemView.extend({template:"templates/partial/app/detail/sticky_apply",className:"sticky-apply-container",ui:{applyButton:"#apply-job-button",offsiteApplyClick:"#offsite-apply-button",saveButton:"#save-job-button",saveButtonText:".save-job-button-text",labelSave:".label-save",applyStarterButton:"#apply-starters-job-button"},events:{"click @ui.applyButton":"_applyHandler","click @ui.saveButton":"_saveJobHandler","mouseleave @ui.saveButton":"_updateSaveButton","mouseenter @ui.saveButton":"_updateSaveButton","click @ui.offsiteApplyClick":"_applyWithShareProfile","click @ui.applyStarterButton":"_applyStartersHandler"},behaviors:{trackingBehavior:{behaviorClass:h,modules:["decoratedJobPostingModule","topCardV2Module"]}},initialize:function(){var e=this,t=p.channel(b);t.comply(y,function(t){var i=t.isSaved;e._reRenderSaveButton(i)}),t.comply(w,function(t){e.render(),e._requestUpdate()}),t.comply(_,function(t){e._applyStartersContinue(t)});var i=function(){e._requestUpdate()};c(window).on(E,i).on(A,i)},onDestroy:function(){c(window).off(E).off(A)},_applyWithShareProfile:function(e){p.channel("apply:starters").command("sticky:share:profile",e)},_applyStartersHandler:function(e){p.channel("apply:starters").command("sticky:apply:handler",{evt:e})},_requestUpdate:function(){var e=this;this.model.set({windowScrollTop:c(window).scrollTop(),windowWidth:c(window).width()}),this.model.get("updating")||requestAnimationFrame(function(){e._update()}),this.model.set("updating",!0)},_update:function(){var e=c("#sidebar"),t=c(window).scrollTop(),i=this.$el.parents("#sticky-apply"),n=i.hasClass(S);if(n){var o=this.$el.parents("#sticky-apply");o.css("width",e.width());var a=this.model.get("stickyPoint");a>t?this._unStick():this._updateStickyPosition()}else{var a=e.offset().top+e.outerHeight(!0)-this.$el.outerHeight(!0)-58;this.model.set("stickyPoint",a),t>=a&&this._stick()}this.model.set("updating",!1)},_stick:function(){var e=this,t=this.$el.parents("#sticky-apply");p.channel(C).command(k,{el:t,css:{width:this.$el.outerWidth(!0)},addClass:S}),u.defer(function(){e._updateStickyPosition()})},_unStick:function(){var e=c("#sidebar"),t=this.$el.parents("#sticky-apply");p.channel(C).command(x,{el:t,parent:e,removeClass:S})},_updateStickyPosition:function(){var e=c("#header-banner"),t=c("#header-navigation"),i="fixed"===e.css("position"),n="fixed"===t.css("position")&&!t.hasClass("slide-up"),o=8;i&&(o+=e.outerHeight(!0),n&&(o+=t.outerHeight(!0)));var a=this.$el.parents("#sticky-apply");a.css({top:""+o+"px"})},_applyHandler:function(e){e.preventDefault(),p.channel(g).command(f)},_applyStartersContinue:function(){this.render()},_saveJobHandler:function(e){e.preventDefault(),p.channel(g).command(v)},_updateSaveButton:function(e){c(e.target).removeClass(I)},_reRenderSaveButton:function(e){var t=this.ui.saveButton,i=this.ui.saveButtonText,n=e?"topcard_unsave_sticky":"topcard_save_sticky",o=this.ui.labelSave,a=m.get("save"),s=m.get("unsave");t.removeClass(M).removeClass(T),t.addClass(e?T:M),t.data("control",n),e?(i.text(s),o.text(s)):(i.text(a),o.text(a))}})}),define("app/views/detail/interestedCandidatesView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/app/detail/interested_candidates",className:"interested-candidates-container"})}),define("app/views/detail/premium-insights/rightRailUpsellView",["exports","module","marionette","app/services/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);t.exports=a.ItemView.extend({template:"templates/partial/app/detail/right_rail_upsell",onShow:function(){var e="moduleImpression",t="upsellDisplayModuleRendered";n.emitTrackingEvent(e,[t])}})}),define("app/controllers/jobsDetailController",["exports","module","marionette","underscore","jquery","i18n","backbone","app/factories/modelFactory","jsBeacon","app/utils/googleAnalytics","jsConfig","app/models/embeddedContentModel","app/collections/jobs","app/models/job","app/models/summary","app/models/yourIn","app/models/whatsYourIn","app/models/globalVariableModel","app/models/peopleAlsoSearchedModel","app/models/guestChromeModel","app/models/lixModel","app/models/postJobModel","app/models/interestedCandidates","app/models/impressionTrackingModel","app/collections/people","app/models/person","app/models/companyLCP","app/utils/validation/currencyFormatData","app/views/detail/layoutView","app/views/detail/browseMapJobsView","app/views/detail/topCardView","app/views/shared/yourInView","app/views/detail/summaryDetailView","app/views/detail/heroImageView","app/views/detail/similarJobsView","app/views/detail/companyLCPView","app/views/detail/premium-insights/parentPremiumInsightsLayoutView","app/views/detail/whatsYourInView","app/views/shared/twoBoxSearchView","app/views/detail/peopleAlsoSearchedView","app/views/shared/guestChromeView","app/views/detail/meetTheTeamView","app/views/detail/jobSalaryView","app/views/detail/insightsUpsell","app/views/detail/errorView","app/views/detail/postJobView","app/views/detail/lyndaDisplayView","app/views/detail/stickyApplyView","app/views/detail/interestedCandidatesView","app/views/detail/premium-insights/rightRailUpsellView","app/services/ds"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g,f,v,b,y,w,_,C,k,x,S,M,T,I,E,A,P,R,j,V,L,B,D,F,N,O,H,J,U,z,q,$,K,W,G,Y){
"use strict";var Q=function(e){return e&&e.__esModule?e["default"]:e},X=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Z=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),ee=(Q(i),Q(n)),te=Q(o),ie=Q(a),ne=(Q(s),Q(r)),oe=Q(l),ae=Q(d),se=Q(c),re=Q(u),le=Q(p),de=Q(h),ce=Q(m),ue=Q(g),pe=Q(f),he=Q(v),me=Q(b),ge=Q(y),fe=(Q(w),Q(_),Q(C),Q(k)),ve=Q(x),be=(Q(S),Q(M)),ye=Q(T),we=Q(I),_e=Q(E),Ce=Q(A),ke=Q(P),xe=Q(R),Se=Q(j),Me=Q(V),Te=Q(L),Ie=Q(B),Ee=Q(D),Ae=Q(F),Pe=Q(N),Re=Q(O),je=Q(H),Ve=Q(J),Le=Q(U),Be=Q(z),De=Q(q),Fe=Q($),Ne=Q(K),Oe=Q(W),He=Q(G),Je=Q(Y),Ue=function(){function e(t){X(this,e),this._app=t}return Z(e,[{key:"index",value:function(e){var t=this,i=window.location.pathname;return Je.populate(i,!0).then(function(i){te("body").removeClass("transition-overlay"),t.indexOverride(e)})}},{key:"indexOverride",value:function(e){function t(e){e.get("isPremium")&&i.getRegion("parentPremiumInsights").show(new Ie({model:e}))}var i=new we;this._app.layout.getRegion("contentRegion").show(i),this._layout=i,i.toggleSidebar(!1);var n=window.__li__i18n_registry__,o=n?n:{},a=play.getEmbeddedContent("i18n-keys");window.__li__i18n_registry__=ee.extend(o,a),ne(re.extend(),["errorModule"]).done(function(e){i.getRegion("jobError").show(new Be({model:e}))}),ne(re.extend(),["decoratedJob","lixModule","globalVariable"]).done(function(e){i.getRegion("heroImage").show(new Se({model:e}))}),ne(de,["jobPosting","decoratedJob","globalVariable","lixModule"],null,["reasonToCare","shareModule","seoModule"]).then(function(e){var t=i.getRegion("topCard").currentView;t?(t.model=e,t.render()):(i.getRegion("topCard").show(new Ce({model:e})),e.get("isLoggedIn")&&!e.get("closed")&&e.get("showStickyNav")&&(i.getRegion("stickyApply").show(new Ne({model:e})),i.toggleSidebar(!0)))}).done(function(e){ne(ce,["decoratedJob","jobSummary","globalVariable","lixModule"],null,["posterInfo"]).done(function(e){var t=i.getRegion("summaryDetail").currentView;t?(t.model=e,t.render()):i.getRegion("summaryDetail").show(new xe({model:e}))})}),ne(pe,["whatsYourIn","lixModule","globalVariable"]).done(function(e){!e.get("isPremium")&&i.getRegion("whatsYourIn").show(new Ee({model:e}))}),ne(re.extend(),["postJob"]).done(function(e){i.getRegion("postJob").show(new De({model:e})),i.toggleSidebar(!0)}),ne(re.extend(),["lixModule","interestedCandidates"]).done(function(e){e.get("isInterestedCandidatesEnabled")&&e.get("isInterestedCandidatesApplyModalEnabled")&&i.getRegion("interestedCandidates").show(new Oe({model:e})),i.toggleSidebar(!0)}),ne(re.extend(),["globalVariable","jobSalary"]).done(function(e){e.get("isPremium")&&i.getRegion("jobSalary").show(new Ve({model:e})),i.toggleSidebar(!0)}),ne(re.extend(),["globalVariable","jobSalaryBraavos"]).done(function(e){if(e.get("isPremium")&&e.get("isBraavosSalaryEnabled")&&!e.get("hideSalaryModule")){var t=ye.getCurrencyFormat(e.get("currencyCode"),ie.getLocale().value);e.set("currencyFormat",t.currencySymbolFormatted),i.getRegion("jobSalaryBraavos").show(new Ve({model:e}))}i.toggleSidebar(!0)});var s=ne(re.extend(),["meetTheTeam","decoratedJob","lixModule"]);te.when(s).done(function(e){var t=e.get("decoratedProfiles");t&&t.length&&i.getRegion("meetTheTeam").show(new je({model:e}))}),ne(re.extend(),["jobPosting","lixModule","decoratedJob"]).done(function(e){var t=e.get("decoratedJobPosting").jobPosting.id,n=101349322,o=t===n,a=!e.get("applied")&&e.get("closed");a&&!o&&i.showExpiredSimilarJobs()}),ne(re.extend(),["companyPremiumInsights","applicantsPremiumInsights","decoratedJob","lixModule","globalVariable"],null,["whatsYourIn"]).done(t),ne(re.extend(),["applicantsPremiumInsights","lixModule","globalVariable"]).done(function(e){!e.get("isPremium")&&i.getRegion("insightsUpsell").show(new Le({model:e}))}),ne(re.extend(),["upsellModule","lixModule","globalVariable"]).done(function(e){"above"===e.get("rightRailUpsell")&&(i.toggleSidebar(!0),!e.get("isPremium")&&i.getRegion("rightRailUpsellAbove").show(new He({model:e}))),"below"===e.get("rightRailUpsell")&&(i.toggleSidebar(!0),!e.get("isPremium")&&i.getRegion("rightRailUpsellBelow").show(new He({model:e})))}),ne(re.extend(),["lyndaDisplay","lixModule","applicantsPremiumInsights","globalVariable"]).done(function(e){e.get("isPremium")&&i.getRegion("lyndaDisplay").show(new Fe({model:e}))}),ne(re.extend(),["globalVariable","lixModule"]).done(function(t){var n="enableDerivedLocation",o="isSPANavigationEnabled",a="showTagsForJobCards";ae&&ae.initSelfHosted(t.get("pageKey")),ne(le,["browseMap"],{showJobAnalytics:!1,showShortFlavorsText:!0,showJobTags:t.get(a),showJobTagsInJobTitle:!0,isSPANavigationEnabled:t.get(o),enableDerivedLocation:t.get(n)}).done(function(e){e.length>0&&(i.getRegion("browseMap").show(new _e({collection:e})),i.toggleSidebar(!0))});var s=ne(ve,["yourIn"]),r=ne(ue,["decoratedJob","yourIn"]);if(te.when(s,r).done(function(e,t){e.length>0&&i.getRegion("yourIn").show(new ke({model:t,collection:e}))}),!t.get("isLoggedIn")&&!t.get("isCrawler")&&oe){var l=new fe;l.fetch().then(function(t){t.get("clientRequestId")?(se.JobPosting||(se.JobPosting={}),se.JobPosting.id=e,oe.sendTrackingRequest(t.toJSON())):oe.sendTrackingRequest()})}var d=ne(le,["similarJobs"],{showJobAnalytics:t.get("isDesktop")?!0:!1,showShortFlavorsText:!0,showJobTags:t.get(a),isSPANavigationEnabled:t.get(o),enableDerivedLocation:t.get(n)}),c=ne(re.extend(),["similarJobs","globalVariable","decoratedJob"]);if(te.when(d,c).done(function(e,t){e.length>0&&(t.set("viewAllLink",t.get("seeMoreLink")),i.getRegion("similarJobs").show(new Me({model:t,collection:e})))}),ne(be,["jobPosting","decoratedJob","companyDescription","lixModule","globalVariable"],null,["companyMedia","companyRecentUpdates","companyOtherJobs"]).done(function(e){var t=i.getRegion("companyLCP").currentView;t?(t.model=e,t.render()):i.getRegion("companyLCP").show(new Te({model:e}))}),!t.get("isLoggedIn")){if(!t.get("isDesktop")){ne(ge,["guestChrome","globalVariable"]).done(function(e){i.getRegion("guestChrome").show(new Re({model:e}))})}ne(he,["globalVariable","lixModule"]).done(function(e){i.getRegion("twoBoxSearch").show(new Ae({model:e}))}),ne(me,["peopleAlsoSearched"]).done(function(e){i.getRegion("peopleAlsoSearched").show(new Pe({model:e})),i.toggleSidebar(!0)})}})}}]),e}();t.exports=Ue}),define("app/services/announcer",["exports","jquery"],function(e,t){"use strict";function i(e,t,i){var n=o("#"+e);n.text(i),clearTimeout(this.announce),this.announce=setTimeout(function(){n.empty()},1e3),t&&o("#"+t).attr("tabindex","-1").focusWithoutScrolling()}var n=function(e){return e&&e.__esModule?e["default"]:e};e.announcer=i,Object.defineProperty(e,"__esModule",{value:!0});var o=n(t)}),define("app/controllers/jobsHomeTabController",["exports","module"],function(e,t){"use strict";var i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t){i(this,e),this._app=t}return n(e,[{key:"index",value:function(){}},{key:"onLeave",value:function(){}}]),e}();t.exports=o}),define("app/collections/companies",["exports","module","backbone","app/collections/embeddedContentCollection"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=s.extend({showConnections:!0,initialize:function(e,t){this.showConnections=t&&t.hasOwnProperty("showConnections")?t.showConnections:!0,s.prototype.initialize.call(this,e,t)},onEmbeddedContent:function(e){var t=this,i=e.decoratedCompanies,n=[];i&&(n=i.map(function(e){return e.showConnections=t.showConnections,new a.Model(e)})),this.set(n)}})}),define("app/views/home/topNHeaderView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/app/home/top_n_header",className:"header-container",tagName:"section",initialize:function(){var e=this.model.get("jobs");this.listenTo(e,"add",this._onChange),this.listenTo(e,"remove",this._onChange)},_onChange:function(){this.render()}})}),define("app/views/home/topNJobView",["exports","module","marionette","jquery","underscore","radio","app/behaviors/lazyLoad"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=(r(n),r(o),r(a)),c=r(s),u="shrinking",p="job-position",h="onTransitionEnd",m="skip",g="save",f="topN",v="topN:remove",b="topN:save",y="topN:showJobInFront";t.exports=l.ItemView.extend({template:"templates/partial/app/home/top_n_job",className:"job",tagName:"li",ui:{skipButton:".skip-btn",saveButton:".save-btn",saveOverlay:".overlay.save",saveIcon:".overlay.save .icon"},events:{mouseenter:"_onMouseEnter","click @ui.skipButton":"_skip","click @ui.saveButton":"_save","transitionend @ui.saveIcon":"_onSaveAnimationEnd",transitionend:"_onRemoveTransitionEnd"},behaviors:{lazyLoadBehavior:{behaviorClass:c,radioCommand:"topN",offsetDistance:100}},_onMouseEnter:function(e){e.preventDefault();var t={jobId:this.model.get("jobId")};d.channel(f).command(y,t)},_skip:function(e){e.preventDefault(),this.model.set(h,m),this._startRemoveTransition()},_save:function(e){e.preventDefault(),this.ui.saveOverlay.addClass("shown")},_startRemoveTransition:function(e){this.$el.addClass(u);var t=this.$el.data(p),i=""+t+" scale(0,0)",n=e?""+e+"ms":"";this.$el.css({"transition-delay":n,transform:i})},_onRemoveTransitionEnd:function(e){e.stopPropagation();var t={jobId:this.model.get("jobId")},i=this.model.get(h);i===g?d.channel(f).command(b,t):i===m&&d.channel(f).command(v,t)},_onSaveAnimationEnd:function(e){e.stopPropagation(),this.model.set(h,g),this._startRemoveTransition(500)},move:function(e,t,i,n){var o={};if(null!==e||null!==t){var a="translate("+e+"px,"+t+"px)";o.transform=""+a+" scale(1,1)",this.$el.data(p,a)}null!==n&&(o["transition-delay"]=""+n+"ms"),this.$el.css(o),null!==i&&this.$el.css("z-index",i)}})}),define("app/views/home/topNCollectionView",["exports","module","marionette","backbone","jquery","underscore","radio","app/views/home/topNJobView"],function(e,t,i,n,o,a,s,r){"use strict";var l=function(e){return e&&e.__esModule?e["default"]:e},d=l(i),c=(l(n),l(o)),u=l(a),p=l(s),h=l(r),m="topN",g="topN:remove",f="topN:save",v="topN:showJobInFront",b="resize.topN";t.exports=d.CollectionView.extend({template:!1,className:"jobs",tagName:"ul",childView:h,_isUpdating:!1,collectionEvents:{add:"_onCollectionChanged",remove:"_onCollectionChanged"},initialize:function(){var e=this,t=p.channel(m);t.comply(f,function(t){e._saveJob(t.jobId)}),t.comply(g,function(t){e._removeJob(t.jobId)}),t.comply(v,function(t){e._moveJobToFront(t.jobId)});var i=function(){e._requestUpdate()};c(window).on(b,i)},onShow:function(){var e=this;u.defer(function(){e._resetJobsLayout()})},onDestroy:function(){c(window).off(b)},_requestUpdate:function(){var e=this;this._isUpdating||requestAnimationFrame(function(){e._resetJobsLayout()}),this._isUpdating=!0},_resetJobsLayout:function(){var e=this;this.collection.length>0&&!function(){var t=e.$el.outerWidth(!0),i=e.collection.length,n=e.children.first().$el.outerWidth(!0),o=.5*n,a=(t-n)/(i-1);a>o&&(a=o);var s=void 0,r=void 0;e.collection.forEach(function(i,l){var d=e.children.findByModel(i);s=l==e.children.length-1&&a!=o?t-n:a*l,r=100*l,d.move(s,0,null,r)})}(),this._isUpdating=!1},_moveJobToFront:function(e){var t=this,i=this._getIndexFromJobId(e),n=0;this.children.forEach(function(e,o){o===i?n=t.children.length-1:o>i&&(n=t.children.length-1-o),e.move(null,null,n)})},_getIndexFromJobId:function(e){var t=this.collection.findWhere({jobId:e});return t?this.collection.indexOf(t):void 0},_saveJob:function(e){var t=this.collection.findWhere({jobId:e});t&&this.collection.remove([t])},_removeJob:function(e){var t=this.collection.findWhere({jobId:e});t&&this.collection.remove([t])},_onCollectionChanged:function(){this._resetJobsLayout()}})}),define("app/views/home/topNLayoutView",["exports","module","marionette","backbone","underscore","app/views/home/topNHeaderView","app/views/home/topNCollectionView"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=r(a),p=r(s),h="destroying";t.exports=l.LayoutView.extend({template:"templates/partial/app/home/top_n",className:"top-n-container",regions:{header:"#header",main:"#main"},events:{transitionend:"_onTransitonEnd"},initialize:function(){var e=c.map(this.model.get("flavoredJobs"),function(e){var t=new(d.Model.extend())(e);return t.set({jobId:e.decoratedJobPosting.jobPosting.id}),t}),t=c.uniq(e,function(e){return e.get("jobId")});if(t.length!==e.length){var i=c.map(e,function(e){return e.get("jobId")}),n="Duplicated jobs found in 'Top N' with job ids: "+i;window.jet.error(n)}var o=new(d.Collection.extend())(t);this.model.set("jobs",o),this.listenTo(o,"add",this._onCollectionChanged),this.listenTo(o,"remove",this._onCollectionChanged)},onRender:function(){this.getRegion("main").show(new p({collection:this.model.get("jobs")})),this.getRegion("header").show(new u({model:this.model}))},_onCollectionChanged:function(e,t){0===t.length&&this._prepareToDestroy()},_prepareToDestroy:function(){this.$el.addClass(h)},_onTransitonEnd:function(){this.$el.hasClass(h)&&this.destroy()}})}),define("app/helpers/preferencesHelper",["exports","module","app/services/ds"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports={getPreferencesFormData:function(e){var t=play.getPageContext(),i=t?t.csrfToken:"",n=[];e.locations.forEach(function(e){n.push(e.locationId)});var o=e.industries.map(function(e){return e.key}),a={csrfToken:i};return a["careerInterests.locations"]=n.length?n:"[]",a["careerInterests.industries"]=o.length?o:"[]",a["careerInterests.companySizeRange.maxSize"]=e.companySizeRange.companySizeRange.maxSize,a["careerInterests.companySizeRange.minSize"]=e.companySizeRange.companySizeRange.minSize,a["careerInterests.seniorityRange.maxLevel"]=e.seniorityRange.seniorityMax,a["careerInterests.seniorityRange.minLevel"]=e.seniorityRange.seniorityMin,a},getCareerInterestsFormData:function(e,t,i){var n=play.getPageContext(),o=n?n.csrfToken:"",a={"careerInterests.availableStartingAt":"","careerInterests.sharingAllFieldsWithRecruiters":i,csrfToken:o};if(i){var s=["seekingContractPosition","seekingInternship","seekingFullTime","seekingPartTime","openToWorkRemotely","seekingFreelance"];s.forEach(function(t){a["careerInterests."+t]=!!e[t]});var r=e.titles.map(function(e){return e.id});r.length&&(a["careerInterests.titles"]=r);var l=e.availableStartingAt,d=l.filter(function(e){return e.selected});a["careerInterests.availableStartingAt"]=d[0].id,void 0!==e.introductionStatement&&(a["careerInterests.introductionStatement"]=e.introductionStatement)}return a},resetJobPreferencesForModel:function(e){var t=e.seniorityRange,i=t.seniorityOptions;t.seniorityMin=i[0].key,t.seniorityMax=i[i.length-1].key,e.locations=[],e.industries=[];var n=e.companySizeRange,o=n.companySizeOptions,a=o[0].companySize,s=o[o.length-1].companySize;return n.companySizeRange={minSize:a,maxSize:s},e},updateDataStoreForPreferencesResponse:function(e){var t=e.moduleResponse.customJymbiiPreferenceModule,i=e.moduleResponse.jymbiiJobDisplayModule,n=window.location.pathname;o.update(n,"customJymbiiPreferenceModule",t),o.update(n,"jymbiiJobDisplayModule",i)},updateDataStoreForCareerInterests:function(e){var t=window.location.pathname;o.update(t,"memberPreferencesDisplayModule",e)}}}),define("app/views/shared/tooltipLayoutView",["exports","module","marionette","jquery","underscore","mast/scripts/utils/Keycodes","app/utils/vendorPrefix"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=r(a),p=d("body"),h=(d(window),"click.tooltip"),m="keyup.tooltip",g="closing",f="shown",v="active";t.exports=l.LayoutView.extend({template:"templates/partial/app/shared/tooltip_layout",className:"neo-tooltip",regions:{contentRegion:".tooltip-content"},ui:{content:".tooltip-content",background:".background"},events:{click:"_tooltipContentClickHandler"},_position:function(){var e=this.model.get("anchor");if(e.addClass("clicked"),e){var t=e.outerWidth(),i=e.outerHeight(),n={};if(void 0!==this.model.get("top")){var o=d.isNumeric(this.model.get("top"))?e.offset().top+Number(this.model.get("top")):0;n.top=this._validatePosition(o)}if(void 0!==this.model.get("right")){var a=d.isNumeric(this.model.get("right"))?e.offset().left+t-this.$el.outerWidth()+Number(this.model.get("right")):0;n.left=this._validatePosition(a)}if(void 0!==this.model.get("bottom")){var s=d.isNumeric(this.model.get("bottom"))?e.offset().top+i+Number(this.model.get("bottom")):0;n.top=this._validatePosition(s)}if(void 0!==this.model.get("left")){var a=d.isNumeric(this.model.get("left"))?e.offset().left+Number(this.model.get("left")):0;n.left=a}this.$el.css(n)}else this.$el.css({top:this._validatePosition(this.model.get("top")?this.model.get("top"):""),right:this._validatePosition(this.model.get("right")?this.model.get("right"):""),bottom:this._validatePosition(this.model.get("bottom")?this.model.get("bottom"):""),left:this._validatePosition(this.model.get("left")?this.model.get("left"):"")})},onRender:function(){var e=this;this.model.get("view")&&(this.getRegion("contentRegion").show(this.model.get("view")),c.defer(function(){e.$el.attr("tabIndex","0").focus(),e.$el.addClass(f).removeClass(g),e._position(),e.ui.content.addClass(v)}),p.on(h,this.closeWithAnimation.bind(this)),p.on(m,this.$el,function(t){t.which===u.ESCAPE&&e.closeWithAnimation()}))},close:function(){this.model.get("anchor").focusWithoutScrolling(),this.$el.off(s.transitionend()).removeClass(f).removeClass(g),this.model.get("anchor").removeClass("clicked"),p.off(h).off(m),this.getRegion("contentRegion").reset(),this.ui.content.removeClass(v)},closeWithAnimation:function(e){var t=this;this.$el.addClass(g).on(s.transitionend(),function(){t.close()})},_tooltipContentClickHandler:function(e){e.stopPropagation()},_validatePosition:function(e){return d.isNumeric(e)?""+e+"px":e}})}),define("app/helpers/tooltipHelper",["exports","marionette","backbone","radio","app/views/shared/tooltipLayoutView"],function(e,t,i,n,o){"use strict";function a(e){var t=c.channel(p);t.comply(h,function(t){if(t.view){var i=new(d.Model.extend())(t),n=e.getRegion("tooltipRegion").currentView;n?(n.close(),n.model=i,n.render()):(n=new u({model:i}),e.getRegion("tooltipRegion").show(n))}else c.channel("debug").command("log",{msg:"No view specififed. Ignoring call.",type:"error"})}),t.comply(m,function(){var t=e.getRegion("tooltipRegion").currentView;t&&t.closeWithAnimation()})}function s(e){return e?void c.channel(p).command(h,e):void c.channel("debug").command("log",{msg:"No options specified for the tooltip service",type:"error"})}function r(e){c.channel(p).command(m,{})}var l=function(e){return e&&e.__esModule?e["default"]:e};e.tooltipService=a,e.showViewInTooltip=s,e.closeTooltip=r,Object.defineProperty(e,"__esModule",{value:!0});var d=(l(t),l(i)),c=l(n),u=l(o),p="tooltip",h="action:showViewInTooltip",m="action:hideTooltip"}),define("app/views/home/tooltipPreferencesBaseView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.LayoutView.extend({onDestroy:function(){this._hasChanges()&&this.model.trigger("updated:preferences")},_hasChanges:function(){return!1}})}),define("app/views/home/tooltipLocationsView",["exports","module","marionette","backbone","jquery","app/lib/TwoBoxTypeahead","mast/scripts/utils/Keycodes","i18n","app/helpers/alertHelper","jSecure","app/views/home/tooltipPreferencesBaseView","app/helpers/tooltipHelper"],function(e,t,i,n,o,a,s,r,l,d,c,u){"use strict";var p=function(e){return e&&e.__esModule?e["default"]:e},h=p(i),m=(p(n),p(o)),g=p(a),f=p(s),v=p(r),b=p(d),y=p(c),w=250,_=void 0;t.exports=y.extend({template:"templates/partial/app/home/tooltip_locations",typeaheadSuggestionItemTemplate:"templates/partial/app/shared/typeahead_suggestion_item",className:"locations-container",ui:{optionsContainer:".options",options:".option",locationSearchBox:".location-search-box"},events:{"keydown @ui.locationSearchBox":"_onSearchBoxKeydown"},initialize:function(){_=JSON.stringify(this.model.get("preferences").locations)},onRender:function(){var e=this;if(g){var t={template:function(t){return h.Renderer.render(e.typeaheadSuggestionItemTemplate,t)},eventHandlers:[{event:g.EVENTS.SELECTED,callback:function(t,i,n){e._addLocationToList(i.displayName,i.id)}},{event:g.EVENTS.AUTOCOMPLETED,callback:function(t,i,n){e._addLocationToList(i.displayName,i.id)}}]},i=new g(this.$el);i.init(t)}},_onSearchBoxKeydown:function(e){e.which===f.TAB&&(u.closeTooltip(),e.preventDefault())},onBeforeDestroy:function(){this._updateSelectedLocations()},_updateSelectedLocations:function(){var e=this.model.get("preferences").locations,t=[];this.ui.options.each(function(i,n){var o=m(b.parseSelector(n)).find("input");o.is(":checked")&&t.push(e[i])}),this.model.get("preferences").locations=t},_hasChanges:function(){var e=this.model.get("preferences").locations,t=JSON.stringify(e);return t!==_},_addLocationToList:function(e,t){var i=this.model.get("preferences").locations,n=m.grep(i,function(e){return e.locationId===t});if(n.length){var o=this.ui.optionsContainer,a=o.find('input[name="'+t+'"]'),s=a.get(0).checked;if(s)l.showAlert({message:v.get("invalidLocation"),type:"error",dismiss:!0,timeout:3e3});else{var r=o.get(0).scrollTop+(a.parents(".option").offset().top-o.offset().top);o.stop().animate({scrollTop:r},w),a.prop("checked",!0)}}else i.push({locationId:t,locationDisplay:e}),this.render()}})}),define("app/models/home/rangeModel",["exports","module","backbone","i18n"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.Model.extend({defaults:{min:0,max:100,selectedMin:-1,selectedMax:-1,steps:10,decimals:0,formatLabels:!0,labels:[],snap:!1,selectedLabels:!0,a11yMaxHandle:s.get("maxA11y"),a11yMinHandle:s.get("minA11y"),isDesktop:!0},set:function(e,t){for(var i in e)if("selectedMin"===i||"selectedMax"===i){var n=e[i];isNaN(parseFloat(n))?e[i]=-1:e[i]=Number(n.toFixed(this.get("decimals")))}a.Model.prototype.set.call(this,e,t)},getSelectedMinStep:function(){var e=this.get("steps"),t=this.get("selectedMin")/(this.get("max")-this.get("min")),i=Math.ceil(t*e);return i},getSelectedMaxStep:function(){var e=this.get("steps"),t=this.get("selectedMax")/(this.get("max")-this.get("min")),i=Math.floor(t*e);return i}})}),define("app/views/shared/rangeSlider",["exports","module","marionette","jquery","underscore","app/utils/language","mast/scripts/utils/Keycodes"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=r(a),p=r(s),h="keydown.min",m="keydown.max";t.exports=l.ItemView.extend({template:"templates/partial/app/shared/range_slider",className:"range-slider",BAR_PADDING:4,BAR_DIVIDER_WIDTH:2,BAR_BASE_COLOR:"#E6E9EC",BAR_HIGHLIGHT_COLOR:"#008cc9",BAR_DIVIDER_COLOR:"#ffffff",ANIMATION_TIME_MS:125,ui:{barContainer:".bar-container",bar:".bar",labelsContainer:".labels-container",labels:".label",handles:".handle",minHandle:".handle.min",maxHandle:".handle.max",minHandleInput:".handle.min input",maxHandleInput:".handle.max input"},events:function(){var e={"focus @ui.minHandle":"_minHandle","focusout @ui.minHandle":"_minHandleRemove","focus @ui.maxHandle":"_maxHandle","focusout @ui.maxHandle":"_maxHandleRemove"};if(this.options.model.get("isDesktop")){var t={mousemove:"_onDrag","mousedown @ui.handles":"_startDrag",mouseup:"_stopDrag",mouseleave:"_stopDrag","dragstart @ui.handles":"_preventDrag",dragstart:"_preventDrag","click @ui.bar":"_onBarClick"};e=c.extend(e,t)}return e},initialize:function(){if(this.model.set("isRTL",u.isRTL()),this.model.get("labels")?this.model.set({steps:this.model.get("labels").length-1,formatLabels:!1}):this._generateLabels(),-1===this.model.get("selectedMin")||-1===this.model.get("selectedMax")){var e=this.model.get("max")-this.model.get("min"),t=this._getClosestSnapPct(.25),i=this._getClosestSnapPct(.75),n=this.model.get("min")+e*t,o=this.model.get("min")+e*i;this.model.set("selectedMin",n),this.model.set("selectedMax",o)}},onShow:function(){this.model.get("isDesktop")||(this.$el.on("touchmove",this._onDrag.bind(this)).on("touchend",this._stopDrag.bind(this)),this.ui.handles.on("touchstart",this._startDrag.bind(this)),this.ui.bar.on("touchstart",this._onBarClick.bind(this)))},onRender:function(){var e=this;this.ui.minHandleInput.attr({"aria-valuemin":this.model.get("min"),"aria-valuemax":this.model.get("max")}),this.ui.maxHandleInput.attr({"aria-valuemin":this.model.get("min"),"aria-valuemax":this.model.get("max")}),c.defer(function(){e.redraw()})},redraw:function(e){var t=this._getPctFromValue(this.model.get("selectedMin")),i=this._getPctFromValue(this.model.get("selectedMax"));t=c.min([t,i]),i=c.max([t,i]),this.model.get("snap")&&(t=this._getClosestSnapPct(t),i=this._getClosestSnapPct(i)),this._paintBar(t,i,e),this._positionHandles(t,i,e),this._updateLabels(t,i),this.model.set({selectedMin:this._getValueFromPct(t),selectedMax:this._getValueFromPct(i)}),this.model.trigger("selectedChange")},_updateLabels:function(e,t){if(this.ui.labels.removeClass("selected"),this.model.get("selectedLabels")){var i=this.model.get("steps"),n=c.min([e,t]),o=c.max([e,t]),a=Math.ceil(n*i),s=Math.floor(o*i);this.ui.labels.slice(a,s+1).addClass("selected")}this._updateAccessibility()},getSelectedLabelMax:function(){return this.ui.labelsContainer.find(".selected").last().text()},getSelectedLabelMin:function(){return this.ui.labelsContainer.find(".selected").first().text()},_preventDrag:function(e){e.preventDefault()},_startDrag:function(e){e.preventDefault(),e.stopPropagation(),this.model.set("updating",!1)},_stopDrag:function(e){e.preventDefault(),e.stopPropagation(),this.model.set("updating",!0)},_update:function(e){e.preventDefault(),e.stopPropagation(),this.model.set("updating",!1)},_positionHandles:function(e,t){},_paintBar:function(e,t){},_onBarClick:function(e){e.preventDefault(),e.stopPropagation()},_animateBar:function(e,t,i,n,o){var a=this;window.requestAnimationFrame(function(e){a.model.get("animationStart")||a.model.set("animationStart",e);var s=e-a.model.get("animationStart"),r=s/a.ANIMATION_TIME_MS;s>=a.ANIMATION_TIME_MS&&(r=1,a.model.unset("animationStart"));var l=t+(n-t)*r,d=i+(o-i)*r;a._paintBar(l,d),1>r&&a._animateBar(e,t,i,n,o)})},_onDrag:function(e){var t=this;e.stopPropagation(),this.model.get("updating")||requestAnimationFrame(function(){t._update(e)}),this.model.set("updating",!0)},_getPctFromValue:function(e){var t=this.model.get("max")-this.model.get("min"),i=e-this.model.get("min"),n=c.max([i/t,0]);return n},_getValueFromPct:function(e){var t=this.model.get("max")-this.model.get("min"),i=this.model.get("min")+t*e;return i},_generateLabels:function(){for(var e=this.model.get("max")-this.model.get("min"),t=e/this.model.get("steps"),i=[],n=0;n<=this.model.get("steps");n++){var o=this._roundToDecimals(this.model.get("min")+t*n,this.model.get("decimals"));i.push(o)}this.model.set({labels:i})},_roundToDecimals:function(e,t){return e.toFixed(t)},_getClosestSnapPct:function(e){var t=this.model.get("steps"),i=Math.round(e*t);return i>t&&(i=t),i/t},_minHandle:function(){var e=this._keyboardHandler.bind(this);this.ui.minHandle.on(h,e)},_minHandleRemove:function(){this.ui.minHandle.off(h)},_maxHandle:function(){var e=this._keyboardHandler.bind(this);this.ui.maxHandle.on(m,e)},_maxHandleRemove:function(){this.ui.maxHandle.off(m)},_keyboardHandler:function(e){var t=d(e.currentTarget).hasClass("min")?"selectedMin":"selectedMax";e.which===p.LEFT_ARROW?this.model.get(t)-1>=this.model.get("min")&&(this.model.set(t,this.model.get(t)-1),this.redraw()):e.which===p.RIGHT_ARROW&&this.model.get(t)+1<=this.model.get("max")&&(this.model.set(t,this.model.get(t)+1),this.redraw())},_updateAccessibility:function(){this.ui.minHandleInput.attr("aria-valuenow",this.model.get("selectedMin")),this.ui.minHandleInput.attr("value",""+this.getSelectedLabelMin()),this.ui.maxHandleInput.attr("aria-valuenow",this.model.get("selectedMax")),this.ui.maxHandleInput.attr("value",""+this.getSelectedLabelMax()),this.model.get("snap")?(this.ui.maxHandleInput.attr({"aria-valuetext":""+this.model.get("a11yMaxHandle")+" "+this.getSelectedLabelMax(),title:""+this.model.get("a11yMaxHandle")+" "+this.getSelectedLabelMax(),alt:""+this.model.get("a11yMaxHandle")}),this.ui.minHandleInput.attr({"aria-valuetext":""+this.model.get("a11yMinHandle")+" "+this.getSelectedLabelMin(),title:""+this.model.get("a11yMinHandle")+" "+this.getSelectedLabelMin(),alt:""+this.model.get("a11yMinHandle")})):(this.ui.maxHandleInput.attr({"aria-valuetext":""+this.model.get("a11yMaxHandle")+" "+this.model.get("selectedMax"),title:""+this.model.get("a11yMaxHandle")+" "+this.model.get("selectedMax"),alt:""+this.model.get("a11yMaxHandle")}),this.ui.minHandleInput.attr({"aria-valuetext":""+this.model.get("a11yMinHandle")+" "+this.model.get("selectedMin"),title:""+this.model.get("a11yMinHandle")+" "+this.model.get("selectedMin"),alt:""+this.model.get("a11yMinHandle")}))}})}),define("app/views/shared/verticalRangeSlider",["exports","module","jquery","app/views/shared/rangeSlider"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=s.extend({className:"range-slider vertical",_startDrag:function(e){s.prototype._startDrag.apply(this,arguments),this.model.set({dragOrigin:this.model.get("isDesktop")?e.originalEvent.pageY:e.originalEvent.touches[0].pageY,dragTarget:e.currentTarget})},_stopDrag:function(e){if(s.prototype._stopDrag.apply(this,arguments),this.model.get("dragTarget")){this.model.unset("dragOrigin"),this.model.unset("dragTarget");var t=(this.model.get("max")-this.model.get("min"),this.ui.bar.height()),i=this.ui.handles.height(),n=this.ui.maxHandle.position().top+i/2,o=this.ui.minHandle.position().top+i/2,a=n/t,r=o/t,l=this._getValueFromPct(a),d=this._getValueFromPct(r);this.model.set({selectedMin:d,selectedMax:l}),this.redraw()}},_update:function(e){if(s.prototype._update.apply(this,arguments),this.model.get("dragTarget")){var t=a(this.model.get("dragTarget")),i=this.ui.bar.height(),n=t.hasClass("max"),o=this.model.get("isDesktop")?e.originalEvent.pageY:e.originalEvent.touches[0].pageY,r=o-this.model.get("dragOrigin"),l=this.model.get(n?"selectedMax":"selectedMin"),d=this._getPctFromValue(l),c=i*d+r;c>i?c=i:0>c&&(c=0);var u=c/i,p=n?this._getPctFromValue(this.model.get("selectedMin")):u,h=n?u:this._getPctFromValue(this.model.get("selectedMax"));this.model.get("snap")&&(p=this._getClosestSnapPct(p),h=this._getClosestSnapPct(h)),this._paintBar(p,h),this._positionHandles(p,h),this._updateLabels(p,h)}},_positionHandles:function(e,t,i){var n=_.max([e,t]),o=_.min([e,t]),a=this.ui.handles.height(),s=this.ui.bar.height();this.ui.handles.css("transition-duration",i?""+this.ANIMATION_TIME_MS+"ms":"0s"),this.ui.minHandle.css("transform","translate(0, "+(s*o-a/2)+"px)"),this.ui.maxHandle.css("transform","translate(0, "+(s*n-a/2)+"px)")},_paintBar:function(e,t,i){var n=this.ui.bar.data("selectedMin"),o=this.ui.bar.data("selectedMax");if(i)return void this._animateBar(null,n,o,e,t);var a=this.$el.height()/this.model.get("steps"),s=this.ui.barContainer.width()-2*this.BAR_PADDING,r=this.ui.barContainer.height();this.ui.bar.prop("height",r).prop("width",s);
var l=this.ui.bar.get(0).getContext("2d");l.fillStyle=this.BAR_BASE_COLOR,l.fillRect(0,0,this.ui.bar.width(),this.ui.bar.height());var d=_.max([e,t]),c=_.min([e,t]),u=r*c,p=r*(d-c);l.fillStyle=this.BAR_HIGHLIGHT_COLOR,l.fillRect(0,u,this.ui.bar.width(),p);for(var h=r/this.model.get("steps"),m=h,g=1;g<this.model.get("steps");g++)m-=this.BAR_DIVIDER_WIDTH/2,l.fillStyle=this.BAR_DIVIDER_COLOR,l.fillRect(0,m,s,this.BAR_DIVIDER_WIDTH),m+=this.BAR_DIVIDER_WIDTH/2,m+=h;this.ui.labelsContainer.css({transform:"translate(0, -"+a/2+"px)"}).outerHeight(r+a),this.ui.bar.data({selectedMin:e,selectedMax:t})},_onBarClick:function(e){s.prototype._onBarClick.apply(this,arguments);var t=this.model.get("max")-this.model.get("min"),i=this.model.get("isDesktop")?e.originalEvent.offsetY:e.originalEvent.touches[0].clientY-this.ui.bar.offset().top,n=this.model.get("min")+i/this.ui.bar.height()*t,o=this.model.get("selectedMax"),a=this.model.get("selectedMin");if(n>this.model.get("max")?n=this.model.get("max"):n<this.model.get("min")&&(n=this.model.get("min")),n>o)this.model.set("selectedMax",n);else if(a>n)this.model.set("selectedMin",n);else{var r=Math.abs(this.model.get("selectedMax")-n),l=Math.abs(this.model.get("selectedMin")-n);this.model.set(r>l?"selectedMin":"selectedMax",n)}this.redraw(!0)}})}),define("app/views/home/selectedExperienceText",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/app/home/selected_experience",tagName:"span"})}),define("app/views/home/tooltipExperienceView",["exports","module","marionette","backbone","i18n","app/models/home/rangeModel","app/views/shared/verticalRangeSlider","app/views/home/tooltipPreferencesBaseView","app/views/home/selectedExperienceText"],function(e,t,i,n,o,a,s,r,l){"use strict";var d=function(e){return e&&e.__esModule?e["default"]:e},c=(d(i),d(n)),u=d(o),p=d(a),h=d(s),m=d(r),g=d(l),f=void 0,v=void 0;t.exports=m.extend({template:"templates/partial/app/home/tooltip_experience",className:"experience-container",regions:{verticalSliderContainer:".vertical-range-slider-container",experienceSelectedText:".experience-selected-text"},initialize:function(){var e=this.model.get("preferences").seniorityRange;f=JSON.stringify(e)},onRender:function(){var e=this.model.get("preferences").seniorityRange,t=e.seniorityOptions,i=[],n={};t.forEach(function(e,t){i.push(e.text),n[e.key]=t});var o=void 0!==e.seniorityMax?n[e.seniorityMax]:i.length-1,a=void 0!==e.seniorityMin?n[e.seniorityMin]:0;v=new p({labels:i,selectedMin:a,selectedMax:o,min:0,max:i.length-1,decimals:0,snap:!0,a11yMaxHandle:u.get("expMaxA11y"),a11yMinHandle:u.get("expMinA11y"),isDesktop:this.model.get("isDesktop")}),v.bind("selectedChange",this._onChange.bind(this));var s=new h({model:v});this.getRegion("verticalSliderContainer").show(s)},_onChange:function(){var e=this.model.get("preferences").seniorityRange,t=e.seniorityOptions,i=v.getSelectedMinStep(),n=v.getSelectedMaxStep(),o=t[i].text,a=t[n].text,s=new c.Model({min:o,max:a}),r=new g({model:s});this.getRegion("experienceSelectedText").show(r)},onBeforeDestroy:function(){this._updateSelections()},_updateSelections:function(){var e=v.get("selectedMin"),t=v.get("selectedMax"),i=this.model.get("preferences").seniorityRange.seniorityOptions,n=Number(i[e].key),o=Number(i[t].key);this.model.get("preferences").seniorityRange={seniorityOptions:i,seniorityMax:o,seniorityMin:n}},_hasChanges:function(){var e=this.model.get("preferences").seniorityRange,t=JSON.stringify(e);return t!==f}})}),define("app/views/home/tooltipIndustriesView",["exports","module","marionette","underscore","jquery","jSecure","app/lib/TwoBoxTypeahead","mast/scripts/utils/Keycodes","i18n","app/helpers/alertHelper","app/views/home/tooltipPreferencesBaseView","app/helpers/tooltipHelper"],function(e,t,i,n,o,a,s,r,l,d,c,u){"use strict";var p=function(e){return e&&e.__esModule?e["default"]:e},h=p(i),m=p(n),g=p(o),f=p(a),v=p(s),b=p(r),y=p(l),w=p(c),_=250,C=void 0;t.exports=w.extend({template:"templates/partial/app/home/tooltip_industries",typeaheadSuggestionItemTemplate:"templates/partial/app/shared/typeahead_suggestion_item",className:"industries-container",ui:{optionsContainer:".options",options:".option input[type=checkbox]",searchBox:"#industry-search-box"},events:{"change @ui.options":"_onCheckboxChange","keydown @ui.searchBox":"_onSearchBoxKeydown"},initialize:function(){var e=this.model.get("preferences").industries;C=JSON.stringify(e);var t=e.map(function(e){return g.extend(!0,{selected:!0},e)});if(this.model.set({selections:t}),!t.length){var i=this.model.get("preferences").suggestedIndustries;if(i){var n=i.map(function(e){return g.extend(!0,{selected:!1},e)}).filter(function(e){return e.key!==e.text});this.model.set({suggestions:n})}}},onRender:function(){var e=this;if(v){var t={replace:!1,template:function(t){return h.Renderer.render(e.typeaheadSuggestionItemTemplate,t)},eventHandlers:[{event:v.EVENTS.SELECTED,callback:function(t,i,n){e._addIndustryToList(i.displayName,i.id)}},{event:v.EVENTS.AUTOCOMPLETED,callback:function(t,i,n){e._addIndustryToList(i.displayName,i.id)}}],filter:function(t){var i=t.resultList.filter(function(t){var i=e.ui.searchBox.typeahead2("val").toLowerCase();return-1!==t.displayName.toLowerCase().indexOf(i)});return i}},i=new v(this.$el);i.init(t)}if(this.model.get("scrollToBottomOnRender")){this.model.unset("scrollToBottomOnRender");var n=this.ui.optionsContainer,o=n.prop("scrollHeight");n.stop().animate({scrollTop:o},_)}},_onSearchBoxKeydown:function(e){e.which===b.TAB&&(u.closeTooltip(),e.preventDefault())},onBeforeDestroy:function(){this._updateSelectedIndustries(),this.model.unset("selections"),this.model.unset("suggestions"),this.model.unset("scrollToBottomOnRender")},_updateSelectedIndustries:function(){var e=[];this.ui.optionsContainer.find(".option").each(function(t,i){var n=g(f.parseSelector(i)),o=n.find("input"),a=o.get(0).checked;if(a){var s=o.prop("id"),r=n.find("label").text();e.push({key:s,text:r})}}),this.model.get("preferences").industries=e},_hasChanges:function(){var e=this.model.get("preferences").industries,t=JSON.stringify(e);return t!==C},_addIndustryToList:function(e,t){var i=this.model.get("selections"),n=g.grep(i,function(e){return e.key===t});if(n.length){var o=this.ui.optionsContainer,a=o.find('input[name="'+t+'"]'),s=a.get(0).checked;if(s)d.showAlert({message:y.get("invalidIndustry"),type:"error",dismiss:!0,timeout:3e3});else{var r=o.get(0).scrollTop+(a.parents(".option").offset().top-o.offset().top);o.stop().animate({scrollTop:r},_),a.prop("checked",!0)}}else i.push({key:t,text:e,selected:!0}),this._removeDuplicateSuggestions(t),this.model.set("scrollToBottomOnRender",!0),this.render()},_onCheckboxChange:function(e){var t=g(e.currentTarget),i=t.get(0).checked,n=t.attr("name"),o=this.model.get("selections"),a=m.find(o,function(e){return e.key===n});if(a)a.selected=i;else{var s=this.model.get("suggestions"),r=m.find(s,function(e){return e.key===n});r&&(r.selected=i)}},_removeDuplicateSuggestions:function(e){var t=this.model.get("suggestions");if(t){var i=(this.model.get("selections"),m.where(t,{key:e}));t=m.difference(t,i),this.model.set({suggestions:t})}}})}),define("app/views/home/selectedCompanySizeText",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/app/home/selected_company_size",tagName:"span"})}),define("app/views/home/tooltipCompanySizeView",["exports","module","marionette","backbone","i18n","app/models/home/rangeModel","app/views/shared/verticalRangeSlider","app/views/home/tooltipPreferencesBaseView","app/views/home/selectedCompanySizeText"],function(e,t,i,n,o,a,s,r,l){"use strict";var d=function(e){return e&&e.__esModule?e["default"]:e},c=(d(i),d(n)),u=d(o),p=d(a),h=d(s),m=d(r),g=d(l),f=void 0,v=void 0;t.exports=m.extend({template:"templates/partial/app/home/tooltip_company_size",className:"company-size-container",regions:{verticalSliderContainer:".vertical-range-slider-container",companySizeSelectedText:".company-size-selected-text"},initialize:function(){var e=this.model.get("preferences").companySizeRange.companySizeRange;f=JSON.stringify(e)},onRender:function(){var e=this.model.get("preferences").companySizeRange,t=e.companySizeOptions,i=[],n={};t.forEach(function(e,t){i.push(e.companySizeDisplayString),n[e.companySize]=t});var o=e.companySizeRange?n[e.companySizeRange.maxSize]:i.length-1,a=e.companySizeRange?n[e.companySizeRange.minSize]:0;v=new p({labels:i,selectedMin:a,selectedMax:o,min:0,max:i.length-1,decimals:0,snap:!0,a11yMaxHandle:u.get("companyMaxA11y"),a11yMinHandle:u.get("companyMinA11y"),isDesktop:this.model.get("isDesktop")}),v.bind("selectedChange",this._onChange.bind(this));var s=new h({model:v});this.getRegion("verticalSliderContainer").show(s)},_onChange:function(){var e=this.model.get("preferences").companySizeRange,t=e.companySizeOptions,i=v.getSelectedMinStep(),n=v.getSelectedMaxStep(),o=t[i].companySIzeRangeBound.lowerBound,a=t[n].companySIzeRangeBound.upperBound,s=new c.Model({min:o,max:a}),r=new g({model:s});this.getRegion("companySizeSelectedText").show(r)},onBeforeDestroy:function(){this._updateSelections()},_updateSelections:function(){var e=v.get("selectedMin"),t=v.get("selectedMax"),i=this.model.get("preferences").companySizeRange.companySizeOptions,n=i[e].companySize,o=i[t].companySize,a={companySizeOptions:i,companySizeRange:{minSize:n,maxSize:o}};this.model.get("preferences").companySizeRange=a},_hasChanges:function(){var e=this.model.get("preferences").companySizeRange.companySizeRange,t=JSON.stringify(e);return t!==f}})}),define("app/views/home/jymbiiHeaderView",["exports","module","marionette","backbone","jquery","underscore","app/helpers/tooltipHelper","app/behaviors/linkTo","app/behaviors/tracking","app/utils/language","app/views/home/jymbiiHeaderView","app/views/home/tooltipLocationsView","app/views/home/tooltipExperienceView","app/views/home/tooltipIndustriesView","app/views/home/tooltipCompanySizeView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m){"use strict";var g=function(e){return e&&e.__esModule?e["default"]:e},f=g(i),v=(g(n),g(o)),b=(g(a),g(r)),y=g(l),w=g(d),_=(g(c),g(u)),C=g(p),k=g(h),x=g(m),S=12,M=void 0;t.exports=f.ItemView.extend({template:"templates/partial/app/home/jymbii_header",className:function(){var e="header-container"+(this.options.model.get("isMobilePhone")?" grid-container":"");return e},tagName:"section",behaviors:{linkTo:{behaviorClass:b},trackingBehavior:{behaviorClass:y,modules:["customJymbiiPreferenceModule"]}},ui:{preferenceLinks:"a.preference",locationsPrefLink:".preference.locations",experiencePrefLink:".preference.experience",companySizePrefLink:".preference.company-size",industriesPrefLink:".preference.industries",updatePreferencesLink:".update-preferences-link"},events:{"click @ui.preferenceLinks":"_onPreferenceLink","click @ui.updatePreferencesLink":"_onUpdatePreferencesLink"},modelEvents:{"updated:preferences":"_onPreferencesChanged"},initialize:function(){this.model.set("isRTL",w.isRTL())},onDestroy:function(){clearTimeout(M)},_onPreferencesChanged:function(){var e=this;clearTimeout(M),M=setTimeout(function(){e.render()},250)},_onPreferenceLink:function(e){e.preventDefault(),e.stopPropagation();var t=v(e.currentTarget);t.hasClass("clicked")?s.closeTooltip():t.is(this.ui.locationsPrefLink)?this._showLocationsPreferences():t.is(this.ui.experiencePrefLink)?this._showExperiencePreferences():t.is(this.ui.companySizePrefLink)?this._showCompanySizePreferences():t.is(this.ui.industriesPrefLink)&&this._showIndustriesPreferences()},_showLocationsPreferences:function(){var e=this.ui.locationsPrefLink,t=new _({model:this.model});this._showPreferencesTooltip(e,t)},_showExperiencePreferences:function(){var e=this.ui.experiencePrefLink,t=new C({model:this.model});this._showPreferencesTooltip(e,t)},_showCompanySizePreferences:function(){var e=this.ui.companySizePrefLink,t=new x({model:this.model});this._showPreferencesTooltip(e,t)},_showIndustriesPreferences:function(){var e=this.ui.industriesPrefLink,t=new k({model:this.model});this._showPreferencesTooltip(e,t)},_showPreferencesTooltip:function(e,t){var i=S,n=0,o={view:t,anchor:e,bottom:i};this.model.get("isRTL")?o.right=n:o.left=n,s.showViewInTooltip(o)}})}),define("app/views/home/topApplicantJobsUpsellView",["exports","module","marionette","app/behaviors/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.ItemView.extend({template:"templates/partial/app/home/top_applicant_jobs_upsell",className:"top-applicant-jobs-upsell-container",behaviors:{trackingBehavior:{behaviorClass:s,modules:["jobHomeTopApplicantJobsUpsell"]}}})}),define("app/views/home/fastGrowingCompaniesUpsellView",["exports","module","marionette","app/behaviors/tracking","app/services/tracking"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n);t.exports=s.ItemView.extend({getTemplate:function(){var e="templates/partial/app/home/fast_growing_companies_upsell",t="templates/partial/app/home/fast_growing_companies_upsell_fallback";return"normal"===this.model.get("showFastGrowingCompaniesUpsell")&&this.model.get("memberSuperTitle")?e:t},behaviors:{trackingBehavior:{behaviorClass:r,modules:["jobHomeFastGrowingCompaniesUpsell"]}},onRender:function(){var e="moduleImpression",t="normal"===this.model.get("showFastGrowingCompaniesUpsell")&&this.model.get("memberSuperTitle")?"jobHomeFastGrowingCompaniesUpsellSupertitleRendered":"jobHomeFastGrowingCompaniesUpsellFallbackRendered";o.emitTrackingEvent(e,[t])}})}),define("app/views/home/icUpsellView",["exports","module","marionette","app/behaviors/tracking","app/behaviors/linkTo"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=a(o);t.exports=s.ItemView.extend({template:"templates/partial/app/home/ic_upsell",className:"ic-upsell-container",behaviors:{linkTo:{behaviorClass:l},trackingBehavior:{behaviorClass:r}}})}),define("app/views/home/jymbiiJobsView",["exports","module","marionette","backbone","jquery","underscore","i18n","app/behaviors/lazyLoad","app/components/spinner","app/helpers/modalHelper","app/behaviors/tracking","app/views/home/topApplicantJobsUpsellView","app/views/home/fastGrowingCompaniesUpsellView","app/views/detail/jobFeedbackView","app/views/detail/messageHeader","app/views/home/icUpsellView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g){"use strict";var f=function(e){return e&&e.__esModule?e["default"]:e},v=f(i),b=f(n),y=f(o),w=f(a),_=f(s),C=f(r),k=f(l),x=f(c),S=f(u),M=f(p),T=f(h),I=f(m),E=f(g),A="removing",P="/jobs/home/blacklistOrganicJob/",R={FIRST_ROW:"FIRST_ROW",SECOND_ROW:"SECOND_ROW",VERTICAL_RIGHT:"VERTICAL_RIGHT"},j="expanded",V="expand:hidden",L=void 0,B=void 0,D=k();t.exports=v.LayoutView.extend({template:"templates/partial/app/home/jymbii_jobs",className:function(){var e="compact-jobs-container v2 jymbii-jobs-container"+(this.options.model.get("isMobilePhone")?" grid-container":"");return e},tagName:"ul",numJobsPerRow:3,jobIndexForVerticalSponsorJobPlacement:2,maxNumSponsoredJobs:3,premiumJymbiiPlacement:-1,behaviors:function(){var e=void 0;return e=this.options.model.get("organicJymbiiJobs")?"jymbiiJobDisplayModule":"jymbiiJobDisplayModuleNull",{trackingBehavior:{behaviorClass:x,modules:[e]},lazyLoadBehavior:{behaviorClass:C,radioCommand:"jymbii",offsetDistance:100}}},regions:{topApplicantUpsell:"#top-applicant-jobs-upsell",fastGrowingCompaniesUpsell:"#fast-growing-companies-upsell",icUpsell:"#ic-upsell"},ui:{jobRemoveButton:".item .remove-btn",job:".item",fastGrowingCompaniesUpsell:"#fast-growing-companies-upsell",feedbackBanner:"#feedback",feedbackLink:".send-feedback-link"},events:{"click @ui.jobRemoveButton":"_onJobRemoveButtonClicked","transitionend @ui.job":"_onTransitionEnd","click @ui.feedbackLink":"_showFeedback"},initialize:function(){this.premiumJymbiiPlacement=3*this.numJobsPerRow,this._checkICPromo(),this._checkTopApplicantJobsUpsell(),this._organizeJobs()},_organizeJobs:function(){var e=this;if(this.model.get("organicJymbiiJobs")){var t=[].concat(this.model.get("organicJymbiiJobs").elements),i=(t.length?Math.ceil(t.length/this.numJobsPerRow):1,[].concat(this.model.get("sponsoredJobs").elements)),n=!this.model.get("jobs"),o=this.model.get("jymbiiSponsoredJobsPlacement");o&&"control"!==o&&n||(o=R.FIRST_ROW);var a=this.model.get("jobs")||[],s=void 0,r=void 0,l=void 0,d=void 0,c=L&&o==R.FIRST_ROW?this.maxNumSponsoredJobs-1:this.maxNumSponsoredJobs,u=i&&i.length>=0,p=this.model.get("isMobilePhone");if(p&&(u=!1),u)switch(s=0,r=n?c:this.numJobsPerRow,o){case R.FIRST_ROW:a=a.concat(i.slice(s,r)),l=0,d=t.length;break;case R.SECOND_ROW:l=0,d=this.numJobsPerRow,L&&n&&d--,a=a.concat(t.slice(l,d)),a=a.concat(i.slice(s,r)),l=d,d=t.length;break;case R.VERTICAL_RIGHT:l=0,d=t.length;var h=L?1:0;t.forEach(function(t,n){a.push(t);var o=(n+h+1)%e.numJobsPerRow===e.jobIndexForVerticalSponsorJobPlacement;if(o){var s=n<e.numJobsPerRow;if(L&&s)return;if(i.length){var r=i.shift();a.push(r),h++}}}),l=d}else l=0,d=t.length;a=a.concat(t.slice(l,d)),this.model.get("isPremium")&&a.length>this.premiumJymbiiPlacement&&n&&(a=a.slice(0,this.premiumJymbiiPlacement)),this._checkFastGrowingCompanyUpsell(a),this._checkFeedbackBannerPosition(a);var m=w.map(a,function(t){return t.showJobAnalytics=!0,t.showRemoveButton=!0,t.showConnections=!0,t.openJobInNewWindow=!0,t.showOneClickIcon=!0,p||(t.showJobTags=e.model.get("showTagsForJobCards")),t});this.model.set({jobs:m})}},_onJobRemoveButtonClicked:function(e){e.stopPropagation(),e.preventDefault();var t=y(e.currentTarget).parents(".item");t.addClass(A),t.next().length?t.next().attr("tabindex",-1).focus():t.prev().length&&t.prev().attr("tabindex",-1).focus()},_onTransitionEnd:function(e){e.stopPropagation(),e.preventDefault();var t=y(e.currentTarget);t.hasClass(A)&&this._removeJob(t)},onGetMoreItems:function(){var e=this.model.get("organicJymbiiJobs").paging.links.next;e?(D.attach(this.$el),y.ajax({type:"GET",url:e}).then(this._onJobsSuccess.bind(this),this._onJobsError.bind(this))):this.triggerMethod(j)},_onJobsSuccess:function(e){this.model.unset("organicJymbiiJobs"),this.model.unset("sponsoredJobs"),this.model.set(e.jymbiiJobDisplayModule),this._organizeJobs(),this.render(),D.detach(this.$el),this.triggerMethod(j),this._checkExpandButton()},_onJobsError:function(e){D.detach(this.$el),this.triggerMethod(j);try{var t="Get preferences error: "+e.status+" "+e.statusText;window.jet.error(t)}catch(i){}},onGetLastIndex:function(){return this.$el.children().last().index()},onGetFocusJobElement:function(e){return this.$el.children().eq(e)},_removeJob:function(e){var t=this,i=e.find(".job-info-container").data("jobId"),n=this.model.get("jobs"),o=w.find(n,function(e){return e.decoratedJobPosting.jobPosting.id===i}),a=w.without(n,[o]);this.model.set("jobs",a),e.remove();var s=e.index()-1;this.triggerMethod(j,s),w.defer(function(){t._checkExpandButton()});var r=play.getPageContext(),l=r?r.csrfToken:"";y.ajax({method:"POST",url:""+P+i,data:{csrfToken:l}}),this._repositionFastGrowingCompanyUpsell(),this._repositionFeedbackBanner()},onRender:function(){var e=this;if(L)if(this.model.get("showICPromo")){var t=this.model.get("supportingUrls").icPromo,i=new b.Model({getStartedUrl:t});this.getRegion("icUpsell").show(new E({model:i}))}else 0!==this.$("#top-applicant-jobs-upsell").length&&this.getRegion("topApplicantUpsell").show(new S({model:this.model}));B&&0!==this.$("#fast-growing-companies-upsell").length&&this.getRegion("fastGrowingCompaniesUpsell").show(new M({model:this.model})),w.defer(function(){e._checkExpandButton()})},_checkICPromo:function(){var e=Math.random()>=.5,t=this.model.get("sharingOptions"),i=t&&t.sharingAllFieldsWithRecruiters,n=this.model.get("enableICPromo")&&e&&!i;this.model.set({showICPromo:n})},_checkTopApplicantJobsUpsell:function(){this.model.get("topApplicantJobsUpsellUrl")&&!this.model.get("isPremium")&&(this.model.set("showTopApplicantJobsUpsellValue",1),L=!0)},_checkFastGrowingCompanyUpsell:function(e){var t=e.length,i=void 0;!this.model.get("fastGrowingCompaniesUpsellUrl")||this.model.get("isPremium")||"normal"!==this.model.get("showFastGrowingCompaniesUpsell")&&"fallback"!==this.model.get("showFastGrowingCompaniesUpsell")||(L?t++:t,t>=this.premiumJymbiiPlacement&&(i=L?this.premiumJymbiiPlacement-2:this.premiumJymbiiPlacement-1,B=!0),t<this.premiumJymbiiPlacement&&t>=this.premiumJymbiiPlacement-2&&(t--,i=L?t-1:t,B=!0),this.model.set("showFastCompaniesUpsellValue",i))},_checkFeedbackBannerPosition:function(e){if(this.model.get("showJobsHomeFeedback")&&!this.model.get("isPremium")){var t=e.length+(L?1:0),i=2*this.numJobsPerRow-(L?2:1),n=t-(L?2:1),o=t>=2*this.numJobsPerRow?i:n;this.model.unset("showFeedbackBannerValue"),o&&this.model.set({showFeedbackBannerValue:o})}},_repositionFastGrowingCompanyUpsell:function(){this._checkFastGrowingCompanyUpsell(this.model.get("jobs"));var e=this.model.get("showFastCompaniesUpsellValue");if(!isNaN(e)){var t=this.$el.find(".item").not("#top-applicant-jobs-upsell").eq(e),i=this.ui.fastGrowingCompaniesUpsell;t.after(i)}},_repositionFeedbackBanner:function(){this._checkFeedbackBannerPosition(this.model.get("jobs"));var e=this.model.get("showFeedbackBannerValue");if(!isNaN(e)){L&&e++;var t=this.$el.find(".item").eq(e),i=this.ui.feedbackBanner;t.after(i)}},_checkExpandButton:function(){var e=this.model.get("organicJymbiiJobs");e&&e.paging.links.next||this.triggerMethod(V)},_showFeedback:function(e){e.stopPropagation(),e.preventDefault();var t=new b.Model({title:_.get("sendFeedback2")});d.showViewInModal({view:new T({feedbackSubject:"Neo Jobs Home",isJobFeedback:!1}),customClass:"messaging secondary",header:new I({model:t})})}})}),define("app/views/home/jymbiiJobsView4Column",["exports","module","marionette","app/views/home/jymbiiJobsView"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=(o(i),o(n));t.exports=a.extend({numJobsPerRow:4})}),define("app/views/shared/expandableItemsView",["exports","module","marionette","radio","underscore","app/behaviors/tracking"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=(s(n),s(o)),d=s(a),c="loading",u=void 0,p="get:more:items",h="get:last:index",m="get:focus:job:element",g=void 0,f=void 0,v=void 0;t.exports=r.LayoutView.extend({template:"templates/partial/app/shared/expandable_items_layout",regions:{itemsWrapper:".items-wrapper"},behaviors:{trackingBehavior:{behaviorClass:d}},ui:{itemsContainer:".items-container",items:".items-wrapper",loaderContainer:".loader-container",expandButtonContainer:".expand-button-container",expandButton:".expand-button"},events:{"click @ui.expandButton":"_triggerExpand"},childEvents:{expanded:"_onItemsViewExpanded","expand:disabled":"_onItemsViewExpandDisabled","expand:hidden":"_onItemsViewExpandHidden"},onShow:function(){var e=this,t=this.model.get("itemsView");t&&this.getRegion("itemsWrapper").show(t),l.defer(function(){e._setCollectionContainerHeight()}),u=this._setCollectionContainerHeight.bind(this),window.addEventListener("resize",u,!0)},onDestroy:function(){window.removeEventListener("resize",u,!0)},_setCollectionContainerHeight:function(){var e=this.ui.items.outerHeight();this.ui.itemsContainer.css("height",e)},_triggerExpand:function(){this.ui.loaderContainer.addClass(c),this.ui.expandButton.prop("disabled",!0),this._updateCollectionHeight()},_updateCollectionHeight:function(){var e=this.getRegion("itemsWrapper").currentView;e&&(g=e.triggerMethod(h),v=g+1,e.triggerMethod(p))},_onItemsViewExpanded:function(e){var t=this;this.ui.expandButtonContainer.show();var i=this.ui.items.outerHeight();this.ui.loaderContainer.removeClass(c),this.ui.expandButton.prop("disabled",!1),this.ui.itemsContainer.css("height",i),f=this.getRegion("itemsWrapper").currentView.triggerMethod(m,void 0===e?v:e),l.defer(function(){t._setAccessibility(f)})},_onItemsViewExpandDisabled:function(){this.ui.expandButtonContainer.show(),this.ui.loaderContainer.removeClass(c),this.ui.expandButton.prop("disabled",!0)},_onItemsViewExpandHidden:function(){this.ui.expandButtonContainer.hide()},_setAccessibility:function(e){e.attr("tabindex",-1).focus()}})}),define("app/utils/rumTracking",["exports","module"],function(e,t){"use strict";var i="_start",n="_end",o=window.performance&&"function"==typeof window.performance.mark,a=o&&window.performance;t.exports={startTimingForMarkers:function(e){o&&e.forEach(function(e){a.mark(e+i)})},endTimingForMarkers:function(e){o&&e.forEach(function(e){a.mark(e+n)})},measureRumMarkers:function(e){o&&e.forEach(function(e){var t=""+e+i,o=""+e+n;a.getEntriesByName(t).length&&a.getEntriesByName(o).length&&a.measure(e,t,o)})}}}),define("app/views/home/premium/topApplicantJobs/topApplicantJobCardHeaderView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/app/home/premium/top_applicant_jobs/top_applicant_job_card_header"})}),define("app/views/home/premium/topApplicantJobs/topApplicantJobCardContentView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/app/shared/compact_job",className:"compact-job-container",tagName:"div"})}),define("app/views/home/premium/topApplicantJobs/topApplicantJobCardLayoutView",["exports","module","marionette","app/views/home/premium/topApplicantJobs/topApplicantJobCardHeaderView","app/views/home/premium/topApplicantJobs/topApplicantJobCardContentView","underscore","app/factories/lazyModelFactory","app/models/premiumInsights","app/models/postJobModel","app/behaviors/lazyLoad","app/utils/rumTracking","app/services/tracking"],function(e,t,i,n,o,a,s,r,l,d,c,u){"use strict";var p=function(e){return e&&e.__esModule?e["default"]:e},h=p(i),m=p(n),g=p(o),f=(p(a),p(s)),v=p(r),b=p(l),y=p(d),w=p(c),_="ajax_d_job_home_applicants_rank_refresh_success";t.exports=h.LayoutView.extend({template:"templates/partial/app/home/premium/top_applicant_jobs/top_applicant_job_card",className:"item",tagName:"li",regions:{header:"#rank-header",content:"#jymbii-compact-job-content"},behaviors:{lazyLoadBehavior:{behaviorClass:y,radioCommand:"topApplicantJobs",offsetDistance:100}},ui:{rankRefreshButton:".refresh-btn"},events:{"click @ui.rankRefreshButton":"fetchRankInformation"},fetchRankInformation:function(e){var t=this;e&&(e.stopPropagation(),e.preventDefault());var i=1e4,n="/jobs/home/applicantRanks?jobIds="+this.model.get("decoratedJobPosting").jobPosting.id,o=this.model.get("refId");o&&(n+="&refId="+o),w.startTimingForMarkers([_]);var a=f({Model:v,url:n,fetchOptions:{timeout:i}});a.done(function(e){w.endTimingForMarkers([_]),w.measureRumMarkers([_]);var i=e.get("applicantSummaries");t.renderRankHeaderSuccess(i[0])}),a.fail(function(){t.renderRankHeaderFailure()})},renderRankHeaderSuccess:function(e){var t=new b,i="moduleImpression",n=void 0,o=this.model.get("viewJobUrl");t.set("viewJobUrl",o),e&&e.percentile>=50?(t.set("percentile",100-e.percentile),t.set("count",e.count),n="jobHomeTopApplicantJobsHeaderRankRendered",u.emitTrackingEvent(i,[n])):e&&e.count>0?(n="jobHomeTopApplicantJobsHeaderRankFallbackRendered",u.emitTrackingEvent(i,[n]),t.set("count",e.count)):(n="jobHomeTopApplicantJobsHeaderErrorRendered",u.emitTrackingEvent(i,[n]),t.set("applicantRankDataError",!0)),this.getRegion("header").show(new m({model:t}))},renderRankHeaderFailure:function(){var e=new b;e.set("applicantRankCallFailed",!0),this.getRegion("header").show(new m({model:e}));var t="moduleImpression",i="jobHomeTopApplicantJobsHeaderRefeshRankRendered";u.emitTrackingEvent(t,[i])},onShow:function(){this.getRegion("header").show(new m({model:this.model})),this.getRegion("content").show(new g({model:this.model}))}})}),define("app/views/home/premium/topApplicantJobs/topApplicantJobsCompositeView",["exports","module","marionette","jquery","backbone","i18n","app/behaviors/lazyLoad","app/factories/lazyModelFactory","app/models/premiumInsights","app/behaviors/Tooltip/Hovercard","app/utils/rumTracking","app/services/tracking","app/helpers/modalHelper","app/views/detail/jobFeedbackView","app/views/detail/messageHeader","app/views/home/premium/topApplicantJobs/topApplicantJobCardLayoutView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g){"use strict";var f=function(e){return e&&e.__esModule?e["default"]:e},v=f(i),b=f(n),y=f(o),w=f(a),_=(f(s),f(r)),C=f(l),k=f(d),x=f(c),S=f(h),M=f(m),T=f(g),I="ajax_d_job_home_applicants_rank_success",E=1,A=0;t.exports=v.CompositeView.extend({template:"templates/partial/app/home/premium/top_applicant_jobs/top_applicant_jobs",childViewContainer:"#top-applicant-jobs-item-list",childView:T,behaviors:{Hovercard:{behaviorClass:k,muteBackgroundClass:".top-applicant-jobs-item-list",tooltipTrigger:"hover-persistent"}},ui:{feedbackLink:".send-feedback-link"},events:{"click @ui.feedbackLink":"_showFeedback"},onPageLoadEvents:function(){var e=this,t=1e4,i="/jobs/home/applicantRanks?",n="jobIds=",o="&";if(x.startTimingForMarkers([I]),this.children.forEach(function(e){i+=n,i+=e.model.get("decoratedJobPosting").jobPosting.id,i+=o}),this.children&&this.children.length>0){var a=this.children.findByIndex(0).model.get("refId");a&&(i+="refId="+a)}var s=i,r=_({Model:C,url:s,fetchOptions:{timeout:t}});r.done(function(t){x.endTimingForMarkers([I]),x.measureRumMarkers([I]);for(var i=t.get("applicantSummaries"),n=0;n<e.children.length;n++)i[n].percentile?e.children.findByIndex(n).renderRankHeaderSuccess(i[n]):e.children.findByIndex(n).fetchRankInformation(null)}),r.fail(function(){E>A?(A+=1,e.onPageLoadEvents()):e.children.forEach(function(e){e.renderRankHeaderFailure()})})},onShow:function(){"complete"!==document.readyState?b(window).on("load",this.onPageLoadEvents.bind(this)):this.onPageLoadEvents();var e="moduleImpression",t="jobHomeTopApplicantJobsCardsRendered";u.emitTrackingEvent(e,[t])},_showFeedback:function(e){e.stopPropagation(),e.preventDefault();var t=new y.Model({title:w.get("sendFeedback2")});p.showViewInModal({view:new S({feedbackSubject:"Neo Jobs Home Premium Top Applicant Jobs",isJobFeedback:!1}),customClass:"messaging secondary",header:new M({model:t})})}})}),define("app/views/home/premium/topApplicantJobs/topApplicantJobsNullStateView",["exports","module","marionette","app/services/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);t.exports=a.ItemView.extend({template:"templates/partial/app/home/premium/top_applicant_jobs/top_applicant_jobs_null_state",onRender:function(){var e="moduleImpression",t="jobHomeTopApplicantJobsNullStateRendered";n.emitTrackingEvent(e,[t])}})}),define("app/views/home/premium/topApplicantJobs/topApplicantJobsLayoutView",["exports","module","jquery","marionette","app/factories/lazyModelFactory","app/collections/jobs","app/behaviors/tracking","app/services/tracking","app/behaviors/lazyLoad","app/services/rum","app/views/home/premium/topApplicantJobs/topApplicantJobsCompositeView","app/views/home/premium/topApplicantJobs/topApplicantJobsNullStateView"],function(e,t,i,n,o,a,s,r,l,d,c,u){"use strict";var p=function(e){return e&&e.__esModule?e["default"]:e},h=(p(i),p(n)),m=(p(o),p(a)),g=p(s),f=p(l),v=p(c),b=p(u);t.exports=h.LayoutView.extend({template:"templates/partial/app/home/premium/top_applicant_jobs/top_applicant_jobs_layout",className:"top-applicant-jobs-container",regions:{topApplicantJobsContent:"#top-applicant-jobs-content"},behaviors:{lazyLoadBehavior:{behaviorClass:f,radioCommand:"topApplicantJobs",offsetDistance:100},trackingBehavior:{behaviorClass:g,modules:["jobHomeTopApplicantJobsFeature"]}
},onBeforeShow:function(){var e=this.model.get("topApplicantJobs");if(e&&e.length>1){var t=new m({},{showJobAnalytics:!0}),i=this.model.get("show4ColumnJobsHomeDiscoverLayout")?4:3,n=e.slice(0,i),o={jobs:n};t.onEmbeddedContent(o),this.model.set("jobs",t),this.getRegion("topApplicantJobsContent").show(new v({model:this.model,collection:this.model.get("jobs")}))}else this.getRegion("topApplicantJobsContent").show(new b({model:this.model}))},onRender:function(){var e="moduleImpression",t="jobHomeTopApplicantJobsFeatureRendered";r.emitTrackingEvent(e,[t])},onShow:function(){d.rumRenderComplete()}})}),define("app/views/home/jymbiiLayoutView",["exports","module","marionette","backbone","underscore","jquery","i18n","radio","app/helpers/preferencesHelper","app/helpers/alertHelper","app/factories/modelFactory","app/models/embeddedContentModel","app/collections/jobs","app/components/spinner","app/services/rum","app/views/home/jymbiiHeaderView","app/views/home/jymbiiJobsView","app/views/home/jymbiiJobsView4Column","app/views/shared/expandableItemsView","app/views/home/premium/topApplicantJobs/topApplicantJobsLayoutView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g,f,v,b,y){"use strict";var w=function(e){return e&&e.__esModule?e["default"]:e},_=w(i),C=w(n),k=w(o),x=w(a),S=w(s),M=w(r),T=w(l),I=w(c),E=w(u),A=(w(p),w(h)),P=w(g),R=w(f),j=w(v),V=w(b),L=w(y),B="nav",D="nav:saving",F="nav:saved",N="nav:saveError",O=A();t.exports=_.LayoutView.extend({template:"templates/partial/app/home/jymbii_layout",className:function(){var e="jymbii-container "+(this.options.model.get("show4ColumnJobsHomeDiscoverLayout")?"four-column-layout":"three-column-layout");return e},regions:{header:"#header",main:"#main",topApplicantJobs:"#top-applicant-jobs-in-jymbii"},ui:{preferencesForm:".preferences-form",contentContainer:"#main"},modelEvents:{"updated:preferences":"_onPreferencesChanged"},_onPreferencesChanged:function(){O.attach(this.ui.contentContainer);var e=this.model.get("preferences"),t=T.getPreferencesFormData(e);M.channel(B).command(D),x.ajax({type:"POST",data:t,url:this.ui.preferencesForm.prop("action")}).then(this._onPreferencesSaved.bind(this),this._onPreferencesSaveError.bind(this))},_onPreferencesSaved:function(e){O.detach(this.ui.contentContainer),M.channel(B).command(F),T.updateDataStoreForPreferencesResponse(e);var t=e.moduleResponse.customJymbiiPreferenceModule,i=e.moduleResponse.jymbiiJobDisplayModule||{},n=k.extend(i,{preferences:t});this.model.unset("organicJymbiiJobs"),this.model.unset("sponsoredJobs"),this.model.set(n),this._updateJobsView()},_onPreferencesSaveError:function(e){O.detach(this.ui.contentContainer),M.channel(B).command(N),d.showAlert({message:S.get("tryAgainErrorMessage"),type:"error",dismiss:!0})},onShow:function(){if(this._renderHeader(),this.model.get("isPremium")){var e=this.model.get("organicJymbiiJobs"),t=this.model.get("topApplicantJobs"),i=t&&t.length>1;this.model.get("show4ColumnJobsHomeDiscoverLayout")?(this._renderTopApplicantJobs(),(!t||e||i)&&this._updateJobsView()):this._updateJobsView()}else this._updateJobsView();this.model.get("topApplicantJobs")||m.rumRenderComplete()},_renderHeader:function(){this.getRegion("header").show(new P({model:this.model}))},_updateJobsView:function(){var e=new R({model:this.model.clone()});this.model.get("show4ColumnJobsHomeDiscoverLayout")&&(e=new j({model:this.model.clone()}));var t=S.get("viewMoreJobs"),i="seemorejobs",n=new C.Model({expandButton:t,expandButtonDataControl:i,itemsView:e}),o=new V({model:n});this.getRegion("main").show(o)},_renderTopApplicantJobs:function(){var e=this;I(E.extend(),["lixModule","globalVariable","topApplicantJobs"]).done(function(t){e.getRegion("topApplicantJobs").show(new L({model:t}))})}})}),define("app/views/shared/compactCompanyItemView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/app/shared/compact_company_lcp",className:"item",tagName:"li"})}),define("app/views/home/companyLCPView",["exports","module","marionette","backbone","app/behaviors/lazyLoad","app/behaviors/tracking","app/views/shared/compactCompanyItemView"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=r(a),p=r(s);t.exports=l.CompositeView.extend({template:"templates/partial/app/home/company_lcp",childViewContainer:".collection",childView:p,behaviors:{lazyLoadBehavior:{behaviorClass:c,radioCommand:"companyLCP",offsetDistance:100},trackingBehavior:{behaviorClass:u,modules:["companyLCPDisplayModule"]}},initialize:function(){this.collection.length&&this.collection.add(new d.Model({seeMoreCompany:this.model.get("seeMoreCompany")}))}})}),define("app/components/DonutChart",["exports"],function(e){"use strict";function t(e,t){var i=t,n=2*Math.PI/100,o=0,a=i/2,s=e*n-.001,r=a+a*Math.sin(o),l=a-a*Math.cos(o),d=a+a*Math.sin(s),c=a-a*Math.cos(s),u=0;s-o>Math.PI&&(u=1);var p="M "+i/2+","+i/2+" L "+r+","+l+" A "+i/2+","+i/2+" 0 "+u+" 1 "+d+","+c+" Z";return p}e.calculateDValue=t,Object.defineProperty(e,"__esModule",{value:!0})}),define("app/views/home/premium/FastGrowingCompanies/fastGrowingCompaniesCardsView",["exports","module","marionette","backbone","i18n","app/components/DonutChart","app/behaviors/lazyLoad","app/behaviors/Tooltip/Hovercard","app/services/tracking","app/helpers/modalHelper","app/views/detail/jobFeedbackView","app/views/detail/messageHeader"],function(e,t,i,n,o,a,s,r,l,d,c,u){"use strict";var p=function(e){return e&&e.__esModule?e["default"]:e},h=p(i),m=p(n),g=p(o),f=p(s),v=p(r),b=p(c),y=p(u);t.exports=h.ItemView.extend({getTemplate:function(){return this.model.get("showFastGrowingCompaniesTypeAhead")?"templates/partial/app/home/premium/fast_growing_companies/fast_growing_companies_typeahead_cards":"templates/partial/app/home/premium/fast_growing_companies/fast_growing_companies_cards"},initialize:function(){var e=this.model.get("fastGrowingCompanies");e.forEach(this._transformModel)},behaviors:{lazyLoadBehavior:{behaviorClass:f,radioCommand:"fastGrowingCompanies",offsetDistance:100},Hovercard:{behaviorClass:v,muteBackgroundClass:".fgc-company-card-list",tooltipTrigger:"hover-persistent"}},ui:{feedbackLink:".send-feedback-link"},events:{"click @ui.feedbackLink":"_showFeedback"},_transformModel:function(e,t,i){var n=e.companyGrowth,o=n&&n.headcountThisyear-n.headcountLastyear,s=o&&Math.round(o/n.headcountLastyear*100),r=void 0,l=void 0;100>=s?(r=s,l=86):(r=s>=200?100:s%100,l=96);var d=a.calculateDValue(r,l);n.hiredLastYear=o,n.percentageGrowth=s,n.d=d,n.radius=l/2},onRender:function(){var e="moduleImpression",t="jobHomeFastGrowingCompaniesCardsRendered";l.emitTrackingEvent(e,[t])},_showFeedback:function(e){e.stopPropagation(),e.preventDefault();var t=new m.Model({title:g.get("sendFeedback2")});d.showViewInModal({view:new b({feedbackSubject:"Neo Jobs Home Premium Fast Growing Companies",isJobFeedback:!1}),customClass:"messaging secondary",header:new y({model:t})})}})}),define("app/views/home/premium/FastGrowingCompanies/fastGrowingCompaniesNullStateView",["exports","module","marionette","app/services/tracking"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);t.exports=a.ItemView.extend({getTemplate:function(){return this.model.get("showFastGrowingCompaniesTypeAhead")?"templates/partial/app/home/premium/fast_growing_companies/fast_growing_companies_typeahead_null_state":"templates/partial/app/home/premium/fast_growing_companies/fast_growing_companies_null_state"},onRender:function(){var e="moduleImpression",t="jobHomeFastGrowingCompaniesNullStateRendered";n.emitTrackingEvent(e,[t])}})}),define("app/views/home/premium/FastGrowingCompanies/fastGrowingCompaniesLayoutView",["exports","module","marionette","app/views/home/premium/FastGrowingCompanies/fastGrowingCompaniesCardsView","app/views/home/premium/FastGrowingCompanies/fastGrowingCompaniesNullStateView","app/services/tracking","app/behaviors/tracking"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=r(s);t.exports=l.LayoutView.extend({template:"templates/partial/app/home/premium/fast_growing_companies/fast_growing_companies_layout",regions:{fastGrowingCompaniesContent:".fgc-main-content"},behaviors:{trackingBehavior:{behaviorClass:u,modules:["jobHomeFastGrowingCompaniesFeature"]}},onBeforeShow:function(){if(this.model.get("fastGrowingCompanies")&&this.model.get("fastGrowingCompanies").length>1&&this.model.get("superTitle")){var e=this.model.get("fastGrowingCompanies").slice(0,3);this.model.set("fastGrowingCompanies",e),this.getRegion("fastGrowingCompaniesContent").show(new d({model:this.model}))}else this.getRegion("fastGrowingCompaniesContent").show(new c({model:this.model}))},onRender:function(){var e="moduleImpression",t="jobHomeFastGrowingCompaniesFeatureRendered";a.emitTrackingEvent(e,[t])}})}),define("app/views/home/premium/FastGrowingCompanies/fastGrowingCompaniesTypeaheadLayoutView",["exports","module","marionette","jquery","underscore","mast/scripts/utils/Keycodes","app/views/home/premium/FastGrowingCompanies/fastGrowingCompaniesCardsView","app/views/home/premium/FastGrowingCompanies/fastGrowingCompaniesNullStateView","app/services/tracking","app/behaviors/tracking","app/lib/TwitterTypeahead","bloodhound","app/utils/rumTracking","app/models/premiumInsights","app/factories/lazyModelFactory","app/behaviors/Tooltip/Hovercard","app/models/postJobModel"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g,f){"use strict";var v=function(e){return e&&e.__esModule?e["default"]:e},b=v(i),y=(v(n),v(o)),w=v(a),_=v(s),C=v(r),k=v(d),x=v(c),S=(v(u),v(p)),M=v(h),T=v(m),I=v(g),E=v(f),A="ajax_d_job_home_supertitle_update_success",P=1250,R=225,j=50,V="show",L="toggle-search",B="animation",D="clickable-tag",F=[],N=null;t.exports=b.LayoutView.extend({template:"templates/partial/app/home/premium/fast_growing_companies/fast_growing_companies_typeahead_layout",regions:{fastGrowingCompaniesContent:".fgc-main-content"},behaviors:{trackingBehavior:{behaviorClass:k,modules:["jobHomeFastGrowingCompaniesFeature"]},Hovercard:{behaviorClass:I,muteBackgroundClass:".fgc-main-content",tooltipTrigger:"hover-persistent"}},ui:{superTitleSearchPlaceHolder:".header-text-container .supertitle-search-box-place-holder",superTitleInput:".header-text-container .supertitle-search-box",normalStateClass:".header-text-container .normal-state",superTitleToggleBox:".toggle-search .supertitle-search-box",superTitleEditButton:".edit-btn",superTitleClickClass:".clickable-tag",superTitleEditBox:".edit-textbox",superTitleEditName:".edit-btn .premium-insight-supertitle",superTitlePencilIcon:".pencil-icon",fastGrowingCompaniesLoader:".fgc-main-content-wrapper .loader",clickablePencilIcon:".pencil-icon.clickable-tag",clickableSuperTitle:".premium-insight-supertitle"},events:{"click @ui.superTitleClickClass":"_showEditTextbox","blur @ui.superTitleToggleBox":"_hideEditTextbox","keyup @ui.superTitleToggleBox":"_onKeyUp","mouseenter @ui.clickablePencilIcon":"_onMouseEnter","mouseleave @ui.clickablePencilIcon":"_onMouseLeave"},onBeforeShow:function(){if(this.model.get("superTitle"))if(this.ui.superTitleSearchPlaceHolder.addClass(L),this.model.get("fastGrowingCompanies")&&this.model.get("fastGrowingCompanies").length>1){var e=this.model.get("fastGrowingCompanies").slice(0,3);this.model.set("fastGrowingCompanies",e),this.getRegion("fastGrowingCompaniesContent").show(new _({model:this.model}))}else this.getRegion("fastGrowingCompaniesContent").show(new C({model:this.model}));else this.ui.normalStateClass.hide(),this.getRegion("fastGrowingCompaniesContent").show(new C({model:this.model}))},onRender:function(){var e=this;if(x){var t=function(){e.ui.superTitleInput.appendTo(e.ui.superTitleSearchPlaceHolder);var t=e.ui.superTitleSearchPlaceHolder,i="input[rel=typeahead], input.typeahead",n=t.find(i);if(!t.length)return{v:void 0};e.model.get("superTitleIds").forEach(function(e){F.push({id:e[0],superTitleName:e[1]})});var o=e._makeTypeaheadConfigsFromElement(n),a=new x(n,o);a.init(),o.eventHandlers&&o.eventHandlers.forEach(function(e){a.on(e.event,function(t,i,n){e.callback(t,i,n)})}),e.ui.superTitleEditBox.find("#supertitle-search-box").attr("maxlength",j)}();if("object"==typeof t)return t.v}var i="moduleImpression",n="jobHomeFastGrowingCompaniesFeatureRendered";l.emitTrackingEvent(i,[n])},_showEditTextbox:function(e){e.stopPropagation(),e.preventDefault();var t=this.ui.superTitleEditName.width()>R?this.ui.superTitleEditName.width():R;this.ui.superTitleSearchPlaceHolder.width(t),this.ui.superTitleInput.width(t),this.ui.superTitleEditButton.removeClass(V),this.ui.superTitlePencilIcon.removeClass(D),this.ui.superTitleEditBox.addClass(V),this.ui.superTitleSearchPlaceHolder.addClass(B),this.ui.superTitleInput.typeahead("val","").focus(),this.ui.clickableSuperTitle.removeClass("hover"),this.ui.superTitleEditBox.find(".tt-hint").css("background","none")},_hideEditTextbox:function(e){e&&(e.stopPropagation(),e.preventDefault()),this.ui.superTitleEditButton.addClass(V),this.ui.superTitlePencilIcon.addClass(D),this.ui.superTitleEditBox.removeClass(V),this.ui.superTitleSearchPlaceHolder.removeClass(B)},_onKeyUp:function(e){if(e.which===w.ESCAPE)this._hideEditTextbox();else if(e.which===w.ENTER){N="ENTER";var t=this.ui.superTitleEditBox.find(".tt-selectable");1===t.length?t.first().trigger("click"):this.ui.superTitleInput.val().trim()&&0===t.length&&this._fetchSuperTitleInformation(this.ui.superTitleInput.val().trim(),0)}},_onMouseEnter:function(e){this.ui.clickableSuperTitle.addClass("hover")},_onMouseLeave:function(e){this.ui.clickableSuperTitle.removeClass("hover")},_makeTypeaheadConfigsFromElement:function(e,t){var i=this,n=10;return{limit:n,eventHandlers:[{event:x.EVENTS.SELECTED,callback:function(e,t,n){N="CLICK",i._fetchSuperTitleInformation(t.superTitleName,t.id)}},{event:x.EVENTS.AUTOCOMPLETED,callback:function(e,t,n){N="TAB",i._fetchSuperTitleInformation(t.superTitleName,t.id)}}],local:F,displayKey:"superTitleName"}},_fetchSuperTitleInformation:function(e,t){var i=this,n="/jobs/home/fastGrowingCompanies?superTitleId="+t+"&updateSuperTitle=true";this.ui.superTitleEditName.text(e),this.ui.superTitleInput.attr("placeholder",e),this._hideEditTextbox(),this.ui.fastGrowingCompaniesLoader.show(),this.ui.normalStateClass.show(),this.ui.superTitleSearchPlaceHolder.addClass(L);var o=new E;if(o.set({superTitle:e,showFastGrowingCompaniesTypeAhead:!0}),0===t)!function(){var t=i.ui.fastGrowingCompaniesLoader,n=i.getRegion("fastGrowingCompaniesContent"),a={selectedOption:null,userInput:e,companiesResultsCount:0};l.emitTrackingEvent("premiumInsightsTypeaheadAction",a),y.delay(function(){t.hide(),n.show(new C({model:o}))},P)}();else{var a=1e4;S.startTimingForMarkers([A]);var s=T({Model:M,url:n,fetchOptions:{timeout:a}});s.done(function(t){i.ui.fastGrowingCompaniesLoader.hide(),S.endTimingForMarkers([A]),S.measureRumMarkers([A]);var n=t.get("fastGrowingCompaniesDisplayModule"),a=n.fastGrowingCompanies,s={selectedOption:{selectionMethod:N,selectedValue:e},userInput:null,companiesResultsCount:a.length};l.emitTrackingEvent("premiumInsightsTypeaheadAction",s),a&&a.length>1&&n.superTitle?(o.set("fastGrowingCompanies",a),i.getRegion("fastGrowingCompaniesContent").show(new _({model:o}))):i.getRegion("fastGrowingCompaniesContent").show(new C({model:o}))}),s.fail(function(){var t={selectedOption:{selectionMethod:N,selectedValue:e},userInput:null,companiesResultsCount:0};l.emitTrackingEvent("premiumInsightsTypeaheadAction",t),i.ui.fastGrowingCompaniesLoader.hide(),i.getRegion("fastGrowingCompaniesContent").show(new C({model:o}))})}}})}),define("app/views/home/companyLCPLayoutView",["exports","module","marionette","app/factories/modelFactory","app/models/embeddedContentModel","app/services/rum","app/views/home/companyLCPView","app/views/home/premium/FastGrowingCompanies/fastGrowingCompaniesLayoutView","app/views/home/premium/FastGrowingCompanies/fastGrowingCompaniesTypeaheadLayoutView"],function(e,t,i,n,o,a,s,r,l){"use strict";var d=function(e){return e&&e.__esModule?e["default"]:e},c=d(i),u=d(n),p=d(o),h=d(s),m=d(r),g=d(l);t.exports=c.LayoutView.extend({template:"templates/partial/app/home/company_lcp_layout",className:"section-content-gray",regions:{fastestGrowingCompaniesRegion:"#fast-growing-companies-region-in-lcp",companyLCPView:".lcp-content-outlet"},onShow:function(){var e=this;this.model.get("show4ColumnJobsHomeDiscoverLayout")&&this.model.get("isPremium")&&(this.model.get("showFastGrowingCompaniesTypeAhead")?u(p.extend(),["lixModule","globalVariable","fastGrowingCompanies","allSuperTitles"]).done(function(t){e.getRegion("fastestGrowingCompaniesRegion").show(new g({model:t}))}):u(p.extend(),["lixModule","globalVariable","fastGrowingCompanies"]).done(function(t){e.getRegion("fastestGrowingCompaniesRegion").show(new m({model:t}))})),this.getRegion("companyLCPView").show(new h({collection:this.collection,model:this.model}));var t=this.model.get("organicJymbiiJobs");this.model.get("isPremium")||t||a.rumRenderComplete()}})}),define("app/controllers/jobsHomeDiscoverController",["exports","module","marionette","backbone","jquery","app/controllers/jobsHomeTabController","app/factories/modelFactory","app/models/embeddedContentModel","app/collections/jobs","app/collections/companies","app/views/home/topNLayoutView","app/views/home/jymbiiLayoutView","app/views/home/premium/topApplicantJobs/topApplicantJobsLayoutView","app/views/home/companyLCPLayoutView","app/views/home/premium/FastGrowingCompanies/fastGrowingCompaniesLayoutView","app/views/home/premium/FastGrowingCompanies/fastGrowingCompaniesTypeaheadLayoutView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g){"use strict";var f=function(e){return e&&e.__esModule?e["default"]:e},v=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},b=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),y=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},w=(f(i),f(n),f(o)),_=f(a),C=f(s),k=f(r),x=(f(l),f(d)),S=f(c),M=f(u),T=f(p),I=f(h),E=f(m),A=f(g),P=function(e){function t(){v(this,t),null!=e&&e.apply(this,arguments)}return y(t,e),b(t,[{key:"index",value:function(){var e=this._app.layout.getRegion("contentRegion").currentView;C(k.extend(),["lixModule","topNFlavor"]).done(function(t){t.get("isTopNEnabled")&&e.getRegion("topN").show(new S({model:t}))}),C(k.extend(),["lixModule","globalVariable"],null,["jymbii","upsells","companyLCP","topApplicantJobs","memberPreferences","staticSupportingContent"]).done(function(t){var i=function(){C(k.extend(),["customJymbii"]).done(function(i){t.set("preferences",i.toJSON()),e.getRegion("jymbii").show(new M({model:t}))})},n=t.get("organicJymbiiJobs"),o=t.get("decoratedCompanies"),a=t.get("topApplicantJobs"),s=a&&a.length>1;t.get("isPremium")?t.get("show4ColumnJobsHomeDiscoverLayout")?i():(!a||n||s)&&i():(n||!n&&!o)&&i()}),C(k.extend(),["lixModule","globalVariable"],null,["fastGrowingCompanies"]).done(function(t){var i=C(k.extend(),["companyLCP","globalVariable"],null,["jymbii"]),n=C(x,["companyLCP","globalVariable"]);t.get("show4ColumnJobsHomeDiscoverLayout")?t.get("fastGrowingCompanies")&&(i=C(k.extend(),["lixModule","globalVariable"],null,["companyLCP"]),n=C(x,["lixModule","globalVariable"],null,["companyLCP"])):(C(k.extend(),["lixModule","globalVariable","topApplicantJobs"]).done(function(t){t.get("isPremium")&&e.getRegion("topApplicantJobs").show(new T({model:t}))}),t.get("showFastGrowingCompaniesTypeAhead")?C(k.extend(),["lixModule","globalVariable","fastGrowingCompanies","allSuperTitles"]).done(function(t){t.get("isPremium")&&e.getRegion("fastGrowingCompanies").show(new A({model:t}))}):C(k.extend(),["lixModule","globalVariable","fastGrowingCompanies"]).done(function(t){t.get("isPremium")&&t.get("superTitle")&&e.getRegion("fastGrowingCompanies").show(new E({model:t}))})),w.when(n,i).done(function(t,i){e.getRegion("companyLCP").show(new I({model:i,collection:t}))})})}}]),t}(_);t.exports=P}),define("app/views/shared/carouselCollectionView",["exports","module","marionette","jquery","app/utils/language"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=a(o),d="resize.carouselCollection";t.exports=s.CompositeView.extend({template:"templates/partial/app/shared/carousel_collection_layout",childViewContainer:".compact-jobs-container",minItemsLength:6,maxItemsShown:6,ui:{carouselContainer:".carousel-container",nextButton:".button-next",prevButton:".button-previous",scroller:".scroller",scrollWrapper:".scroller-wrapper",items:".compact-jobs-container"},events:{"click @ui.nextButton":"_nextHandler","click @ui.prevButton":"_prevHandler"},initialize:function(){var e=this;this.model.set("isRTL",l.isRTL()),r(window).on(d,function(t){e._requestUpdate()}),this.pageIndex=0,this.timeout},_requestUpdate:function(){var e=this;this.model.get("updating")||requestAnimationFrame(function(){e._onWindowResize()}),this.model.set("updating",!0)},onShow:function(){this.setLastPageIndex(),this.toggleButtons(this.pageIndex)},onDestroy:function(){r(window).off(d),clearTimeout(this.timeout)},_nextHandler:function(){this.pageIndex++,this.goToPage(this.pageIndex),this.pageIndex===this.lastPageIndex&&this.getData()},_prevHandler:function(){this.pageIndex--,this.goToPage(this.pageIndex)},_onWindowResize:function(){this.goToPage(this.pageIndex),this.setLastPageIndex(),this.toggleButtons(this.pageIndex),this.model.set("updating",!1)},getLastPageIndex:function(){return this.lastPageIndex},setLastPageIndex:function(){var e=this.getItemsLength();return this.lastPageIndex=Math.ceil(e/this.maxItemsShown)-1,this.lastPageIndex},syncPageIndex:function(){this.pageIndex>this.getLastPageIndex()?this.pageIndex=this.getLastPageIndex():this.pageIndex<0&&(this.pageIndex=0)},getItemsLength:function(){var e=this.ui.items.children().length;return e},getCurrentIndex:function(e){return this.pageIndex},goToPage:function(e){var t=this,i=this.ui.scrollWrapper.outerWidth(),n=e*i,o=this.ui.items.children().first(),a=e*parseInt(o.css("marginRight")),s="translate(-"+(n+a)+"px, 0)";this.model.get("isRTL")&&(a=e*parseInt(o.css("marginLeft")),s="translate("+(n+a)+"px, 0)");var r=(e+1)*this.maxItemsShown,l=r-this.maxItemsShown;this.toggleButtons(e),this.ui.scroller.css("transform",s),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t._setAccessibility(l)},500)},_setAccessibility:function(e){this.ui.items.children().eq(e).attr("tabIndex",-1).focusWithoutScrolling()},toggleButtons:function(e){0===e?(this.ui.prevButton.prop("disabled",!0),e!==this.lastPageIndex?this.ui.nextButton.prop("disabled",!1):(this.ui.carouselContainer.addClass("no-scroll"),this.ui.prevButton.addClass("hide"),this.ui.nextButton.addClass("hide"))):e===this.lastPageIndex?(this.ui.nextButton.prop("disabled",!0),0!==e&&this.ui.prevButton.prop("disabled",!1)):(this.ui.prevButton.prop("disabled",!1),this.ui.nextButton.prop("disabled",!1))},handleLastPage:function(e){e<this.getCurrentIndex()?(this.syncPageIndex(),this.goToPage(e)):this.getData(),this._setContainerHeight()},getData:function(){return r.Deferred().promise}})}),define("app/views/home/savedJobsView",["exports","module","marionette","backbone","i18n","jquery","radio","app/behaviors/lazyLoad","app/utils/lazyLoad","app/services/rum","app/utils/vendorPrefix","app/views/shared/compactJobItemView","app/views/shared/carouselCollectionView","app/views/shared/compactJobsMenuView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h){"use strict";var m=function(e){return e&&e.__esModule?e["default"]:e},g=(m(i),m(n)),f=m(o),v=m(a),b=(m(s),m(r)),y=m(l),w=m(u),C=m(p),k=(m(h),"removing"),x="savedJobsGetData",S=void 0,M=void 0;t.exports=C.extend({childView:w,behaviors:{lazyLoadBehavior:{behaviorClass:b,radioCommand:"savedJobs",offsetDistance:100}},ui:_.extend({},C.prototype.ui,{removeSavedJob:".unsave",job:".item"}),events:_.extend({},C.prototype.events,{"click @ui.removeSavedJob":"_removeSavedJobHandler"}),initialize:function(){C.prototype.initialize.apply(this),this.maxItemsShown=this.model.get("isMobilePhone")?1:6,S=this.model.get("savedJobs").paging.links.next},onShow:function(){this._setContainerHeight(),C.prototype.onShow.apply(this),d.rumRenderComplete()},onBeforeDestroy:function(){M&&M.abort()},onAddChild:function(){this.setLastPageIndex(),this.toggleButtons(this.getCurrentIndex()),y.attach(this.$el,x)},_setContainerHeight:function(){if(this.getItemsLength()<this.minItemsLength){this.ui.items.addClass("min-saved-jobs"),this.model.get("isMobilePhone")&&this.ui.items.addClass("min-saved-jobs-mobile");var e=this.model.get("isMobilePhone")?1:3;this.maxItemsShown=e}},_removeSavedJobHandler:function(e){var t=this;e.stopPropagation(),e.preventDefault();var i=v(e.currentTarget).parents(".item"),n=i.find(".job-info-container").data("jobId"),o=this.setLastPageIndex(),a=this.collection.find(function(e){return e.has("decoratedJobPosting")&&e.get("decoratedJobPosting").jobPosting.id===n});this.model.set("decoratedJobPosting",a.get("decoratedJobPosting"));var s=this.model.saveMyJob(!1);s.done(function(){i.addClass(k).one(c.transitionend(),function(){t.collection.remove(a),t.triggerMethod("unsave:job");var e=t.setLastPageIndex();o!==e&&t.handleLastPage(e)})}).fail(function(e){showAlert({message:""+f.get("tryAgainErrorMessage")+".",type:"error",dismiss:!0,timeout:3e3})})},getData:function(){var e=this;M=v.get(S).done(function(t){if(t.jobTrackTabDisplayModule){var i=t.jobTrackTabDisplayModule.savedJobs.elements,n=t.jobTrackTabDisplayModule.savedJobs.paging.links.next;S=n,i.forEach(function(t){var i=new g.Model(t.decoratedEntity);i.set({showJobAnalytics:!0,showConnections:!0,openJobInNewWindow:!0,viewJobUrl:t.viewJobUrl,activityModule:"saved",showUnsaveJob:e.model.get("showUnsaveJob")}),e.collection.add(i)}),e.getLastPageIndex(),e.toggleButtons(e.getCurrentIndex())}else S=null}).fail(function(e){var t="Saved Jobs Data "+e.status+" "+e.statusText;new Error(t)})}})}),define("app/views/home/savedJobsHeaderView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/app/home/saved_jobs_header",className:"saved-jobs-header",onShow:function(){var e=this.model.get("savedJobs"),t=this.model.get("appliedJobs"),i=void 0;e&&(i=e.paging.total),t&&!e&&this.$el.addClass("bottom-padding")}})}),define("app/views/home/savedLayoutView",["exports","module","marionette","backbone","jquery","app/behaviors/tracking","app/views/home/savedJobsView","app/views/home/savedJobsHeaderView"],function(e,t,i,n,o,a,s,r){"use strict";var l=function(e){return e&&e.__esModule?e["default"]:e},d=l(i),c=(l(n),l(o),l(a)),u=l(s),p=l(r);t.exports=d.LayoutView.extend({template:"templates/partial/app/home/saved_jobs",className:"section-content-white",regions:{savedContentOutlet:".saved-jobs-content-outlet",savedJobsHeader:".saved-jobs-header-outlet"},behaviors:function(){var e=void 0;return e=this.options.model.get("searchUrl")?"jobTrackTabDisplayModuleNull":"jobTrackTabDisplayModule",{trackingBehavior:{behaviorClass:c,modules:[e]}}},ui:{header:".saved-jobs-header",noJobs:".no-jobs"},childEvents:{"unsave:job":"_onUnsaveJob"},_onUnsaveJob:function(){var e=this.model.get("savedJobs")&&this.model.get("savedJobs").paging?this.model.get("savedJobs").paging.total:null;e>1?(this.model.get("savedJobs").paging.total=e-1,this.getRegion("savedJobsHeader").show(new p({collection:this.collection,model:this.model}))):1===e&&this.destroy()},onShow:function(){var e=this.model.get("savedJobs"),t=this.model.get("appliedJobs");e?(this.getRegion("savedJobsHeader").show(new p({collection:this.collection,model:this.model})),this.getRegion("savedContentOutlet").show(new u({collection:this.collection,model:this.model}))):(t&&this.getRegion("savedJobsHeader").show(new p({collection:this.collection,model:this.model})),this.ui.noJobs.addClass("show"))}})}),define("app/views/home/appliedJobsView",["exports","module","marionette","backbone","i18n","jquery","radio","app/behaviors/lazyLoad","app/utils/lazyLoad","app/views/shared/compactJobItemView","app/views/shared/carouselCollectionView","app/views/shared/compactJobsMenuView","app/helpers/contextMenuHelper","app/utils/vendorPrefix","app/helpers/alertHelper"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m){"use strict";var g=function(e){return e&&e.__esModule?e["default"]:e},f=(g(i),g(n)),v=g(o),b=g(a),y=g(s),w=g(r),_=g(l),C=g(d),k=g(c),x=(g(u),"delete"),S="delete:application",M="appliedJobsGetData",T="/jobs/home/deleteJobApplication/",I="initActivity",E="init:activity",A=void 0,P=void 0;t.exports=k.extend({childView:C,behaviors:{lazyLoadBehavior:{behaviorClass:w,radioCommand:"appliedJobs",offsetDistance:100}},initialize:function(){k.prototype.initialize.apply(this),this.maxItemsShown=this.model.get("isMobilePhone")?1:6,A=this.model.get("appliedJobs").paging.links.next},onShow:function(){this._setContainerHeight(),k.prototype.onShow.apply(this),this._deleteJobHandler()},onBeforeDestroy:function(){P&&P.abort()},onAddChild:function(){this.setLastPageIndex(),this.toggleButtons(this.getCurrentIndex()),_.attach(this.$el,M)},_deleteJobHandler:function(){var e=this,t=y.channel(x);t.comply(S,function(t){var i=t.model.get("decoratedJobPosting").jobPosting.id,n=void 0;e.collection.find(function(e){var t=e.get("decoratedJobPosting").jobPosting.id;return t===i?(n=e,!0):!1});var o=e.setLastPageIndex(),a=b(n.get("el")),s=n.get("decoratedJobPosting").jobPosting.id,r=play.getPageContext(),l=r?r.csrfToken:"";b.ajax({url:""+T+s,method:"POST",data:{csrfToken:l}}).done(function(t){a.addClass("delete").one(h.transitionend(),function(){e.collection.remove(n),e.triggerMethod("delete:application");var t=e.setLastPageIndex();o!==t&&e.handleLastPage(t),y.channel(I).command(E)})}).fail(function(e){m.showAlert({message:""+v.get("deleteApplicationError")+".",type:"error",dismiss:!0,timeout:3e3})})})},_setContainerHeight:function(){this.getItemsLength()<this.minItemsLength&&(this.ui.items.addClass("min-applied-jobs"),this.model.get("isMobilePhone")&&this.ui.items.addClass("min-applied-jobs-mobile"),this.maxItemsShown=this.model.get("isMobilePhone")?1:3)},getData:function(){var e=this;P=b.get(A).done(function(t){if(t.jobTrackTabDisplayModule){var i=t.jobTrackTabDisplayModule.appliedJobs.elements,n=t.jobTrackTabDisplayModule.appliedJobs.paging.links.next;A=n,i.forEach(function(t){var i=new f.Model(t.decoratedEntity);i.set({showJobAnalytics:!0,showConnections:!0,openJobInNewWindow:!0,viewJobUrl:t.viewJobUrl,optionsButton:e.model.get("isDeleteJobApplicationsEnabled"),activityModule:"applied"}),e.collection.add(i)}),e.setLastPageIndex(),e.toggleButtons(e.getCurrentIndex())}else A=null,e.setLastPageIndex(),e.toggleButtons(e.getCurrentIndex())}).fail(function(e){var t="Applied Jobs Data "+e.status+" "+e.statusText;new Error(t)})}})}),define("app/views/home/appliedJobsHeaderView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/app/home/applied_jobs_header",className:"applied-jobs-header",onShow:function(){var e=this.model.get("appliedJobs"),t=this.model.get("savedJobs"),i=void 0;e&&(i=e.paging.total),t&&!e&&this.$el.addClass("bottom-padding")}})}),define("app/views/home/appliedJobsLayoutView",["exports","module","marionette","backbone","jquery","app/views/home/appliedJobsView","app/views/home/appliedJobsHeaderView"],function(e,t,i,n,o,a,s){
"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=(r(n),r(o),r(a)),c=r(s);t.exports=l.LayoutView.extend({template:"templates/partial/app/home/applied_jobs",className:"section-content-white",regions:{appliedContentOutlet:".applied-jobs-content-outlet",appliedJobsHeader:".applied-jobs-header-outlet"},ui:{header:".applied-jobs-header",noJobs:".no-jobs"},childEvents:{"delete:application":"_onDeleteApplication"},onShow:function(){var e=this.model.get("savedJobs"),t=this.model.get("appliedJobs");t?(this.getRegion("appliedJobsHeader").show(new c({collection:this.collection,model:this.model})),this.getRegion("appliedContentOutlet").show(new d({collection:this.collection,model:this.model}))):e&&(this.getRegion("appliedJobsHeader").show(new c({collection:this.collection,model:this.model})),this.ui.noJobs.addClass("show"))},_onDeleteApplication:function(e){var t=this.model.get("appliedJobs")&&this.model.get("appliedJobs").paging?this.model.get("appliedJobs").paging.total:null;t>1?(this.model.get("appliedJobs").paging.total=t-1,this.getRegion("appliedJobsHeader").show(new c({collection:this.collection,model:this.model}))):1===t&&this.destroy()}})}),define("app/controllers/jobsHomeActivityController",["exports","module","marionette","backbone","jquery","app/services/ds","app/services/loader","app/views/shared/loaderView","radio","app/controllers/jobsHomeTabController","app/factories/modelFactory","app/models/job","app/models/embeddedContentModel","app/views/home/savedLayoutView","app/views/home/appliedJobsLayoutView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m){"use strict";var g=function(e){return e&&e.__esModule?e["default"]:e},f=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},v=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),b=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},y=(g(i),g(n)),w=(g(o),g(a)),_=g(s),C=g(r),k=g(l),x=g(d),S=g(c),M=g(u),T=(g(p),g(h)),I=g(m),E="/jobs/home/tracktab",A="jobTrackTabDisplayModule",P="initActivity",R="init:activity",j=void 0,V=function(e){function t(){f(this,t),null!=e&&e.apply(this,arguments)}return b(t,e),v(t,[{key:"index",value:function(){var e=this;this._abort=!1,j=_(),j.show(new C);var t=k.channel(P);return t.comply(R,function(e){w.clearModuleCache(window.location.pathname,A)}),w.populate(window.location.pathname,!0,E,A).then(function(t){e._abort||(e._indexOverride(),j.hide())})}},{key:"_indexOverride",value:function(){var e=this,t=this._app.layout.getRegion("contentRegion").currentView;S(M,["trackTab","lixModule","globalVariable"]).done(function(i){var n=i.get("showTagsForJobCards"),o=i.get("showUnsaveJob"),a=i.get("isDeleteJobApplicationsEnabled"),s=[],r=[];if(i.get("appliedJobs")){var l=i.get("appliedJobs").elements;s=e._createJobCollection(l,!1,a,"applied")}if(i.get("savedJobs")){var d=i.get("savedJobs").elements;r=e._createJobCollection(d,n,!1,"saved",o)}e._renderActivityViews(t,i,r,s)})}},{key:"_createJobCollection",value:function(e,t,i,n,o){var a=e.map(function(e){var a=new M(e.decoratedEntity);return a.set({showJobAnalytics:!0,showConnections:!0,openJobInNewWindow:!0,showOneClickIcon:!0,showJobTags:t,viewJobUrl:e.viewJobUrl,optionsButton:i,activityModule:n,showUnsaveJob:o}),a});return a}},{key:"_renderActivityViews",value:function(e,t,i,n){e.getRegion("savedJobs").show(new T({model:t,collection:new y.Collection(i)})),e.getRegion("appliedJobs").show(new I({model:t,collection:new y.Collection(n)}))}},{key:"onLeave",value:function(){this._abort=!0,j.hide()}}]),t}(x);t.exports=V}),define("app/views/home/memberProfileView",["exports","module","marionette","app/behaviors/lazyLoad"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.ItemView.extend({template:"templates/partial/app/home/member_profile",className:"member-profile-container",behaviors:{lazyLoadBehavior:{behaviorClass:s,radioCommand:"memberProfile"}}})}),define("app/models/home/pillItemsModel",["exports","module","backbone"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.Model.extend({defaults:{items:[],label:"",labelA11y:"",showAddButton:!0,typeAheadSource:"",newItemsAreRemovable:!1,removeTypeaheadQueryParam:!1}})}),define("app/views/shared/horizontalRangeSlider",["exports","module","jquery","underscore","jSecure","app/views/shared/rangeSlider"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(o),c=s(a),u=48;t.exports=c.extend({className:"range-slider horizontal",onShow:function(){c.prototype.onShow.apply(this,arguments),this.model.get("isDesktop")||this.ui.labelsContainer.hide()},_startDrag:function(e){c.prototype._startDrag.apply(this,arguments),this.model.set({dragOrigin:this.model.get("isDesktop")?e.originalEvent.pageX:e.originalEvent.touches[0].pageX,dragTarget:e.currentTarget})},_stopDrag:function(e){if(c.prototype._stopDrag.apply(this,arguments),this.model.get("dragTarget")){this.model.unset("dragOrigin"),this.model.unset("dragTarget");var t=(this.model.get("max")-this.model.get("min"),this.ui.bar.width()),i=this.ui.handles.width(),n=this.ui.maxHandle.position().left+i/2,o=this.ui.minHandle.position().left+i/2,a=n/t,s=o/t;this.model.get("isRTL")&&(a=1-a,s=1-s);var r=this._getValueFromPct(a),l=this._getValueFromPct(s);this.model.set({selectedMin:l,selectedMax:r}),this.redraw()}},_update:function(e){if(c.prototype._update.apply(this,arguments),this.model.get("dragTarget")){var t=r(d.parseSelector(this.model.get("dragTarget"))),i=this.ui.bar.width(),n=t.hasClass("max"),o=this.model.get("isDesktop")?e.originalEvent.pageX:e.originalEvent.touches[0].pageX,a=o-this.model.get("dragOrigin"),s=this.model.get(n?"selectedMax":"selectedMin"),l=this._getPctFromValue(s),u=this.model.get("isRTL")?-1:1,p=i*l+a*u;p>i?p=i:0>p&&(p=0);var h=p/i,m=n?this._getPctFromValue(this.model.get("selectedMin")):h,g=n?h:this._getPctFromValue(this.model.get("selectedMax"));this.model.get("snap")&&(m=this._getClosestSnapPct(m),g=this._getClosestSnapPct(g)),this._paintBar(m,g),this._positionHandles(m,g),this._updateLabels(m,g)}},_positionHandles:function(e,t,i){var n=l.max([e,t]),o=l.min([e,t]),a=this.ui.handles.width(),s=this.ui.bar.width();this.ui.handles.css("transition-duration",i?""+this.ANIMATION_TIME_MS+"ms":"0s");var r=this.model.get("isRTL")?-1:1;this.ui.minHandle.css("transform","translate("+(s*o-a/2)*r+"px, 0)"),this.ui.maxHandle.css("transform","translate("+(s*n-a/2)*r+"px, 0)")},_paintBar:function(e,t,i){var n=this.ui.bar.data("selectedMin"),o=this.ui.bar.data("selectedMax");if(i)return void this._animateBar(null,n,o,e,t);var a=this.$el.width()/this.model.get("steps"),s=this.ui.barContainer.width(),r=this.ui.barContainer.height()-2*this.BAR_PADDING;this.ui.bar.prop("height",r).prop("width",s);var d=this.ui.bar.get(0).getContext("2d");d.fillStyle=this.BAR_BASE_COLOR,d.fillRect(0,0,this.ui.bar.width(),this.ui.bar.height());var c=l.max([e,t]),p=l.min([e,t]),h=this.ui.bar.width()*p;this.model.get("isRTL")&&(h=this.ui.bar.width()*(1-c));var m=this.ui.bar.width()*(c-p);if(d.fillStyle=this.BAR_HIGHLIGHT_COLOR,d.fillRect(h,0,m,this.ui.bar.height()),this.model.get("isDesktop"))for(var g=s/this.model.get("steps"),f=g,v=1;v<this.model.get("steps");v++)f-=this.BAR_DIVIDER_WIDTH/2,d.fillStyle=this.BAR_DIVIDER_COLOR,d.fillRect(f,0,this.BAR_DIVIDER_WIDTH,this.ui.bar.height()),f+=this.BAR_DIVIDER_WIDTH/2,f+=g;var b=a/2*(this.model.get("isRTL")?1:-1);this.ui.labelsContainer.css({transform:"translate("+b+"px, 0)"}).outerWidth(s+a);var y=(this.ui.labelsContainer.width()-s-u)/2,w={paddingLeft:""+y+"px",paddingRight:""+y+"px"};this.ui.labels.first().css(w),this.ui.labels.last().css(w),this.ui.labels.css("flex-basis",""+a+"px"),this.ui.bar.data({selectedMin:e,selectedMax:t})},_onBarClick:function(e){c.prototype._onBarClick.apply(this,arguments);var t=this.model.get("max")-this.model.get("min"),i=this.model.get("isDesktop")?e.originalEvent.offsetX:e.originalEvent.touches[0].clientX-this.ui.bar.offset().left,n=this.model.get("isRTL")?this.ui.bar.width()-i:i,o=this.model.get("min")+n/this.ui.bar.width()*t,a=this.model.get("selectedMax"),s=this.model.get("selectedMin");if(o>this.model.get("max")?o=this.model.get("max"):o<this.model.get("min")&&(o=this.model.get("min")),o>a)this.model.set("selectedMax",o);else if(s>o)this.model.set("selectedMin",o);else{var r=Math.abs(this.model.get("selectedMax")-o),l=Math.abs(this.model.get("selectedMin")-o);this.model.set(r>l?"selectedMin":"selectedMax",o)}this.redraw(!0)}})}),define("app/views/home/pillItemsView",["exports","module","marionette","jquery","underscore","mast/scripts/utils/Keycodes","i18n","app/utils/vendorPrefix","app/helpers/alertHelper","app/lib/TwoBoxTypeahead","app/views/home/jobPreferencesView"],function(e,t,i,n,o,a,s,r,l,d,c){"use strict";var u=function(e){return e&&e.__esModule?e["default"]:e},p=u(i),h=u(n),m=u(o),g=u(a),f=(u(s),u(d)),v="itemId",b="show",y="selected",w="remove",_="hidden",C="any country";t.exports=p.ItemView.extend({template:"templates/partial/app/home/pill_items_layout",typeaheadSuggestionItemTemplate:"templates/partial/app/shared/typeahead_suggestion_item",className:"pill-items-container",ui:{addButtonContainer:".add-btn-container",addButton:".add-btn",pillsContainer:".pills",pills:".pill",pillTemplate:".pill.template",addTextbox:".add-textbox",addTextboxInput:".add-textbox input[type=search]"},events:{"click @ui.addButton":"_showAddTextbox","click @ui.pills":"_handlePillClicked","blur @ui.addTextboxInput":"_hideAddTextbox","keyup @ui.addTextboxInput":"_onKeyUp"},initialize:function(){var e=this;this.model.on("change",function(){e.model.get("showAddButton")?e._showAddButton():e._hideAddButton()}),this.on("clearAllPills",this._onClearAllPills,this),this.on("enable",this._enable.bind(this)),this.on("disable",this._disable.bind(this))},onRender:function(){var e=this;if(f&&this.model.get("typeAheadSource")){var t={template:function(t){return p.Renderer.render(e.typeaheadSuggestionItemTemplate,t)},eventHandlers:[{event:f.EVENTS.SELECTED,callback:function(t,i,n){e._addItemToList(i.displayName,i.id)}},{event:f.EVENTS.AUTOCOMPLETED,callback:function(t,i,n){e._addItemToList(i.displayName,i.id)}}],filter:function(t){var i=t.resultList.filter(function(t){var i=!0;e.model.get("typeAheadSource")===c.TYPE_AHEAD_SOURCE.LOCATIONS&&(i=!t.displayName.toLowerCase().includes(C));var n=e.ui.addTextboxInput.typeahead2("val").toLowerCase();return t.displayName.toLowerCase().includes(n)&&i});return i}};this.model.get("removeTypeaheadQueryParam")&&(t.replace=!1);var i=new f(this.$el);i.init(t)}this.model.get("items").forEach(function(t){e._addPillToView(t.name,t.id,t.selected,t.removable)})},_addPillToView:function(e,t,i,n){var o=this.ui.pillTemplate.clone();o.data(v,t).removeClass("template").toggleClass(y,i).find("a").attr("aria-checked",!0).find(".label").text(e),this.ui.pillsContainer.find(".pill").last().after(o)},_showAddTextbox:function(e){e.stopPropagation(),e.preventDefault(),this.ui.addButton.is(":disabled")||(this.ui.addButtonContainer.addClass(b),this.ui.addButton.removeClass(b),this.ui.addTextbox.addClass(b),this.ui.addTextboxInput.focusWithoutScrolling().typeahead2("val",""),this.ui.addTextbox.find(".tt-hint").css("background","none"))},_hideAddTextbox:function(e){e&&(e.stopPropagation(),e.preventDefault()),this.ui.addButtonContainer.removeClass(b),this.ui.addButton.addClass(b),this.ui.addTextbox.removeClass(b)},_handlePillClicked:function(e){e.stopPropagation(),e.preventDefault();var t=h(e.currentTarget);t.is(":disabled")||(this._togglePill(t),this.model.trigger("selectedChange"))},_togglePill:function(e,t){var i=e.data(v),n=this.model.get("items"),o=h.grep(n,function(e){return e.id===i}),a=o[0];return a.selected=void 0===t?!a.selected:t,!a.selected&&a.removable?(this.model.set({items:m.without(n,a)}),e.addClass(w).removeClass(b).one(r.transitionend(),function(){e.remove()}),void this.ui.addButton.focusWithoutScrolling()):(e.toggleClass(y,a.selected).find("a").attr("aria-checked",a.selected),void(a.selected&&e.removeClass(b).one(r.transitionend(),this._completePillPopAnimation.bind(this))))},_completePillPopAnimation:function(e){e.stopPropagation(),e.preventDefault();var t=h(e.currentTarget);t.addClass(b)},_onKeyUp:function(e){e.which===g.ESCAPE&&(this._hideAddTextbox(),this.ui.addButton.focusWithoutScrolling())},_addItemToList:function(e,t){var i=this,n=this.model.get("items"),o=h.grep(n,function(e){return e.id===t});if(o.length)!function(){var e=void 0;i.ui.pillsContainer.find(".pill").each(function(i,n){return h(n).data(v)===t?(e=h(n),!1):void 0}),i._togglePill(e,!0)}();else{var a=!0,s=this.model.get("newItemsAreRemovable");n.push({name:e,id:t,selected:a,removable:s}),this._addPillToView(e,t,a,s)}this._hideAddTextbox(),this.model.trigger("selectedChange"),this.ui.addButton.focusWithoutScrolling()},_showAddButton:function(){this.ui.addButtonContainer.removeClass(_)},_hideAddButton:function(){this.ui.addButtonContainer.addClass(_)},_onClearAllPills:function(){this.model.set({items:[],showAddButton:this.model.get("showAddButton")}),this.render()},_enable:function(){this._toggleEnable(!0)},_disable:function(){this._toggleEnable(!1)},_toggleEnable:function(e){this.ui.addButton.attr("disabled",!e),this.ui.pills.attr("disabled",!e)}})}),define("app/views/home/preferencesModulesBaseView",["exports","module","marionette","app/utils/vendorPrefix"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=2e3,r=void 0;t.exports=a.LayoutView.extend({_showSavedIconForElement:function(e){var t=this.$el.find(".saved-icon");r&&clearTimeout(r);var i=function(){var i=e.closest("section").find(".saved-icon-container").first();i.length&&(i.append(t),t.addClass("show"),r=setTimeout(function(){t.removeClass("show")},s))};t.hasClass("show")?(t.removeClass("show"),t.one(n.transitionend(),function(){i()})):i()}})}),define("app/views/home/jobPreferencesView",["exports","marionette","backbone","underscore","jquery","i18n","app/helpers/alertHelper","app/helpers/preferencesHelper","app/behaviors/tracking","app/models/home/rangeModel","app/models/home/pillItemsModel","app/views/shared/horizontalRangeSlider","app/views/home/pillItemsView","app/views/home/selectedCompanySizeText","app/views/home/selectedExperienceText","app/views/home/preferencesModulesBaseView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g){"use strict";var f=function(e){return e&&e.__esModule?e["default"]:e};Object.defineProperty(e,"__esModule",{value:!0});var v=(f(t),f(i)),b=f(n),y=f(o),w=f(a),_=f(r),C=f(l),k=f(d),x=f(c),S=f(u),M=f(p),T=f(h),I=f(m),E=f(g),A={LOCATIONS:"/ta/geo",INDUSTRIES:"/ta/industry"};e.TYPE_AHEAD_SOURCE=A;var P=void 0,R=void 0,j=void 0,V=void 0,L=void 0,B=void 0,D=void 0;e["default"]=E.extend({template:"templates/partial/app/home/job_preferences",className:"job-preferences-container module",behaviors:function(){var e=void 0;return e=this.options.model&&this.options.model.get("seniorityRange")&&this.options.model.get("companySizeRange")?"customJymbii":"customJymbiiNull",{trackingBehavior:{behaviorClass:C,modules:[e]}}},ui:{locationsPillsContainer:".locations-pills-container",industriesPillsContainer:".industries-pills-container",preferencesForm:".preferences-form",companySizeContainer:".company-size-slider-container",experienceContainer:".experience-slider-container"},regions:{locationsPills:".locations-pills-container",experienceSlider:".experience-slider-container",experienceSelectedText:".experience-selected-text",industriesPills:".industries-pills-container",industrySuggestionsPills:".industry-suggestions-pills-container",companySizeSlider:".company-size-slider-container",companySizeSelectedText:".company-size-selected-text"},initialize:function(){P=JSON.stringify(this.model.toJSON())},onRender:function(){if(this.model.get("companySizeRange")||this.model.get("seniorityRange")){var e=this.model.get("locations"),t=[];e.forEach(function(e,i){var n=e.locationDisplay,o=e.locationId,a=!0,s=!0;t.push({name:n,id:o,selected:a,removable:s})});var i=this.ui.locationsPillsContainer.data("labelText"),n=this.ui.locationsPillsContainer.data("labelA11yText"),o={currentTarget:this.ui.locationsPillsContainer};R=new x({items:t,label:i,labelA11y:n,typeAheadSource:A.LOCATIONS,newItemsAreRemovable:!0}),R.on("selectedChange",this._onChange.bind(this,o));var a=new M({model:R});this.getRegion("locationsPills").show(a);var s=this.model.get("seniorityRange"),r=s.seniorityOptions,l=[],d={};r.forEach(function(e,t){l.push(e.text),d[e.key]=t});var c=s.seniorityMax?d[s.seniorityMax]:l.length-1,u=s.seniorityMin?d[s.seniorityMin]:0;j=new k({labels:l,selectedMin:u,selectedMax:c,min:0,max:l.length-1,decimals:0,snap:!0,a11yMaxHandle:w.get("expMaxA11y"),a11yMinHandle:w.get("expMinA11y"),isDesktop:this.model.get("isDesktop")});var p={currentTarget:this.ui.experienceContainer};j.on("selectedChange",this._onExperienceLevelChange.bind(this,p));var h=new S({model:j});if(this.getRegion("experienceSlider").show(h),this.model.get("showJobsPreferencesIndustryCategories")){var m=this.model.get("industries");t=[],m.forEach(function(e,i){var n=e.text,o=e.key,a=!0,s=!0;t.push({name:n,id:o,selected:a,removable:s})});var g=this.ui.industriesPillsContainer.data("labelText"),f=this.ui.industriesPillsContainer.data("labelA11yText"),v={currentTarget:this.ui.industriesPillsContainer};V=new x({items:t,label:g,labelA11y:f,typeAheadSource:A.INDUSTRIES,newItemsAreRemovable:!0,removeTypeaheadQueryParam:!0}),V.on("selectedChange",this._onChange.bind(this,v));var y=new M({model:V});this.getRegion("industriesPills").show(y);var _=this.model.get("suggestedIndustries");t=[],_.forEach(function(e,i){var n=e.text,o=e.key,a=!1,s=!1;o!==n&&t.push({name:n,id:o,selected:a,removable:s})}),m.forEach(function(e){t=b.reject(t,function(t){return t.id===e.key})}),L=new x({items:t,showAddButton:!1}),L.on("selectedChange",this._onChange.bind(this,v));var C=new M({model:L});this.getRegion("industrySuggestionsPills").show(C)}var T=this.model.get("companySizeRange"),I=T.companySizeOptions;l=[],d={},I.forEach(function(e,t){l.push(e.companySizeDisplayString),d[e.companySize]=t}),c=T.companySizeRange?d[T.companySizeRange.maxSize]:l.length-1,u=T.companySizeRange?d[T.companySizeRange.minSize]:0,B=new k({labels:l,selectedMin:u,selectedMax:c,min:0,max:l.length-1,decimals:0,snap:!0,a11yMaxHandle:w.get("companyMaxA11y"),a11yMinHandle:w.get("companyMinA11y"),isDesktop:this.model.get("isDesktop")});var E={currentTarget:this.ui.companySizeContainer};B.on("selectedChange",this._onCompanySizeChange.bind(this,E));var P=new S({model:B});this.getRegion("companySizeSlider").show(P)}},_onCompanySizeChange:function(e){var t=this.model.get("companySizeRange"),i=t.companySizeOptions,n=B.getSelectedMinStep(),o=B.getSelectedMaxStep(),a=i[n].companySIzeRangeBound.lowerBound,s=i[o].companySIzeRangeBound.upperBound,r=new v.Model({min:a,max:s}),l=new T({model:r});this.getRegion("companySizeSelectedText").show(l),this._onChange(e)},_onExperienceLevelChange:function(e){var t=this.model.get("seniorityRange"),i=t.seniorityOptions,n=j.getSelectedMinStep(),o=j.getSelectedMaxStep(),a=i[n].text,s=i[o].text,r=new v.Model({min:a,max:s}),l=new I({model:r});this.getRegion("experienceSelectedText").show(l),this._onChange(e)},_onChange:function(e){this._updateModelWithChanges(),this._hasChanges()&&this._save(e)},_save:function(e){this._updateModelWithChanges();var t=e?y(e.currentTarget):void 0,i=this.model.toJSON(),n=_.getPreferencesFormData(i);D&&D.abort&&D.abort(),D=y.ajax({type:"POST",data:n,url:this.ui.preferencesForm.prop("action")}).then(this._onPreferencesSaved.bind(this,t),this._onPreferencesSaveError.bind(this))},_onPreferencesSaved:function(e,t){D=null;var i=t.success,n=t.moduleResponse;if(!i||!n)return this._onPreferencesSaveError(t);_.updateDataStoreForPreferencesResponse(t);var o=n.customJymbiiPreferenceModule;this.model.set(o),P=JSON.stringify(this.model.toJSON()),e&&!this.model.get("isMobilePhone")?this._showSavedIconForElement(e):s.showAlert({message:w.get("saveSuccess"),type:"success",dismiss:!0,timeout:1e3})},_onPreferencesSaveError:function(e){D=null,s.showAlert({message:w.get("tryAgainErrorMessage"),type:"error",dismiss:!0,timeout:1e3})},_hasChanges:function(){if(!this.model)return!1;var e=JSON.stringify(this.model.toJSON());return e!==P},_updateModelWithChanges:function(){var e=R.get("items"),t=e.filter(function(e){return e.selected}).map(function(e){return{locationDisplay:e.name,locationId:e.id}});this.model.set({locations:t});var i=j.get("selectedMin"),n=j.get("selectedMax"),o=this.model.get("seniorityRange").seniorityOptions,a=Number(o[i].key),s=Number(o[n].key),r={seniorityOptions:o,seniorityMax:s,seniorityMin:a};if(this.model.set({seniorityRange:r}),this.model.get("showJobsPreferencesIndustryCategories")){e=V.get("items");var l=e.filter(function(e){return e.selected}).map(function(e){return{key:e.id,text:e.name}});e=L.get("items");var d=e.filter(function(e){return e.selected}).map(function(e){return{key:e.id,text:e.name}});l=l.concat(d),l=b.uniq(l,function(e){return e.key}),this.model.set({industries:l})}var c=B.get("selectedMin"),u=B.get("selectedMax"),p=this.model.get("companySizeRange").companySizeOptions,h=p[c].companySize,m=p[u].companySize,g={companySizeOptions:p,companySizeRange:{minSize:h,maxSize:m}};this.model.set({companySizeRange:g})}})}),define("app/views/home/careerInterestsView",["exports","module","marionette","jquery","i18n","jSecure","app/helpers/alertHelper","app/helpers/preferencesHelper","app/behaviors/tracking","app/behaviors/Tooltip/Hovercard","app/models/home/pillItemsModel","app/views/home/pillItemsView","app/views/home/preferencesModulesBaseView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p){"use strict";var h=function(e){return e&&e.__esModule?e["default"]:e},m=(h(i),h(n)),g=h(o),f=h(a),v=h(r),b=h(l),y=h(d),w=h(c),C=h(u),k=h(p),x=300,S={OPT_IN:"/jobs/careerInterests/optIn",OPT_OUT:"/jobs/careerInterests/optOut"},M={TITLE_V2:"/ta/titleV2"},T=12,I=void 0,E=void 0,A=void 0;t.exports=k.extend({template:"templates/partial/app/home/career_interests",className:"career-interests-container module",behaviors:function(){var e=void 0;return e=this.options.model&&this.options.model.get("careerInterests")?"memberPreferencesDisplayModule":"memberPreferencesDisplayModuleNull",{trackingBehavior:{behaviorClass:b,modules:[e]},Hovercard:{behaviorClass:y,tooltipTrigger:"hover"}}},ui:{toggleAbleSections:".toggle-able",switches:".switch > input",optSwitch:".share-switch > input",jobPrefSwitch:".share-job-pref-switch > input",hovercards:".hovercard",fieldsDropdown:".fields-dropdown",startDatesDropdown:".start-dates-dropdown",rolesPills:".roles-pills",jobTypeCheckboxes:".job-types input",learnMoreContainer:".learn-more-container",learnMoreHideBtn:".learn-more-container .hide-btn",intro:".introduction",introField:".introduction-field",introCharCount:".introduction .character-count",footer:"#ic-footer"},events:{"change @ui.switches":"_onSwitchChange","change @ui.optSwitch":"_onOptSwitchChange","change @ui.fieldsDropdown":"_onChange","change @ui.startDatesDropdown":"_onChange","change @ui.jobTypeCheckboxes":"_onChange","click @ui.learnMoreHideBtn":"_hideLearnMore","keyup @ui.introField":"_updateIntroCharCount","focus @ui.introField":"_updateIntroCharCount","blur @ui.introField":"_onIntroBlur"},regions:{rolesPills:".roles-pills"},initialize:function(){this.model&&(I=JSON.stringify(this.model.toJSON()))},onRender:function(){var e=this.model.get("careerInterests").titles,t=[];e.forEach(function(e,i){var n=e.displayName,o=e.id,a=!0,s=!0;t.push({name:n,id:o,selected:a,removable:s})});var i=this.ui.rolesPills.data("labelText"),n=this.ui.rolesPills.data("labelA11yText");E=new w({items:t,label:i,labelA11y:n,typeAheadSource:M.TITLE_V2,newItemsAreRemovable:!0});var o={currentTarget:this.ui.rolesPills};E.on("selectedChange",this._onChange.bind(this,o)),this.rolesPillsView=new C({model:E}),this.getRegion("rolesPills").show(this.rolesPillsView),this._updateRolesAddButton()},_hasChanges:function(){if(!this.model)return!1;var e=JSON.stringify(this.model.toJSON());return e!==I},_save:function(e){var t=this.model.get("sharingOptions").sharingAllFieldsWithRecruiters,i=this.model.get("careerInterests"),n=this.model.get("sharingOptions"),o=v.getCareerInterestsFormData(i,n,t),a=e?m(e.currentTarget):void 0;A&&A.abort&&A.abort(),A=m.ajax({type:"POST",url:t?S.OPT_IN:S.OPT_OUT,data:o}).then(this._onPreferencesSaved.bind(this,a),this._onPreferencesSaveError.bind(this,a))},_onPreferencesSaved:function(e,t){A=null;var i=this.model.toJSON();I=JSON.stringify(i),v.updateDataStoreForCareerInterests(i),e&&!this.model.get("isMobilePhone")?this._showSavedIconForElement(e):s.showAlert({message:g.get("saveSuccess"),type:"success",dismiss:!0,timeout:1e3})},_onPreferencesSaveError:function(e){A=null,s.showAlert({message:g.get("tryAgainErrorMessage"),type:"error",dismiss:!0,timeout:1e3})},_onOptSwitchChange:function(){var e=this.ui.optSwitch.is(":checked");this._toggleQuestions(e)},_onSwitchChange:function(e){var t=m(e.currentTarget),i=t.is(":checked"),n=t.siblings(".explicit-label");n.text(n.data(i?"on":"off")),this._onChange(e)},_onChange:function(e){this._updateModelWithChanges(),this._updateRolesAddButton();var t=this._validate();this._hasChanges()&&t&&this._save(e)},_updateModelWithChanges:function(){var e=this.model.get("careerInterests"),t=this.model.get("sharingOptions"),i=_.clone(e),n=_.clone(t),o=this.ui.fieldsDropdown.val(),a=e["function"],s=[];a.forEach(function(e){var t=_.clone(e);t.selected=String(e.id)===String(o),s.push(t)}),i["function"]=s;var r=E.get("items"),l=[];r.forEach(function(e){var t={id:e.id,displayName:e.name};l.push(t)}),i.titles=l,this.ui.jobTypeCheckboxes.each(function(e,t){var n=m(f.parseSelector(t)),o=n.prop("name"),a=n.get(0).checked;i[o]=a});var d=this.ui.startDatesDropdown.val(),c=[];e.availableStartingAt.forEach(function(e){var t=_.clone(e);t.selected=String(e.id)===String(d),c.push(t)}),i.availableStartingAt=c,n.sharingAllFieldsWithRecruiters=this.ui.optSwitch.is(":checked"),n.sharingJymbiiFieldsWithRecruiters=this.ui.jobPrefSwitch.is(":checked"),i.introductionStatement=this.ui.introField.val(),this.model.set("careerInterests",i),this.model.set("sharingOptions",n)},_toggleQuestions:function(e){this.ui.toggleAbleSections.toggleClass("collapsed",!e),this.ui.learnMoreContainer.toggleClass("collapsed",e),this.ui.footer.toggleClass("with-border",e),e?(this.ui.toggleAbleSections.find("select, input").prop({disabled:!e}).attr("aria-hidden",!1),this.rolesPillsView.trigger("enable")):(this.ui.toggleAbleSections.find("select, input").prop({disabled:!e,checked:!1}).val("").attr("aria-hidden",!0),this.ui.toggleAbleSections.find("select").each(function(e,t){var i=m(f.parseSelector(t));i.find("option").prop("selected",!1).first().prop("selected",!0)}),E.set("showAddButton",!0),this.rolesPillsView.trigger("clearAllPills"),this.rolesPillsView.trigger("disable"),this.ui.jobPrefSwitch.trigger("change"))},_updateRolesAddButton:function(){var e=this.model.get("careerInterests").titles;E.set("showAddButton",e.length<T)},_hideLearnMore:function(e){e.preventDefault(),this.ui.learnMoreContainer.addClass("collapsed"),this.ui.footer.addClass("with-border")},_onIntroBlur:function(e){this.ui.introField.val(this.ui.introField.val().trim()),this._updateIntroCharCount(),this._onChange(e)},_updateIntroCharCount:function(){var e=this.ui.introField.val().length;this.ui.introCharCount.text(e?x-e:""),this._validate()},_validate:function(){var e=!1;if(this.ui.introField.val()){var t=this.ui.introField.val().length;e=t>x,this.ui.intro.toggleClass("error",e)}return!e}})}),define("app/views/home/shareProfileView",["exports","module","marionette","jquery","i18n","jSecure","app/helpers/alertHelper","app/helpers/preferencesHelper","app/behaviors/tracking","app/behaviors/Tooltip/Hovercard","app/views/home/preferencesModulesBaseView"],function(e,t,i,n,o,a,s,r,l,d,c){"use strict";var u=function(e){return e&&e.__esModule?e["default"]:e},p=(u(i),u(n)),h=u(o),m=(u(a),u(r),u(l)),g=u(d),f=u(c),v="controllers.OffsiteJobApplicantsController.savePreference",b=void 0;t.exports=f.extend({template:"templates/partial/app/home/share_profile",className:"share-profile-container module",behaviors:function(){var e=void 0;return e=this.options.model?"applyStarterPreferenceDisplayModule":"applyStarterPreferenceDisplayModuleNull",{trackingBehavior:{behaviorClass:m,modules:[e]},Hovercard:{behaviorClass:g,tooltipTrigger:"hover"}}},ui:{optSwitch:".share-switch > input",optSwitchLabel:".share-switch > .explicit-label",hovercards:".hovercard"},events:{"change @ui.optSwitch":"_onOptSwitchChange"},_onOptSwitchChange:function(e){var t=e?p(e.currentTarget):void 0,i=this.ui.optSwitch.is(":checked");this.ui.optSwitchLabel.text(this.ui.optSwitchLabel.data(i?"on":"off")),this.model.set("applyStarterMemberPreference",i);var n=play.url({alias:v,arg0:this.model.get("applyStarterMemberPreference")});b&&b.abort&&b.abort(),b=p.ajax({type:"PUT",url:n,headers:{"Csrf-Token":play.getPageContextValue("csrfToken")}}).then(this._onPreferencesSaved.bind(this,t),this._onPreferencesSaveError.bind(this))},_onPreferencesSaved:function(e,t){b=null,e&&!this.model.get("isMobilePhone")?this._showSavedIconForElement(e):s.showAlert({message:h.get("saveSuccess"),type:"success",dismiss:!0,timeout:1e3})},_onPreferencesSaveError:function(e){b=null,s.showAlert({message:h.get("tryAgainErrorMessage"),type:"error",dismiss:!0,timeout:1e3})},templateHelpers:function(){return{hasSharePreference:"undefined"!=typeof this.model.get("applyStarterMemberPreference")?!0:!1}}})}),define("app/views/home/preferencesLayoutView",["exports","module","marionette","backbone","jquery","i18n","radio","app/factories/modelFactory","app/models/embeddedContentModel","jobsUtils","app/services/rum","app/views/home/memberProfileView","app/views/home/jobPreferencesView","app/views/home/careerInterestsView","app/views/home/shareProfileView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m){"use strict";var g=function(e){return e&&e.__esModule?e["default"]:e},f=g(i),v=(g(n),g(o),g(a),g(s),g(r)),b=g(l),y=g(d),w=(g(u),g(p)),_=g(h),C=g(m),k="applyStartersModule";t.exports=f.LayoutView.extend({template:"templates/partial/app/home/preferences_layout",className:function(){var e="preferences-layout-container "+(this.options.model.get("isMobilePhone")?"grid-container":"");return e},ui:{jobPreferences:"#job-preferences-region",careerInterests:"#career-interests-region",shareProfilePreferences:"#share-profile-region"},regions:{jobPreferences:"#job-preferences-region",careerInterests:"#career-interests-region",shareProfilePreferences:"#share-profile-region"},onShow:function(){var e=this;v(b.extend(),["globalVariable","lixModule"],null,["customJymbii"]).done(function(t){var i=new w({model:t});e.getRegion("jobPreferences").show(i),e.model.set({jobPreferencesView:i})}),v(b.extend(),["lixModule"]).done(function(t){t.get("isInterestedCandidatesEnabled")&&v(b.extend(),["lixModule","globalVariable","memberPreferences","staticSupportingContent"]).done(function(t){var i=new _({model:t});e.getRegion("careerInterests").show(i),e.model.set({careerInterestsView:i})}).fail(function(){var t=new _;e.getRegion("careerInterests").show(t),e.model.set({careerInterestsView:t})})}),v(b.extend(),["lixModule"]).done(function(t){if(t.get("isApplyStarterFlowEnabledForJobSeeker")){var i="true"===y.getQueryParams(k),n=e.ui.shareProfilePreferences;i&&e.ui.jobPreferences.before(n),v(b.extend(),["globalVariable","applyStarterPreference"]).done(function(t){
var i=new C({model:t});e.getRegion("shareProfilePreferences").show(i),e.model.set({shareProfileView:i})})}}),c.rumRenderComplete()}})}),define("app/controllers/jobsHomePreferencesController",["exports","module","marionette","app/controllers/jobsHomeTabController","app/factories/modelFactory","app/models/embeddedContentModel","app/views/home/preferencesLayoutView"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},u=(r(i),r(n)),p=r(o),h=r(a),m=r(s),g=function(e){function t(){l(this,t),null!=e&&e.apply(this,arguments)}return c(t,e),d(t,[{key:"index",value:function(){var e=this._app.layout.getRegion("contentRegion").currentView;p(h.extend(),["globalVariable","lixModule","memberProfile"]).done(function(t){e.getRegion("preferences").show(new m({model:t}))})}}]),t}(u);t.exports=g}),define("app/views/home/layoutView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.LayoutView.extend({template:"templates/partial/app/home/layout",className:"content-outlet-container",regions:{navigation:"#navigation-tabs",topN:"#top-n",jymbii:"#jymbii",jobSearch:"#job-search",topApplicantJobs:"#top-applicant-jobs",companyLCP:"#company-LCP",appliedJobs:"#applied-jobs",fastGrowingCompanies:"#fast-growing-companies",preferences:"#preferences",savedJobs:"#saved-jobs",guestChrome:"#guest-chrome-outlet"}})}),define("app/views/home/navigationTabsView",["exports","module","marionette","jquery","radio","app/behaviors/linkTo","app/behaviors/tracking","app/utils/vendorPrefix"],function(e,t,i,n,o,a,s,r){"use strict";var l=function(e){return e&&e.__esModule?e["default"]:e},d=l(i),c=l(n),u=l(o),p=l(a),h=l(s),m="selected",g="active",f="click.activeJobs",v="nav",b="nav:saving",y="nav:saved",w="nav:saveError",_="animate";t.exports=d.ItemView.extend({template:"templates/partial/app/home/navigation_tabs",className:"nav-container",behaviors:{linkTo:{behaviorClass:p},trackingBehavior:{behaviorClass:h,modules:["postJobModule","activeJobsModule"]}},ui:{tabs:".nav-tab",jobsLink:".jobs-link",jobsContainer:".jobs-container",saveIconContainer:".save-icon-container",saveCheckIcon:".save-icon-container .check-icon",saveSwipe:".save-icon-container .swipe",savePulse:".save-icon-container .pulse"},events:{"click @ui.jobsLink":"_onJobsLink"},initialize:function(){var e=this;c(window).on(f,function(){e._toggleShowJobs(!1)});var t=u.channel(v);t.comply(b,function(){e._onSaving()}),t.comply(y,function(){e._onSaved()}),t.comply(w,function(){e._onSaveError()})},onRender:function(){var e=this.model.get("selectedIndex")||0;this.ui.tabs.eq(e).addClass("selected").find("a").attr("disabled",!0)},onDestroy:function(){c(window).off(f)},_onJobsLink:function(e){e.stopPropagation(),e.preventDefault(),this._toggleShowJobs()},_toggleShowJobs:function(e){if(void 0===e){var t=this.ui.jobsLink.hasClass(m);e=!t}this.ui.jobsLink.toggleClass(m,e),this.ui.jobsContainer.toggleClass(g,e)},_onSaving:function(){this._onSaveAnimationEnd(),this.ui.saveIconContainer.show(),this.ui.savePulse.addClass(_)},_onSaved:function(){var e=this;this.ui.savePulse.removeClass(_),this.ui.saveSwipe.addClass(_).one(r.transitionend(),function(){e.ui.saveCheckIcon.addClass(_).one(r.transitionend(),function(){e._onSaveAnimationEnd()})})},_onSaveAnimationEnd:function(){this.ui.saveIconContainer.hide(),this.ui.saveCheckIcon.removeClass(_),this.ui.saveSwipe.removeClass(_),this.ui.savePulse.removeClass(_)},_onSaveError:function(){this._onSaveAnimationEnd()}})}),define("app/controllers/jobsHomeController",["exports","module","marionette","backbone","jquery","radio","i18n","app/factories/modelFactory","app/services/ds","app/services/announcer","app/utils/vendorPrefix","app/services/rum","app/utils/googleAnalytics","app/controllers/jobsHomeDiscoverController","app/controllers/jobsHomeActivityController","app/controllers/jobsHomePreferencesController","app/views/home/layoutView","app/views/home/navigationTabsView","app/views/shared/twoBoxSearchView","app/views/shared/guestChromeView","app/models/embeddedContentModel","app/collections/jobs"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g,f,v,b,y,w,C){"use strict";var k=function(e){return e&&e.__esModule?e["default"]:e},x=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},S=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),M=(k(i),k(n),k(o)),T=k(a),I=k(s),E=k(r),A=k(l),P=k(p),R=k(h),j=k(m),V=k(g),L=k(f),B=k(v),D=k(b),F=k(y),N=k(w),O=(k(C),{DISCOVER:0,ACTIVITY:1,PREFERENCES:2}),H=M("body"),J="transition-overlay",U=function(){function e(t,i){x(this,e),this._app=t;var n=_.map(i,function(e,t){return t});A.setAliasesForEndPoint(window.location.pathname,n),this._discoverController=new R(this._app),this._activityController=new j(this._app),this._preferencesController=new V(this._app),this._currentTabController,this._initialized=!1}return S(e,[{key:"index",value:function(e,t,i){var n=this;return this._currentTabController&&this._currentTabController.onLeave(),A.populate(window.location.pathname).then(function(e){H.removeClass(J),n._renderPage()})}},{key:"_initialize",value:function(e){var t=this;if(void 0===e&&(e=O.DISCOVER),this._initialized){var i=this._layout.regions;for(var n in i)"navigation"!==n&&"jobSearch"!==n&&"guestChrome"!==n&&this._layout.getRegion(n).reset();var o=this._layout.getRegion("navigation").currentView;o.model.set("selectedIndex",e),o.render(),T.channel("scrollTo").command("to:top",{time:250})}else{var a=new L;this._app.layout.getRegion("contentRegion").show(a),this._layout=a;var s=window.__li__i18n_registry__,r=s?s:{},l=play.getEmbeddedContent("i18n-keys");window.__li__i18n_registry__=_.extend(r,l),E(N.extend(),["globalVariable"]).done(function(e){e.get("isMobilePhone")&&E(N.extend(),["globalVariable"]).done(function(e){t._layout.getRegion("guestChrome").show(new F({model:e}))}),P&&P.initSelfHosted(e.get("pageKey"))}),E(N.extend(),["lixModule","postJob","activeJobs"]).done(function(i){i.set("selectedIndex",e),t._layout.getRegion("navigation").show(new B({model:i}))}),E(N.extend(),["lixModule","globalVariable"],null,["searchHistory","searchBar","jobAlert"]).done(function(e){e.set("isJobsHome",!0),t._layout.getRegion("jobSearch").show(new D({model:e}))}),this._initialized=!0}}},{key:"_renderPage",value:function(){var e=u.getRumObj().appRenderComplete;return M("#application-body").addClass("render-complete"),M("#application-body").addClass("loaded").one(c.transitionend(),function(){M(".content-container").addClass("rendered").one(c.transitionend(),function(){e()})})}},{key:"discover",value:function(){var e=this;this.index().then(function(){e._initialized&&d.announcer("a11y-announcer","layout-main",I.get("discoverTabA11y")),e._initialize(O.DISCOVER),e._currentTabController=e._discoverController,e._currentTabController.index()})}},{key:"activity",value:function(){var e=this;this.index().then(function(){e._initialized&&d.announcer("a11y-announcer","layout-main",I.get("activityTabA11y")),e._initialize(O.ACTIVITY),e._currentTabController=e._activityController,e._currentTabController.index()})}},{key:"preferences",value:function(){var e=this;this.index().then(function(){e._initialized&&d.announcer("a11y-announcer","layout-main",I.get("preferencesTabA11y")),e._initialize(O.PREFERENCES),e._currentTabController=e._preferencesController,e._currentTabController.index()})}}]),e}();t.exports=U}),define("app/services/localStorage",["exports","module","app/utils/debug"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=n(i),r=function(){function e(){o(this,e)}return a(e,[{key:"get",value:function(e){try{return window.localStorage.getItem(e)}catch(t){return s.log("localStorage get failed: "+t),null}}},{key:"set",value:function(e,t){try{window.localStorage.setItem(e,t)}catch(i){return s.log("localStorage set failed: "+i),null}}}]),e}();t.exports=r}),define("app/models/search/globalVariableModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"UILixModule"},{name:"globalVariableModule"},{name:"searchValuesModule"},{name:"jobSearchAlertModule",optional:!0}]})}),define("app/models/search/searchGuestChromeModel",["exports","module","backbone","app/models/embeddedContentModel"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=(o(i),o(n));t.exports=a.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"guestChromeDisplayModule"}]})}),define("app/models/search/searchModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"searchHistoryDisplayModule",optional:!0}]})}),define("app/models/search/currentContextHeaderModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"metaTagModule"}]})}),define("app/models/search/distanceFilterModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"distanceModule"}]})}),define("app/models/search/searchResultsModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"decoratedJobPostingsModule"},{name:"facetResultsModule",optional:!0},{name:"noResultModule",optional:!0}]})}),define("app/models/search/facetsModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"facetResultsModule"}]})}),define("app/models/search/paginationModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"decoratedJobPostingsModule"}]})}),define("app/models/search/breadcrumbModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"metaTagModule",optional:!0},{name:"breadcrumbsModule",optional:!0}]})}),define("app/models/search/feedbackModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"memberProfileDisplayModule"},{name:"helpCenterModule"},{name:"searchValuesModule"}]})}),define("app/models/search/searchViewModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"searchHistoryDisplayModule",optional:!0}]})}),define("app/models/search/similarJobsModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"pivotQueryBannerModule"}]})}),define("app/models/search/spellCorrectModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"spellingSuggestionsModule"}]})}),define("app/models/search/metaTagModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"metaTagModule"}]})}),define("app/models/search/relatedSearchesModel",["exports","module","app/models/embeddedContentModel"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.extend({useSearchParamsInUrl:!0,embeddedContentIds:[{name:"metaTagModule"},{name:"relatedJobSearchModule"}]})}),define("app/views/search/createJobAlert",["exports","module","marionette","jquery","app/helpers/modalHelper","app/helpers/alertHelper","i18n","app/behaviors/Tooltip/Tooltip"],function(e,t,i,n,o,a,s,r){"use strict";var l=function(e){return e&&e.__esModule?e["default"]:e},d=l(i),c=l(n),u=l(s),p=l(r);t.exports=d.ItemView.extend({template:"templates/partial/guest_job_search/create_job_alert_modal",ui:{form:".create-job-alert-modal-form",cancelButton:".modal-cancel",createButton:".modal-create-alert",editSaveButton:".modal-save-alert",csrfToken:'input[name="csrfToken"]',email:"#email-notification-checkbox",notifications:"#push-notification-checkbox",mobileEmail:"#email-notification-checkbox-member-mobile",mobileNotifications:"#push-notification-checkbox-member-mobile"},behaviors:{Tooltip:{behaviorClass:p,tooltipDirection:"top"}},events:{"click @ui.cancelButton":"cancelHandler","click @ui.createButton":"createHandler","click @ui.editSaveButton":"editSaveHandler"},cancelHandler:function(e){e.stopPropagation(),this.model.get("isDesktop")?o.closeModal():this._hideMobileJobAlertScreen()},_hideMobileJobAlertScreen:function(e,t,i){var n=this,o=e?{keep:!0,singleAlert:!0}:{keep:!0};e?this.model.fetchJobAlerts(t,i).done(function(e){n.model.set("jobAlerts",e.jobAlerts),n.triggerMethod("action:hideMobileJobAlertScreen",o)}.bind(this)).fail(function(e){debug.log(e)}):this.triggerMethod("action:hideMobileJobAlertScreen",o)},editSaveHandler:function(){var e=this,t=this.model.get("id"),i={id:t,frequency:c('input[name="job-alert-update-freq-member-mobile"]:checked').val(),emailEnabled:this.ui.mobileEmail.is(":checked"),notificationsEnabled:this.ui.mobileNotifications.is(":checked")},n=this.ui.form,o="PUT",s=encodeURIComponent(this.ui.csrfToken.val()),r=this.model.get("isLoggedIn")?""+n.attr("action")+"?csrfToken="+s:""+n.attr("action")+"?csrfToken="+s+"&authToken="+this.model.get("guestAuthToken");this.model.updateJobAlerts(r,o,[i]).done(function(t){var i="SUCCESS_UPDATE",n=e.model.jobAlertResponseMap[i];a.showAlert({message:u.get(n.i18n_key),type:n.type,dismiss:!0,timeout:!1,clearBuffer:!0}),e._hideMobileJobAlertScreen(!0,r,"GET")}.bind(this)).fail(function(t){var i="ERROR_UPDATE",n=e.model.jobAlertResponseMap[i];a.showAlert({message:u.get(n.i18n_key),type:n.type,dismiss:!0,timeout:!1,clearBuffer:!0})})},createHandler:function(e){var t=this;e.stopPropagation();var i=this.ui.form,n=i.attr("method"),s=encodeURIComponent(this.ui.csrfToken.val()),r=""+i.attr("action")+"?csrfToken="+s,l=this.ui.email.is(":checked"),d=this.ui.notifications.is(":checked");this.model.createJobAlert(r,n,i,l,d).done(function(e){var i=t.model.get("geoLocation").cityName?"SUCCESS_CREATE":"SUCCESS_CREATE_NO_LOCATION",n=t.model.jobAlertResponseMap[i];a.showAlert({message:u.get(n.i18n_key),type:n.type,dismiss:!0,timeout:!1,clearBuffer:!0}),t.model.get("isDesktop")?o.closeModal():t._hideMobileJobAlertScreen()}.bind(this)).fail(function(e){var i=e.responseJSON?e.responseJSON.error:"NO_RESPONSE",n=t.model.getAlertErrorResponse(i,e.responseJSON),o=null,s=null,r=null;"OVER_QUOTA"===i&&(o=u.get("job_alert_manage"),s="#",r="over-quota-manage-alerts"),a.showAlert({message:u.get(n.i18n_key),type:n.type,dismiss:!0,timeout:!1,clearBuffer:!0,messageLinkText:o,messageLink:s,linkClass:r})})}})}),define("app/views/search/createJobAlertModalLayoutView",["exports","module","marionette","jquery","app/views/search/createJobAlert","app/models/search/jobAlertsModel"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=(s(n),s(o));s(a);t.exports=r.LayoutView.extend({template:"templates/partial/app/search/create_job_alert_layout",regions:{createJobAlertContent:"#create-job-alert-outlet"},childEvents:{"action:hideMobileJobAlertScreen":"hideMobileJobAlertScreen"},hideMobileJobAlertScreen:function(){this.triggerMethod("action:hideMobileJobAlertScreen")},onRender:function(){this.getRegion("createJobAlertContent").show(new l({model:this.model}))}})}),define("app/views/search/jobAlertsUnsubscribe",["exports","module","marionette","jquery","i18n","app/helpers/modalHelper"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=(s(n),s(o),s(a));t.exports=r.ItemView.extend({template:"templates/partial/guest_job_search/job_alert_canceled_modal",ui:{cancelButton:".modal-close"},events:{"click @ui.cancelButton":"_cancelHandler"},_cancelHandler:function(e){e.stopPropagation(),l()}})}),define("app/views/search/jobAlertsUnsubscribeModalLayoutView",["exports","module","marionette","app/views/search/jobAlertsUnsubscribe"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.LayoutView.extend({template:"templates/partial/app/search/job_alerts_unsubscribe_layout",regions:{unsubscribeContent:"#job-alerts-unsubscribe-outlet"},onRender:function(){this.getRegion("unsubscribeContent").show(new s({model:this.model}))}})}),define("app/views/search/layoutView",["exports","module","marionette","jquery","i18n","app/utils/debug","app/components/spinner","radio","app/helpers/modalHelper","app/views/search/manageJobAlertsModalLayoutView","app/views/search/createJobAlertModalLayoutView","app/views/search/jobAlertsUnsubscribeModalLayoutView","app/views/search/manageJobAlerts","app/views/search/createJobAlert","app/services/rum"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m){"use strict";var g=function(e){return e&&e.__esModule?e["default"]:e},f=g(i),v=g(n),b=g(o),y=g(a),w=g(s),_=g(r),C=g(d),k=g(c),x=g(u),S=g(p),M=g(h),T=w(),I={searchResultsView:!1,facetsView:!1},E=".two-box-search-container",A="mobile-search-state-active",P="curtain",R="hidden",j=".search-results-overlay",V="enabled",L=!1,B=!1;t.exports=f.LayoutView.extend({template:"templates/partial/app/search/layout",className:"jserp-page",regions:{mobileChrome:"#guest-chrome-outlet",search:".two-box-search-section-container",currentContextHeader:".results-context",sort:".jserp-sort-section",distanceFilter:".distance-within-dropdown-container",postedFilter:".posted-filter-container",facetPills:".facet-pills-container",results:".search-results-container",facets:".facets-section",relatedSearches:".related-searches-container",jobAlertsLeftRail:".jserp-job-alerts-left-rail",jobAlertsHeader:".jserp-job-alerts-header",jobAlertsFooter:".job-alert-footer-container",jobAlertsActivation:".job-alerts-activation-section",jobAlertsDeltaBanner:".job-alerts-delta-banner-section",similarJobs:".jserp-similar-jobs-section",pagination:".search-results-pagination-container",jserpAd:".jserp-ad-container",breadcrumbs:".jserp-breadcrumb",i18n:"#i18n-outlet",modalOutlet:"#modal-outlet",feedbackBanner:".feedback-banner-section",feedback:".feedback-section",mobileScreen:"#mobile-screen-outlet",mobileEditScreen:"#member-mobile-edit-screen",spellCorrect:".jserp-spell-correct-container",marketplace:".jserp-marketplace"},ui:{searchContainer:".two-box-search-section-container",facets:".jserp-facets",results:".jserp-results",curtain:".curtain"},events:{"touchend @ui.curtain":"_onCurtainTouch"},childEvents:{"inform:searchResultsViewDone":"_fireRumBeacon","inform:facetsViewDone":"_fireRumBeacon","inform:i18nViewDone":"_i18nViewDone","update:renderAffectedViews":"updateAffectedViews","action:toggleSearchMobileActiveState":"toggleSearchMobileActiveState",showManageModal:"showManageModal","action:toggleSearchResultsHiddenState":"toggleSearchResultsHiddenState","action:showMobileJobAlertScreen":"showMobileJobAlertScreen","action:hideMobileJobAlertScreen":"hideMobileJobAlertScreen"},onRender:function(){var e=this;L=!1,_.channel("manageJobAlert").comply("manageJobAlert:delta",function(t){e.updateAffectedViews(e._parent.currentView,t)}.bind(this))},_fireRumBeacon:function(e,t){I[t]=!0;var i=Object.keys(I).every(function(e){return I[e]===!0});if(i){m.rumRenderComplete();for(var n in I)I[n]=!1}},_i18nViewDone:function(e,t){if(this.model.get("showUnsubscribeModal")){var i=b.get("job_alert_cancelled");this.model.set("jobAlertLabel",this.model.get("label")),l.showViewInModal({title:i,view:new x({model:this.model}),replaceContent:!1})}},updateAffectedViews:function(e,t){var i=this,n=t.isOverlayDisabled,o=this.getChildView("results"),a="disabled-state",s=v(j);o&&!n&&_.channel("scrollTo").command("to:top",{time:500,before:function(){s.addClass(V)},complete:function(){i._resultsLoadingState(s)}}),t.urlAlreadySanitized=!0,t.useSearchUrlParams=!0,this.$el.addClass(a),e.model.fetchAndUpdateModules(t).always(function(e){var t=i.getRegion("results");t&&t.currentView&&T.detach(o.$el),s.hasClass(V)&&s.removeClass(V),i.$el.removeClass(a)}).fail(function(e){y.log("Unable to update the modules '"+i.modulesToUpdate+"' using fetchAndUpdateSelf")})},_renderCurtain:function(){this.ui.results.addClass(P)},_resultsLoadingState:function(e){var t=v(window),i=t.scrollTop(),n=i+t.height(),o=e.offset().top,a=o+e.outerHeight(),s=i>o?i:o,r=a>n?n:a,l=r-s;T.attach(e),e.find(".spinner").css({top:s-o,height:l})},_onCurtainTouch:function(e){e.preventDefault(),this.ui.searchContainer.find(E).removeClass(A),this.ui.searchContainer.find(".keyword-search-box, .location-search-box").blur(),this.ui.results.removeClass(P),this.ui.facets.removeClass(R)},toggleSearchMobileActiveState:function(){this.ui.searchContainer.find(E).toggleClass(A),this.ui.facets.addClass(R),this._renderCurtain()},showManageModal:function(e,t){L||(L=!0,e.model.fetchJobAlerts(t.url,t.type,t.form).done(function(e){l.showViewInModal({title:"Manage your job alerts",view:new C({jobs:e,model:t.model}),customClass:"manage-job-alerts-modal manage-job-alerts",replaceContent:!1})}).fail(function(e){y.log(e)}))},showMobileJobAlertScreen:function(e,t){var i=null;if("create"===t.view&&(t.onLoad&&B||(t.model.set({memberMobileEdit:!1}),i=new k({model:t.model}),B=!0)),"manage"===t.view&&(i=new S({model:t.model})),"edit"===t.view){var n=this.getRegion("mobileEditScreen"),o=t.model.get("jobAlerts"),a=v.grep(o,function(e){return e.id===t.alertId})[0];return t.model.set({showCreateModal:!0,memberMobileEdit:!0,id:t.alertId,emailEnabled:a.emailEnabled,notificationsEnabled:a.notificationsEnabled,frequency:a.frequency,label:a.label,facets:a.facets}),i=new M({model:t.model}),n.show(i),void n.$el.addClass("visible")}this.getRegion("mobileScreen").show(i)},hideMobileJobAlertScreen:function(e,t){var i=this.getRegion("mobileEditScreen").$el;i&&i.removeClass("visible"),t?(this.getRegion("mobileEditScreen").reset(),t.singleAlert&&this.getRegion("mobileEditScreen").show(new S({model:e.model}))):(e.destroy(),this.getRegion("mobileScreen").reset())},toggleSearchResultsHiddenState:function(){this.getChildView("results").$el.find(".search-results").toggleClass(R)}})}),define("app/views/search/i18nView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/guest_job_search/jserp_js_keys",onShow:function(){var e=window.__li__i18n_registry__,t=e?e:{},i=play.getEmbeddedContent("jserp-i18n-keys");window.__li__i18n_registry__=_.extend(t,i),this.triggerMethod("inform:i18nViewDone",{model:this.model})}})}),define("app/views/search/sortView",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.ItemView.extend({template:"templates/partial/guest_job_search/jserp_sort",triggers:{"update renderAffectedViews":"update:renderAffectedViews"},modelEvents:{change:"render"},ui:{sortSelect:"#jserp-sort-select"},events:{"change @ui.sortSelect":"_onSortSelectChange"},_constructUrl:function(){var e="/jobs/search?",t=this.model.get("searchQueryParams");return Object.keys(t).forEach(function(i,n){var o=encodeURIComponent(t[i]);e=0===n?""+e+i+"="+o:""+e+"&"+i+"="+o}),e},_onSortSelectChange:function(e){var t=s(e.currentTarget).find(":selected").val();this.model.get("searchQueryParams").sortBy=t;var i=this._constructUrl(),n=i.replace(/search\?/gi,"searchRefresh?"),o=!0;this.triggerMethod("update:renderAffectedViews",{endpoint:n,newUrl:i,isFullPageRefresh:o})}})}),define("app/views/search/currentContextHeaderView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.ItemView.extend({template:"templates/partial/guest_job_search/jserp_current_context_section",modelEvents:{change:"render"}})}),define("app/views/search/distanceFilterView",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.ItemView.extend({template:"templates/partial/guest_job_search/jserp_distance_filter",modelEvents:{change:"render"},ui:{distanceDropdownFilter:"#distance-dropdown"},events:{"change @ui.distanceDropdownFilter":"_onDistanceDropdownFilterOptionClick"},triggers:{"update renderAffectedViews":"update:renderAffectedViews"},_onDistanceDropdownFilterOptionClick:function(e){var t=s(e.currentTarget).find(":selected").val(),i=t.replace(/search\?/gi,"searchRefresh?refreshType=fullpage&");this.triggerMethod("update:renderAffectedViews",{endpoint:i,newUrl:t,isFullPageRefresh:!0})}})}),define("app/views/search/facetPillsView",["exports","module","marionette","jquery","underscore"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=a(o);t.exports=s.ItemView.extend({template:"templates/partial/guest_job_search/jserp_facet_pills",ui:{facetPillClear:".facet-pill-clear",facetPillClearAll:".facet-pills-clear-all-link"},events:{"click @ui.facetPillClear":"_onFacetPillClearClick","click @ui.facetPillClearAll":"_onFacetClearAllPillsClick"},triggers:{"update renderAffectedViews":"update:renderAffectedViews"},modelEvents:{change:"render"},onShow:function(){var e=this.model.get("showDeltaBanner"),t=this.model.get("facets")||[],i=l.chain(t).map(function(e){return e.facetValues}).flatten().filter(function(e){return e.facetValue.selected&&""!==e.facetValue.value}).value();e&&(i.length?r(".results-context").addClass("hidden"):r(".jserp-results-header").addClass("hidden")),i.length<2&&r(".facet-pills-clear-all").addClass("hidden")},_updateModel:function(e){var t=e.replace(/search\?/gi,"searchRefresh?refreshType=fullpage&");this.triggerMethod("update:renderAffectedViews",{endpoint:t,newUrl:e,isFullPageRefresh:!0})},_onFacetPillClearClick:function(e){e.preventDefault();var t=r(e.target).parents(".facet-pill-clear").andSelf().attr("href");this._updateModel(t)},_onFacetClearAllPillsClick:function(e){e.preventDefault();var t=r(e.target).parents(".facet-pills-clear-all-link").andSelf().attr("href");this._updateModel(t)}})}),define("app/utils/lazyLoadImages",["exports","module","jquery"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i),a="lazy-load",s="lazy-loaded",r="delayed-url",l="img-unveil",d=200,c=o(window),u=!1,p=void 0,h=void 0;t.exports={throttle:function(e,t){var i=void 0,n=void 0;return t=t||250,function(){var o=this,a=Date.now(),s=arguments;i&&i+t>a?(clearTimeout(n),n=setTimeout(function(){i=a,e.apply(o,s)},t)):(i=a,e.apply(o,s))}},loadImage:function(e){var t=e.data("delayed-url")||null;t&&e.attr("src",t).on("load",function(){e.removeClass(a).addClass(s)})},loadImagesWithClass:function(){var e=this;p=o("."+a),p.one(l,function(){var t=o(this),i=t.data(r);t.is("img")&&t.attr("src")!==i&&e.loadImage(t)}).bind(e),p.length&&(c.off("scroll.lazyLoad resize.lazyload").on("scroll.lazyLoad resize.lazyload",this.onWindowScrollRequestUpdate.bind(this)),this.unveil())},onWindowScrollRequestUpdate:function(){u||requestAnimationFrame(this.throttle(this.unveil)),u=!0},unveil:function(){if(p&&p.length){var e=p.filter(function(e){var t=c.scrollTop(),i=t+c.height(),n=o(p[e]),a=n.offset().top,s=a+n.outerHeight();return s>=t-d&&i+d>=a});e.trigger(l),h=h?o.merge(h,e):e,p=p.not(h),u=!1}else c.off("scroll.lazyLoad resize.lazyload")}}}),define("app/behaviors/lazyLoadImages",["exports","module","marionette","jquery","underscore","app/utils/lazyLoadImages"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=(s(n),s(o)),d=s(a);t.exports=r.Behavior.extend({onRender:function(){l.defer(function(){d.loadImagesWithClass()})}})}),define("app/views/search/relatedSearchesView",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.ItemView.extend({template:"templates/partial/guest_job_search/jserp_related_searches_section",ui:{relatedSearchLink:".related-search a"},events:{"click @ui.relatedSearchLink":"_onRelatedSearchClick"},triggers:{"update renderAffectedViews":"update:renderAffectedViews"},modelEvents:{change:"render"},_onRelatedSearchClick:function(e){e.preventDefault();var t=s(e.currentTarget),i=t.attr("data-click-url")?t.attr("data-click-url"):t.attr("href"),n=i.replace(/search\?/gi,"searchRefresh?refreshType=fullpage&");this.triggerMethod("update:renderAffectedViews",{endpoint:n,newUrl:i,isFullPageRefresh:!0})}})}),define("app/views/search/facetsView",["exports","module","marionette","jquery","app/utils/vendorPrefix","app/behaviors/tracking","i18n","app/lib/TwoBoxTypeahead","jSecure","app/behaviors/lazyLoadImages","app/models/search/distanceFilterModel","app/views/search/distanceFilterView","app/models/search/relatedSearchesModel","app/views/search/relatedSearchesView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h){"use strict";var m=function(e){return e&&e.__esModule?e["default"]:e},g=m(i),f=m(n),v=m(a),b=m(s),y=m(r),w=m(l),_=m(d),C=m(c),k=m(u),x=m(p),S=m(h),M="facet-value",T="slide-up",I="facet-opened-icon",E="facet-closed-icon",A="facet-items-list",P="hidden",R="show-more",j="show-less",V="chevron-down-icon",L="chevron-up-icon",B="no-padding",D="selected-state",F="filter-dropdown";t.exports=g.LayoutView.extend({template:"templates/partial/guest_job_search/jserp_facets_section",companyFacetSuggestionTemplate:"templates/partial/guest_job_search/jserp_facet_company_typeahead_suggestion",facetSuggestionTemplate:"templates/partial/guest_job_search/jserp_facet_typeahead_suggestion",
regions:{distanceFilter:".distance-within-dropdown-container",relatedSearches:".related-searches-container"},ui:{facetSection:".jserp-facets",facetList:".jserp-facets-list",addTypeaheadButton:".add-facet-button",typeahead:".facet-typeahead",industryTypeahead:".I.add-facet-typeahead input[type=search]",typaheadSuggestion:".item-suggestion",nonDesktopToggleFacets:".toggle-facets"},events:{"click @ui.facetList":"_onFacetListClick","click @ui.addTypeaheadButton":"_toggleFacetTypeahead","blur @ui.typeahead":"_toggleFacetTypeahead","touchstart @ui.nonDesktopToggleFacets":"_toggleNonDesktopFacets"},childEvents:{"inform facetsViewDone":"inform:facetsViewDone","update:renderAffectedViews":"updateDistanceFilterAffectedViews"},triggers:{"update renderAffectedViews":"update:renderAffectedViews","action toggleSearchResultsHiddenState":"action:toggleSearchResultsHiddenState"},behaviors:{trackingBehavior:{behaviorClass:v},lazyLoadImagesBehavior:{behaviorClass:_}},modelEvents:{change:"render"},_changeSvgIcon:function(e,t,i){e.attr("class",t).attr("type",i)},_toggleNonDesktopFacets:function(){var e=this,t=this.ui.nonDesktopToggleFacets.find("li-icon"),i=f(".jserp-facets"),n=this.ui.nonDesktopToggleFacets.siblings(".jserp-facets-list"),a="closed";this.model.get("isMobilePhone")?i.hasClass(T)?(this.triggerMethod("action:toggleSearchResultsHiddenState"),n.addClass(a),t.each(function(t,i){e._changeSvgIcon(f(w.parseSelector(i)),"facets-opened-icon",V)}),n.one(o.transitionend(),function(e){f(e.target).hasClass(M)||i.removeClass(T)})):(i.addClass(T),t.each(function(t,i){e._changeSvgIcon(f(w.parseSelector(i)),"facets-closed-icon",L)}),i.one(o.transitionend(),function(t){f(t.target).hasClass("jserp-facets")&&(n.removeClass(a),n.one(o.transitionend(),function(t){var i=f(t.target);i.hasClass(M)||i.hasClass(F)||e.triggerMethod("action:toggleSearchResultsHiddenState")}))})):this.model.get("isTablet")&&(n.toggleClass(a),n.hasClass(a)?t.each(function(t,i){e._changeSvgIcon(f(w.parseSelector(i)),"facets-opened-icon",V)}):t.each(function(t,i){e._changeSvgIcon(f(w.parseSelector(i)),"facets-closed-icon",L)}))},onDomRefresh:function(){var e=this,t=this.ui.typeahead.parents(".add-facet-typeahead"),i=".tt-dropdown-menu",n="c_id",o=this.model.get("facetBaseUrl"),a=void 0;t.each(function(t,s){var r=f(s),l=r.data(),d=l.facetType===n?e.companyFacetSuggestionTemplate:e.facetSuggestionTemplate,c="f_"+l.shortName,u="c_id"===l.facetType?"company":l.facetType,p="jobs_jserp_add_facet_"+u,h={},m={event:y.EVENTS.SELECTED,callback:function(t,i){var n=e._addQueryParam(o,c,i.id,p);e._updateModel(n)}};"industry"===u?(h.filter=function(t){return t.resultList.filter(function(t){var i=e.ui.industryTypeahead.typeahead2("val").toLowerCase();return-1!==t.displayName.toLowerCase().indexOf(i)})},h.replace=!1):"geo_city"===u&&(h.filter=function(e){return e.resultList.map(function(e){return e.id&&(e.id=e.id.replace("PLACES.","")),e})}),h.template=h.empty=function(e){a=r.find(i);var t="empty";return e.id||(e.isEmpty=!0),e.isEmpty&&!a.hasClass(t)?a.addClass(t):!e.isEmpty&&a.hasClass(t)&&a.removeClass(t),g.Renderer.render(d,e)},h.eventHandlers=[m],y&&(new y(r).init(h),a=r.find(i),a.addClass(l.facetType))})},_updateModel:function(e){var t=e.replace(/search\?/gi,"searchRefresh?refreshType=fullpage&");this.triggerMethod("update:renderAffectedViews",{endpoint:t,newUrl:e,isFullPageRefresh:!0})},updateDistanceFilterAffectedViews:function(e,t){this.triggerMethod("update:renderAffectedViews",{endpoint:t.endpoint,newUrl:t.newUrl,isFullPageRefresh:t.isFullPageRefresh})},_onFacetLinkClick:function(e,t){var i=void 0,n="checkbox-label",o="selected";if(e.parents("."+A).hasClass("single-selection")){var a=e.parents(".facet-value");a.siblings().removeClass(o),a.addClass(o)}if(t===n||e.parents().hasClass(n)){var s=(t===n?e:e.parents("label")).parent().find("input:checkbox");s.prop("checked")?s.prop("checked",!1):s.prop("checked",!0)}i=t===n?e.find("a"):"facet-item-link"===t?e:e.closest("a");var r=i.attr("data-click-url")?i.attr("data-click-url"):i.attr("href");this._updateModel(r)},_switchClass:function(e,t,i){return e.addClass(t).removeClass(i)},_toggleSeeMoreOrSeeLessFacetItems:function(e,t,i,n){t.hasClass(R)?(this._switchClass(t,j,R).text(b.get("seeLess")),i.find("."+P).removeClass(""+B+" "+P)):(e.stopImmediatePropagation(),this._switchClass(t,R,j).text(b.get("seeMore")),i.children("."+M).slice(n).addClass(P),i.children("."+M).slice(n).one(o.transitionend(),function(e){f(e.target).hasClass(P)&&i.children("."+M).slice(n).addClass(B)}))},_toggleOpenOrCloseFacetSection:function(e,t,i){var n=t.children("."+j),o=e.find("li-icon");o.attr("class")===I?(this._changeSvgIcon(o,E,V),t.addClass(P),t.children().addClass(P),n&&this._switchClass(n,R,j).text(b.get("seeMore"))):(this._changeSvgIcon(o,I,L),t.removeClass(P),t.hasClass(D)?t.children("li").removeClass(P):(t.children("li").slice(0,i).removeClass(P),t.find(".payscale-logo").removeClass(P),t.children("li").length>i&&t.children("."+R).removeClass(P)))},_toggleOpenOrCloseMobileFacetSection:function(e,t,i){var n=t.children("."+j),a=e.find("li-icon");a.attr("class")===I?(this._changeSvgIcon(a,E,V),t.addClass(P),t.children().addClass(P),t.children().one(o.transitionend(),function(e){f(e.target).hasClass(P)&&t.children().addClass(B)}),n&&this._switchClass(n,R,j).text(b.get("seeMore"))):(this._changeSvgIcon(a,I,L),t.removeClass(P),t.hasClass(D)?t.children("li").removeClass(B).removeClass(P):(t.children("li").slice(0,i).removeClass(B).removeClass(P),t.children("li").length>i&&t.children("."+R).removeClass(P)))},_toggleFacetTypeahead:function(e){var t=".add-facet-typeahead",i=f(e.target),n=i.parents(t),o=n.find("input:not([readonly])");n.hasClass("open")?(n.removeClass("open"),o.typeahead2("val","")):(n.addClass("open"),o.focus())},_addQueryParam:function(e,t,i,n){if(e.includes(t)){var o=new RegExp(""+t+"=([^&]+)");return i=encodeURIComponent(","+i),e.replace(o,function(e,o){return""+t+"="+o+i+"&trk="+n})}var a=e.includes("?")?"&":"?";return i=encodeURIComponent(i),""+e+a+t+"="+i+"&trk="+n},_onFacetListClick:function(e){if(!f(e.target).hasClass(F)){e.preventDefault();var t=".add-facet-typeahead",i=f(e.target),n=i.attr("class"),o="facet-section-toggle";"facet-display-name"===n&&(i=f(e.target).parents("."+o),n=o);var a=i.parents("."+A),s=i.siblings("."+A+", "+t),r=this.model.get("numberOfFacetItemsToShowByDefault")+1;i.hasClass(R)||i.hasClass(j)?this._toggleSeeMoreOrSeeLessFacetItems(e,i,a,r):"facet-section-toggle"===n?this.model.get("isMobilePhone")?this._toggleOpenOrCloseMobileFacetSection(i,s,r):this._toggleOpenOrCloseFacetSection(i,s,r):(i.hasClass("checkbox-label")||i.hasClass("facet-item-link")||i.hasClass(A)||i.hasClass("facet-display-value")||i.hasClass("facet-count"))&&this._onFacetLinkClick(i,n)}},onBeforeShow:function(){var e=this,t=new C,i=this.model.get("isDesktop"),n=this.model.get("isJserpSourceSansFontEnabled"),o=this.model.get("isTransparentRightRailDesktopEnabled");if(t.fetch().then(function(t){t.set({isDesktop:i,isTransparentRightRailDesktopEnabled:o}),e.getRegion("distanceFilter").show(new k({model:t}))}),i){var a=new x;a.fetch().then(function(t){t.set({isDesktop:i,isJserpSourceSansFontEnabled:n}),e.getRegion("relatedSearches").show(new S({model:t}))})}},onShow:function(){this.triggerMethod("inform:facetsViewDone","facetsView")}})}),define("app/behaviors/jobAlerts",["exports","module","marionette","app/utils/debug","jquery","radio","app/helpers/modalHelper","app/views/search/createJobAlertModalLayoutView","app/views/search/manageJobAlertsModalLayoutView","app/helpers/alertHelper","i18n"],function(e,t,i,n,o,a,s,r,l,d,c){"use strict";var u=function(e){return e&&e.__esModule?e["default"]:e},p=u(i),h=u(n),m=u(o),g=u(a),f=u(r),v=u(l),b=u(c);t.exports=p.Behavior.extend({ui:{form:".job-alert-create-form",csrfToken:'input[name="csrfToken"]'},events:{"click .create-job-alert-button":"createJobAlertHandler","click .manage-job-alerts-link":"manageJobAlertsHandler"},triggers:{showManageModal:"showManageModal"},createJobAlertHandler:function(e){var t=this;if(e.preventDefault(),this.view.model.get("isLoggedIn"))this.view.model.get("isDesktop")?s.showViewInModal({title:this._setModalHeaderTitle(),view:new f({model:this.view.model}),customClass:"create-job-alert-modal",replaceContent:!1}):(this.view.model.set({showCreateModal:!0,createJobAlertModalHeading:this._setModalHeaderTitle()}),this.view.triggerMethod("action:showMobileJobAlertScreen",{model:this.view.model,view:"create"}));else{var i=this.ui.form,n=i.attr("method"),o=encodeURIComponent(this.ui.csrfToken.val()),a=""+i.attr("action")+"?csrfToken="+o;this.view.model.createJobAlert(a,n,i).done(function(e){var i="";i=t.view.model.get("isLoggedIn")?t.view.model.get("geoLocation").cityName?"SUCCESS_CREATE":"SUCCESS_CREATE_NO_LOCATION":"SUCCESS_CREATE_GUEST";var n=t.view.model.jobAlertResponseMap[i];d.showAlert({message:b.get(n.i18n_key),type:n.type,dismiss:!0,timeout:!1,clearBuffer:!0})}.bind(this)).fail(function(e){var i=e.responseJSON?e.responseJSON.error:"NO_RESPONSE",n=t.view.model.getAlertErrorResponse(i,e.responseJSON),o=null,a=null,s=null;"MEMBER_EMAIL_ADDRESS"===i&&(o=b.get("signIn"),a=e.responseJSON.redirectUrl,s="sign-in-link"),d.showAlert({message:b.get(n.i18n_key),type:n.type,dismiss:!0,timeout:!1,clearBuffer:!0,messageLinkText:o,messageLink:a,linkClass:s})}.bind(this))}},manageJobAlertsHandler:function(e){var t=this;e&&e.preventDefault();var i=this.ui.form,n=i.attr("action"),o="GET";this.view.model.fetchJobAlerts(n,o,i).done(function(e){t.view.model.get("isDesktop")?s.showViewInModal({title:b.get("job_alert_manage_modal_heading"),view:new v({jobs:e,model:t.view.model}),customClass:"manage-job-alerts-modal manage-job-alerts",replaceContent:!1}):(t.view.model.set({showMobileManageScreen:!0,jobAlerts:e.jobAlerts,isNotDesktop:!t.view.model.get("isDesktop")}),t.view.triggerMethod("action:showMobileJobAlertScreen",{model:t.view.model,view:"manage"}))}).fail(function(e){h.log(e)})},_sendAjaxRequest:function(e,t,i){return m.ajax({url:i?i:e.attr("action"),method:e.attr("method"),type:e.attr("method"),headers:{"X-IsAJAXForm":1,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:t})},_setModalHeaderTitle:function(){var e=this.view.model.get("searchKeywords"),t=this.view.model.get("searchLocation"),i=Boolean(this.view.model.get("facets")),n="";return n=e&&t?"job_alert_create_modal_heading_both":e?"job_alert_create_modal_heading_keywords":t?"job_alert_create_modal_heading_location":"job_alert_create_modal_heading_neither",n=i?""+n+"_filters":n,b.get(n)},onShow:function(){var e=this;if((m(this.view.el).hasClass("jserp-job-alerts-left-rail")||!this.view.model.get("isDesktop")&&m(this.view.el).hasClass("jserp-job-alerts-footer"))&&g.channel("alert").comply("alert:linkClicked",function(t){var i=t.linkClass;"over-quota-manage-alerts"===i&&e.manageJobAlertsHandler()}.bind(this)),this.view.model.get("showManagementModal")){var t=this.ui.form,i=this.view.model.get("isLoggedIn")?t.attr("action"):""+t.attr("action")+"?authToken="+this.view.model.get("guestAuthToken"),n="GET";this.view.model.get("isDesktop")?this.view.triggerMethod("showManageModal",{url:i,type:n}):this.view.model.fetchJobAlerts(i,n,t).done(function(t){e.view.model.set({showMobileManageScreen:!0,jobAlerts:t.jobAlerts,isNotDesktop:!e.view.model.get("isDesktop")}),e.view.triggerMethod("action:showMobileJobAlertScreen",{model:e.view.model,view:"manage"})}).fail(function(e){h.log(e)})}this.view.model.get("showCreateModal")&&!this.view.model.get("isDesktop")&&(this.view.model.set({showCreateModal:!0,createJobAlertModalHeading:this._setModalHeaderTitle()}),this.view.triggerMethod("action:showMobileJobAlertScreen",{model:this.view.model,view:"create",onLoad:!0}))}})}),define("app/views/search/jobAlertsLeftRailView",["exports","module","marionette","app/helpers/modalHelper","app/behaviors/jobAlerts"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(o);t.exports=s.ItemView.extend({template:"templates/partial/guest_job_search/left_rail_alerts_section",className:"jserp-job-alerts-left-rail",modelEvents:{change:"render"},behaviors:{jobAlertsBehavior:{behaviorClass:r}}})}),define("app/views/search/jobAlertsFooterView",["exports","module","marionette","app/behaviors/jobAlerts","i18n"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=a(o);t.exports=s.ItemView.extend({template:"templates/partial/guest_job_search/footer_alerts_section",className:"jserp-job-alerts-footer",modelEvents:{change:"render"},behaviors:{jobAlertsBehavior:{behaviorClass:r}},onRender:function(){if(!this.model.get("isLoggedIn")){var e=null;e=this.model.get("searchLocation")&&this.model.get("searchKeywords")?l.get("job_alert_footer_guest_create_both"):this.model.get("searchLocation")?l.get("job_alert_footer_guest_create_location"):this.model.get("searchKeywords")?l.get("job_alert_footer_guest_create_keywords"):l.get("job_alert_footer_guest_create_none"),this.model.set("footerJobAlertHeading",e)}}})}),define("app/views/search/jobAlertsActivationView",["exports","module","marionette","app/behaviors/jobAlerts"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);o(n);t.exports=a.ItemView.extend({template:"templates/partial/guest_job_search/hero_alerts_section",className:"jserp-job-alerts-activation-section",ui:{cancelButton:".job-alert-hero-cancel-icon"},events:{"click @ui.cancelButton":"cancelHandler"},modelEvents:{change:"render"},cancelHandler:function(e){e.stopPropagation(),this.destroy()}})}),define("app/views/search/jobAlertsDeltaBannerView",["exports","module","marionette","app/behaviors/jobAlerts","jquery"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=(a(n),a(o));t.exports=s.ItemView.extend({template:"templates/partial/guest_job_search/job_alerts_delta_banner",className:"jserp-job-alerts-delta-banner-section",ui:{deltaBannerViewAllLink:".job-alert-hero-delta-banner-view-all-link"},events:{"click @ui.deltaBannerViewAllLink":"_onViewAllLinkClicked"},modelEvents:{change:"render"},triggers:{"update renderAffectedViews":"update:renderAffectedViews"},_updateModel:function(e){var t=e.replace(/search\?/gi,"searchRefresh?refreshType=fullpage&");this.triggerMethod("update:renderAffectedViews",{endpoint:t,newUrl:e,isFullPageRefresh:!0})},_onViewAllLinkClicked:function(e){e.preventDefault();var t=r(e.target).attr("href");this._updateModel(t)}})}),define("app/views/search/similarJobsView",["exports","module","marionette","jquery","app/behaviors/lazyLoadImages"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=a(i),r=a(n),l=a(o);t.exports=s.ItemView.extend({template:"templates/partial/guest_job_search/jserp_similar_jobs",ui:{dismissLink:".similar-jobs-dismiss"},events:{"click @ui.dismissLink":"_onDismissClick"},triggers:{"update renderAffectedViews":"update:renderAffectedViews"},modelEvents:{change:"render"},behaviors:{lazyLoadImagesBehavior:{behaviorClass:l}},_updateModel:function(e){var t=e.replace(/view-all/gi,"searchRefresh?refreshType=fullpage&");this.triggerMethod("update:renderAffectedViews",{endpoint:t,newUrl:e,isFullPageRefresh:!0})},_onDismissClick:function(e){e.preventDefault();var t=r(e.currentTarget).attr("href");this._updateModel(t)}})}),define("app/views/search/searchResultsView",["exports","module","marionette","jquery","app/behaviors/tracking","app/behaviors/lazyLoadImages"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(o),c=s(a),u=!1;t.exports=r.ItemView.extend({template:"templates/partial/guest_job_search/jserp_results_section",className:"search-results-parent",ui:{facetSuggestionButton:".apply-inline-facet-btn",searchResultsList:".search-results:not(.empty)",worldwideSearch:".worldwide-search-link a"},events:{"click @ui.facetSuggestionButton":"_onFacetSuggestionClick","click @ui.worldwideSearch":"_onWorldwideSearchClick","touchmove @ui.searchResultsList":"_handleScroll","touchend @ui.searchResultsList":"_mobileSearchResultTouch"},behaviors:{trackingBehavior:{behaviorClass:d},lazyLoadImagesBehavior:{behaviorClass:c}},triggers:{"inform searchResultsViewDone":"inform:searchResultsViewDone","update renderAffectedViews":"update:renderAffectedViews"},modelEvents:{change:"render"},_handleScroll:function(){u||(u=!0)},_mobileSearchResultTouch:function(e){var t=l(e.target);this.model.get("isMobilePhone")&&(e.preventDefault(),u?u=!1:location.href=t.closest("li").data("url"))},_updateModel:function(e){var t=e.replace(/search\?/gi,"searchRefresh?refreshType=fullpage&");this.triggerMethod("update:renderAffectedViews",{endpoint:t,newUrl:e,isFullPageRefresh:!0})},_onFacetSuggestionClick:function(e){e.preventDefault();var t=l(e.target).attr("href");this._updateModel(t)},_onWorldwideSearchClick:function(e){e.preventDefault();var t=l(e.currentTarget),i=t.attr("data-click-url")?t.attr("data-click-url"):t.attr("href"),n=i.replace(/search\?/gi,"searchRefresh?refreshType=fullpage&");this.triggerMethod("update:renderAffectedViews",{endpoint:n,newUrl:i,isFullPageRefresh:!0})},onShow:function(){this.triggerMethod("inform:searchResultsViewDone","searchResultsView"),l("#application-body").addClass("render-complete")}})}),define("app/views/search/paginationView",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.ItemView.extend({template:"templates/partial/guest_job_search/jserp_pagination_section",modelEvents:{change:"render"},ui:{pageNumberLink:".page-number a",nextButton:".next-btn",prevButton:".prev-btn"},events:{"click @ui.pageNumberLink":"_onPaginationClick","click @ui.nextButton":"_onPaginationClick","click @ui.prevButton":"_onPaginationClick"},triggers:{"update renderAffectedViews":"update:renderAffectedViews"},_onPaginationClick:function(e){e.preventDefault();var t=s(e.currentTarget).attr("href"),i=t.replace(/search\?/gi,"searchRefresh?refreshType=fullpage&");this.triggerMethod("update:renderAffectedViews",{endpoint:i,newUrl:t,isFullPageRefresh:!0})}})}),define("app/views/search/jserpAdView",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);o(n);t.exports=a.ItemView.extend({template:"templates/partial/guest_job_search/jserp_ad_section",modelEvents:{change:"render"}})}),define("app/views/search/breadcrumbView",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.ItemView.extend({template:"templates/partial/guest_job_search/jserp_breadcrumb_section",ui:{breadcrumbLink:".breadcrumb-item a"},events:{"click @ui.breadcrumbLink":"_onBreadcrumbClick"},tiggers:{"update renderAffectedViews":"update:renderAffectedViews"},modelEvents:{change:"render"},_updateModel:function(e,t){var i=e.replace(/jobs\/(.*)\?/,"jobs/search?keywords="+t+"&"),n=e.replace(/jobs\/(.*)\?/,"jobs/searchRefresh?refreshType=fullpage&keywords="+t+"&");this.triggerMethod("update:renderAffectedViews",{endpoint:n,newUrl:i,isFullPageRefresh:!0})},_onBreadcrumbClick:function(e){var t=s(e.currentTarget),i=t.attr("href").match(/\/jobs\/(.*)/)[0],n=i.match(/jobs\/(.*)\-jobs/)[1];i&&n&&(e.preventDefault(),this._updateModel(i,n))}})}),define("app/views/search/feedback/completeModalView",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.ItemView.extend({template:"templates/partial/app/search/feedback/complete_modal",feedbackSectionClassName:".feedback-section",feedbackBannerClassName:".feedback-banner-section",onRender:function(){s(this.feedbackBannerClassName).addClass("hidden"),s(this.feedbackSectionClassName).addClass("hidden")}})}),define("app/views/search/feedback/feedbackBaseView",["exports","module","marionette","radio","jquery","app/views/search/feedback/completeModalView","app/helpers/modalHelper"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=(r(n),r(o)),c=r(a);t.exports=l.ItemView.extend({template:!1,feedbackEndpoint:"/lite/feedback-save",subject:"JSERP Feedback",showCompleteFeedbackModal:function(e){s.showViewInModal({view:new c({model:e}),customClass:"jserp-feedback-complete-modal"})},submitFeedback:function(e,t,i,n){if(e&&t){var o=this.getSessionData();o.feedback=e;var a={subject:this.subject,content:this.formatFeedback(o),csrfToken:t};d.ajax({type:"POST",url:this.feedbackEndpoint,data:d.param(a),headers:{"X-IsAJAXForm":1}}).then(i,n)}},formatFeedback:function(e){return JSON.stringify(e,null,"	")},getSessionData:function(){return{url:window?window.location.href:"Window object was not defined",browser:navigator?navigator.userAgent:"Navigator object was not defined",memberId:this.model.get("memberId"),geoLocation:this.model.get("geoLocation").countryName,searchQuery:this.model.get("searchQueryParams").keywords,searchLocation:this.model.get("searchQueryParams").locationId,isPremium:this.model.get("isPremium"),timeStamp:(new Date).toString(),pageKey:this.model.get("pageKey"),facetRail:this.model.get("isRightRailDesktopEnabled")?"right":"left",transparentRightRail:this.model.get("isTransparentRightRailDesktopEnabled")}}})}),define("app/views/search/feedback/feedbackModalView",["exports","module","marionette","underscore","jquery","app/helpers/modalHelper","app/views/search/feedback/feedbackBaseView"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=(r(i),r(n)),d=r(o),c=r(s);t.exports=c.extend({template:"templates/partial/app/search/feedback/feedback_modal",hiddenClass:"hidden",boldClass:"bold",ui:{label:".choice-label",checkbox:".choice",textarea:".description-box",csrfToken:'input[name="csrfToken"]',skipButton:"#feedback-skip-button",sendButton:"#feedback-send-button"},events:{"click @ui.label":"showTextArea","click @ui.skipButton":"sendFeedbackHandler","click @ui.sendButton":"sendFeedbackHandler"},initialize:function(){this.storage=this.model.get("localStorage"),this.feedbackLocalStorageConstants=this.model.get("feedbackLocalStorageConstants")},sendFeedbackHandler:function(e){this.storage&&this.storage.set(this.feedbackLocalStorageConstants.isFeedbackSubmitted,!0);var t=d(e.target),i=this.model,n={likeJserp:this.model.get("likeJserp")};t.is(this.ui.sendButton)&&(n.checkboxes=this.getCheckboxData());var o=this.ui.csrfToken.val();this.submitFeedback(n,o,this.showCompleteFeedbackModal(i))},getCheckboxData:function(){return l.chain(this.ui.checkbox).filter(function(e){return d(e).find(".choice-checkbox").is(":checked")}).map(function(e){var t=d(e).find("textarea"),i=t.attr("name"),n=t.val();return{checkbox:i,comments:n}}).value()},showTextArea:function(e){e.preventDefault();var t=d(e.currentTarget),i=t.siblings(".text-area"),n=t.siblings(".choice-checkbox");i.hasClass(this.hiddenClass)?(i.removeClass(this.hiddenClass),t.addClass(this.boldClass),n.prop("checked",!0)):(i.addClass(this.hiddenClass),t.removeClass(this.boldClass),n.prop("checked",!1))}})}),define("app/behaviors/sticky",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n),r=0,l=!0;t.exports=a.Behavior.extend({defaults:{scrollEvent:"scroll.sticky.behavior",reszieEvent:"resize.sticky.behavior",addedClass:"sticky-fixed",addTransition:!0,defaultTransition:"top 0.3s linear",topOffset:24},onShow:function(){var e=this;this.$window=s(window),this.$banner=s("#header-banner"),this.$navigation=s("#header-navigation"),this.$window.on(""+this.options.scrollEvent+" "+this.options.stickyEvent,function(){return e.checkForUpdate()})},checkForUpdate:function(){var e=this;r=window.pageYOffset,l&&requestAnimationFrame(function(){return e.stickyUpdate()}),l=!1},stickyUpdate:function(){if(!this.$el.hasClass(this.options.addedClass)){var e=this.getElementState(this.$el),t=e.position,i=e.css;this.position=t,this.defaultCss=i}this.updateState({$banner:this.$banner,$navigation:this.$navigation,position:this.position,addedClass:this.options.addedClass,defaultCss:this.defaultCss,$el:this.$el}),l=!0},getElementState:function(e){var t=this.options.addTransition?["top","position","transition"]:["top","position"],i=e.css(t);return{position:e.offset(),css:i}},updateState:function(e){var t=e.$banner,i=e.$navigation,n=e.defaultCss,o=e.position,a=e.addedClass,s=e.$el,l=this.getBannerOffset(t),d=this.getNavigationOffset(i),c=l+d+this.options.topOffset;if(r>=o.top-c){var u={position:"fixed",top:""+c+"px"};this.options.addTransition&&(u.transition=this.options.defaultTransition),s.addClass(a).css(u)}else s.removeClass(a).css(n)},getBannerOffset:function(e){var t="fixed"===e.css("position"),i=t?e.outerHeight(!0):0;return i},getNavigationOffset:function(e){var t="fixed"===e.css("position")&&!e.hasClass("slide-up"),i=t?e.outerHeight(!0):0;return i},onDestroy:function(){this.$window.off(""+this.options.scrollEvent+" "+this.options.stickyEvent)}})}),define("app/views/search/feedback/feedbackView",["exports","module","marionette","jquery","app/helpers/modalHelper","app/views/search/feedback/feedbackModalView","app/behaviors/tracking","app/behaviors/sticky","i18n"],function(e,t,i,n,o,a,s,r,l){"use strict";var d=function(e){return e&&e.__esModule?e["default"]:e},c=d(i),u=d(n),p=d(a),h=d(s),m=d(r),g=d(l);t.exports=c.ItemView.extend({template:"templates/partial/app/search/feedback/feedback",className:"feedback",ui:{likeButton:"#feedback-like-box",dislikeButton:"#feedback-dislike-box"},behaviors:function f(){var e=this.options.model.get("isSticky"),f={trackingBehavior:{behaviorClass:h}};return e&&(f.stickyBehavior={behaviorClass:m}),f},events:{"click @ui.likeButton":"feedbackHandler","click @ui.dislikeButton":"feedbackHandler"},feedbackHandler:function(e){var t=u(e.currentTarget),i=this.model,n=t.is(this.ui.likeButton);i.set("likeJserp",n),n?this.triggerMethod("click:likeButton"):this.triggerMethod("click:dislikeButton"),o.showViewInModal({title:g.get("feedback_letting_us_know"),view:new p({model:i}),customClass:"jserp-feedback-modal"})}})}),define("app/views/search/feedback/feedbackBannerView",["exports","module","marionette","radio","jquery","app/behaviors/tracking","app/behaviors/Tooltip/Hovercard","app/views/search/feedback/feedbackView","app/utils/vendorPrefix"],function(e,t,i,n,o,a,s,r,l){"use strict";var d=function(e){return e&&e.__esModule?e["default"]:e},c=d(i),u=(d(n),d(o)),p=d(a),h=d(s),m=d(r);t.exports=c.LayoutView.extend({template:"templates/partial/app/search/feedback/feedback_banner",className:"feedback-banner-container",hiddenClass:"hidden",displayNoneClass:"none",regions:{feedback:".feedback-hovercard-section"},ui:{actionButton:".feedback-action-click",dismissButton:".icon-dismiss",feedbackHoverCard:"#feedback-hover-content"},behaviors:{trackingBehavior:{behaviorClass:p},Hovercard:{behaviorClass:h,tooltipTrigger:"hover-persistent",returnTooltip:!0}},events:{"click @ui.dismissButton":"dismissBanner"},childEvents:{"click:likeButton":"toggleHoverCard","click:dislikeButton":"toggleHoverCard"},initialize:function(){this.storage=this.model.get("localStorage"),this.feedbackLocalStorageConstants=this.model.get("feedbackLocalStorageConstants")},onBehaviorTooltipCreated:function(e){this.$feedbackTooltip=e},toggleHoverCard:function(){this.$feedbackTooltip&&this.$feedbackTooltip.toggle()},onBeforeShow:function(){var e=u.extend(!0,{},this.model);e.set("disableHeader",!0),this.getRegion("feedback").show(new m({model:e}))},dismissBanner:function(){var e=this,t=u(".feedback-banner-container");t.addClass(this.hiddenClass).one("transitionend",function(){return t.addClass(e.displayNoneClass)}),this.storage&&this.storage.set(this.feedbackLocalStorageConstants.isBannerEnabled,!1)}})}),define("app/views/search/feedback/feedbackSubmittedModalView",["exports","module","marionette","app/views/search/feedback/feedbackBaseView","app/helpers/modalHelper"],function(e,t,i,n,o){"use strict";var a=function(e){return e&&e.__esModule?e["default"]:e},s=(a(i),a(n));t.exports=s.extend({template:"templates/partial/app/search/feedback/submitted_modal",ui:{closeButton:".feedback-cancel-button",sendButton:".feedback-send-button",csrfToken:'input[name="csrfToken"]',textarea:"#submitted-feedback-textarea"},events:{"click @ui.closeButton":o.closeModal,"click @ui.sendButton":"sendButtonHandler","input @ui.textarea":"setSendButtonState"},onShow:function(){this.ui.textarea.focus()},setSendButtonState:function(){var e=this.ui.textarea.val(),t=""===e;this.ui.sendButton.prop("disabled",t)},sendButtonHandler:function(){var e=this.ui.textarea.val();if(e){var t=this.model,i=this.ui.csrfToken.val();this.submitFeedback(e,i,this.showCompleteFeedbackModal(t))}}})}),define("app/views/search/feedback/feedbackSubmittedView",["exports","module","marionette","i18n","app/helpers/modalHelper","app/views/search/feedback/feedbackSubmittedModalView"],function(e,t,i,n,o,a){"use strict";var s=function(e){return e&&e.__esModule?e["default"]:e},r=s(i),l=s(n),d=s(a);t.exports=r.ItemView.extend({template:"templates/partial/app/search/feedback/submitted",className:"feedback",ui:{submitButton:".send-feedback-button"},events:{"click @ui.submitButton":"sendButtonHandler"},sendButtonHandler:function(){var e=this.model;o.showViewInModal({title:l.get("sendFeedback"),view:new d({model:e}),customClass:"jserp-feedback-modal"})}})}),define("app/views/search/spellCorrectView",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.ItemView.extend({template:"templates/partial/guest_job_search/jserp_spelling_suggestions",ui:{suggestionLink:".spelling-suggestions-container a"},events:{"click @ui.suggestionLink":"_onSuggestionClick"},tiggers:{"update renderAffectedViews":"update:renderAffectedViews"},modelEvents:{change:"render"},_updateModel:function(e){var t=e.replace(/search\?/gi,"searchRefresh?refreshType=fullpage&");this.triggerMethod("update:renderAffectedViews",{endpoint:t,newUrl:e,isFullPageRefresh:!0})},_onSuggestionClick:function(e){e.preventDefault();var t=s(e.currentTarget).attr("href");this._updateModel(t)}})}),define("app/views/search/marketplaceView",["exports","module","marionette","jquery"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i);o(n);t.exports=a.ItemView.extend({template:"templates/partial/app/search/marketplace"})}),define("app/controllers/jobsSearchController",["exports","module","marionette","backbone","jquery","app/services/ds","app/factories/modelFactory","app/models/embeddedContentModel","jsBeacon","app/utils/googleAnalytics","app/services/localStorage","app/helpers/modalHelper","app/models/search/globalVariableModel","app/models/search/searchGuestChromeModel","app/models/search/searchModel","app/models/search/currentContextHeaderModel","app/models/search/distanceFilterModel","app/models/search/searchResultsModel","app/models/search/facetsModel","app/models/search/paginationModel","app/models/search/breadcrumbModel","app/models/search/jobAlertsModel","app/models/search/feedbackModel","app/models/search/searchViewModel","app/models/search/similarJobsModel","app/models/search/spellCorrectModel","app/models/search/metaTagModel","app/models/search/relatedSearchesModel","app/views/search/layoutView","app/views/search/i18nView","app/views/shared/guestChromeView","app/views/shared/twoBoxSearchView","app/views/search/sortView","app/views/search/currentContextHeaderView","app/views/search/distanceFilterView","app/views/search/facetPillsView","app/views/search/facetsView","app/views/search/jobAlertsLeftRailView","app/views/search/jobAlertsFooterView","app/views/search/jobAlertsActivationView","app/views/search/jobAlertsDeltaBannerView","app/views/search/similarJobsView","app/views/search/manageJobAlertsModalLayoutView","app/views/search/createJobAlertModalLayoutView","app/views/search/jobAlertsUnsubscribeModalLayoutView","app/views/search/searchResultsView","app/views/search/paginationView","app/views/search/jserpAdView","app/views/search/breadcrumbView","app/views/search/feedback/feedbackBannerView","app/views/search/feedback/feedbackView","app/views/search/feedback/feedbackSubmittedView","app/views/search/spellCorrectView","app/views/search/relatedSearchesView","app/views/search/marketplaceView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g,f,v,b,y,w,_,C,k,x,S,M,T,I,E,A,P,R,j,V,L,B,D,F,N,O,H,J,U,z,q,$,K,W,G,Y,Q,X,Z,ee){
"use strict";var te=function(e){return e&&e.__esModule?e["default"]:e},ie=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ne=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),oe=(te(i),te(n),te(o)),ae=te(a),se=(te(s),te(r),te(l)),re=te(d),le=te(c),de=te(p),ce=te(h),ue=(te(m),te(g)),pe=(te(f),te(v)),he=te(b),me=te(y),ge=te(w),fe=te(_),ve=te(C),be=te(k),ye=te(x),we=te(S),_e=te(M),Ce=te(T),ke=te(I),xe=te(E),Se=te(A),Me=te(P),Te=te(R),Ie=te(j),Ee=(te(V),te(L)),Ae=te(B),Pe=te(D),Re=te(F),je=te(N),Ve=te(O),Le=te(H),Be=(te(J),te(U)),De=(te(z),te(q)),Fe=te($),Ne=te(K),Oe=te(W),He=te(G),Je=te(Y),Ue=te(Q),ze=te(X),qe=te(Z),$e=te(ee),Ke=function(){function e(t){ie(this,e),this._app=t}return ne(e,[{key:"index",value:function(){var e=this,t=""+window.location.pathname+window.location.search;return ae.populate(t,!0).then(function(t){oe("body").removeClass("transition-overlay"),e.indexOverride()})}},{key:"indexOverride",value:function(){var e=this,t=new de;t.fetch().then(function(t){var i=new ke({model:t});e._app.layout.getRegion("contentRegion").show(i),e._layout=i;var n=(t.get("geoLocation").regionName,t.get("geoLocation").cityName),o=(t.get("geoLocation").stateCode,t.get("geoLocation").stateName,t.get("twoBoxDisplayLocation")),a=t.get("keywords"),s=t.get("locationId"),r=t.get("isMobilePhone"),l=t.get("isTablet"),d=t.get("isDesktop"),c=t.get("currentTime"),p=t.get("isJserpSourceSansFontEnabled"),h=t.get("isSortEnabled"),m=t.get("isJymbiiFlavorEnabled"),g=t.get("isHiddenGemFlavorEnabled"),f=t.get("isPlayStreamingEnabled"),v=t.get("isJserpAdEnabled"),b=t.get("isJserpAddLocationEnabled"),y=t.get("isJserpFacetSuggestionEnabled"),w=d&&(t.get("isJserpRightRailEnabled")||t.get("isJserpTransparentRightRailEnabled")),_=d&&t.get("isJserpTransparentRightRailEnabled"),C=t.get("isPostalCodeEnabled"),k=t.get("jserpShortFacetCount"),x=t.get("isJobAlertsEnabled"),S=t.get("isLoggedIn"),M=t.get("isCrawler"),T=t.get("isFacetCollapseEnabled"),I=t.get("isFacetPillsEnabled"),E=t.get("disableNofollowTag"),A=t.get("pageKey"),P=t.get("isPremium"),R=t.get("showRecentSearch"),j=t.get("isSearchHistoryTypeaheadEnabled"),V=t.get("experimentalInApplyCopy"),L=!0,B=new le,D={counter:"feedbackBannerCounter",isBannerEnabled:"isFeedbackBannerEnabled",isFeedbackSubmitted:"isFeedbackSubmitted",limit:10},F=o,N=t.get("experimentalTwoBoxTypeaheadEndpoint"),O=t.get("isPassStandardizedLocationToTypeaheadEnabled"),H=t.get("standardizedLocation"),J=t.get("showDeltaBanner"),U=t.get("searchQueryParams").sortBy||"R";if(t.set({searchLocation:F,searchLocationId:s,searchKeywords:a,isJserp:L,cityName:n,pageKey:A,sortBy:U}),S||M||!se||se.sendTrackingRequest(),i.getRegion("i18n").show(new xe({model:t})),d&&v&&i.getRegion("jserpAd").show(new Ne({model:t})),!d){var z=new Ce;if(z.fetch().then(function(e){e.set({isDesktop:d,isJserpSourceSansFontEnabled:p}),i.getRegion("relatedSearches").show(new qe({model:e}))}),S)i.getRegion("mobileChrome").show(new Se({model:t}));else{var q=new ce;q.fetch().then(function(e){i.getRegion("mobileChrome").show(new Se({model:e}))})}}var $=new _e;$.fetch().then(function(e){e.get("marketplaceLink")&&i.getRegion("marketplace").show(new $e({model:e}));var t=e.get("title");oe("title").first().text(""+t+" | LinkedIn"),oe('meta[property="og:title"]').attr("content",t),oe('link[rel="canonical"]').attr("href",e.get("canonical")),oe('link[rel="alternate"]').attr("href","android-app://com.linkedin.android.jobs.jobseeker/https/"+e.get("appindexUrl")),oe('meta[property="og:description"], meta[name="description"]').attr("content",e.get("description")),oe('meta[property="appindexUrl"], meta[property="og:url"]').attr("content",e.get("appindexUrl")),re&&re.initSelfHosted(e.get("gaPageKey"))});var K=new be;if(K.fetch().then(function(e){e.set({isJserp:L,isJserpSourceSansFontEnabled:p,showRecentSearch:R,searchLocation:F,searchLocationId:s,isSearchHistoryTypeaheadEnabled:j,searchKeywords:a,isMobilePhone:r,isDesktop:d,isTablet:l,experimentalTwoBoxTypeaheadEndpoint:N,isPassStandardizedLocationToTypeaheadEnabled:O,standardizedLocation:H,isPlayStreamingEnabled:f,isPostalCodeEnabled:C,pageKey:A}),i.getRegion("search").show(new Me({model:e}))}),!r&&!J){var W=new ue;W.fetch().then(function(e){i.getRegion("currentContextHeader").show(new Ie({model:e}))}),h&&i.getRegion("sort").show(new Te({model:t}))}var G=new we;G.fetch().then(function(e){i.getRegion("spellCorrect").show(new ze({model:e}))});var Y=new pe;Y.fetch().then(function(e){var t=e.get("facetSuggestion");e.set({isPlayStreamingEnabled:f,currentTime:c,isDesktop:d,isMobilePhone:r,isJserpSourceSansFontEnabled:p,disableNofollowTag:E,isJymbiiFlavorEnabled:m,isHiddenGemFlavorEnabled:g,isFacetSuggestionEnabled:y,experimentalInApplyCopy:V,facetSuggestionText:t.facetSuggestionText,facetSuggestionLink:t.facetSuggestionLink}),i.getRegion("results").show(new De({model:e}))});var Q=new he;Q.fetch().then(function(e){e.set({isDesktop:d,isTablet:l,isMobilePhone:r,isLoggedIn:S,isCrawler:M,numberOfFacetItemsToShowByDefault:k-1,isJobAlertsEnabled:x,searchKeywords:a,searchLocation:F,isJserpSourceSansFontEnabled:p,isPlayStreamingEnabled:f,isRightRailDesktopEnabled:w,isTransparentRightRailDesktopEnabled:_,isJserpAddLocationEnabled:b,isFacetCollapseEnabled:T,showDeltaBanner:J}),i.getRegion("facets").show(new Ae({model:e})),p&&I&&i.getRegion("facetPills").show(new Ee({model:e}))});var X=new me;X.fetch().then(function(e){e.set({isJserpSourceSansFontEnabled:p}),i.getRegion("pagination").show(new Fe({model:e}))});var Z=new fe;if(Z.fetch().then(function(e){e.set({searchKeywords:a,searchLocation:F,isPlayStreamingEnabled:f,isTransparentRightRailDesktopEnabled:_,isLoggedIn:S,isDesktop:d,isMobilePhone:r,jobAlertLabel:e.get("label"),jobAlertHeroJoinUrl:e.get("joinUrl"),deltaBannerNewJobsText:e.get("bannerTextNewJobs"),deltaBannerExpiredJobsText:e.get("bannerTextExpiredJobs"),deltaBannerErrorMsg:e.get("errorMsg"),deltaBannerViewAllText:e.get("viewAllText"),deltaBannerViewAllLink:e.get("viewAllLink")}),e.get("showActivateBanner")&&i.getRegion("jobAlertsActivation").show(new je({model:e})),J&&i.getRegion("jobAlertsDeltaBanner").show(new Ve({model:e})),d&&(e.get("showCreateModal")&&u.showViewInModal({title:"Create Job Alert",view:new Be({model:e}),customClass:"create-job-alert-modal",replaceContent:!1}),i.getRegion("jobAlertsLeftRail").show(new Pe({model:e}))),a&&i.getRegion("jobAlertsFooter").show(new Re({model:e}))}),d){var ee=new ye;ee.fetch().then(function(e){i.getRegion("similarJobs").show(new Le({model:e}))});var te=new ge;te.fetch().then(function(e){i.getRegion("breadcrumbs").show(new Oe({model:e}))});var ie=new ve;ie.fetch().then(function(e){e.set({isPremium:P,pageKey:A,isRightRailDesktopEnabled:w,isTransparentRightRailDesktopEnabled:_});var t=B.get(D.isFeedbackSubmitted);if("true"===t)i.getRegion("feedback").show(new Ue({model:e}));else{if(e.set({localStorage:B,feedbackLocalStorageConstants:D}),"false"!==B.get(D.isBannerEnabled)){var n=B.get(D.counter)||0;n=parseInt(n),(isNaN(n)||0>n)&&(n=0),null!==n&&n>=0&&n<D.limit&&(n+=1,B.set(D.counter,n),i.getRegion("feedbackBanner").show(new He({model:e})))}e.set("isSticky",!0),i.getRegion("feedback").show(new Je({model:e}))}})}})}}]),e}();t.exports=Ke}),define("app/services/pageLeaveConfirmation",["exports","jquery","i18n"],function(e,t,i){"use strict";function n(e){l(window).on(c,function(){return e}),this._pageLeaveConfirmationMessage=e,this._pageLeaveResetRoute=""+window.location.pathname+window.location.search,this._showPageLeaveConfirmation=!0}function o(){l(window).off(c),this._pageLeaveConfirmationMessage="",this._pageLeaveResetRoute="",this._showPageLeaveConfirmation=!1}function a(){if(this._showPageLeaveConfirmation){var e=this._pageLeaveConfirmationMessage?""+this._pageLeaveConfirmationMessage+"\n\n":this._pageLeaveConfirmationMessage;return e+=d.get("leavePageMessage"),window.confirm(e)}return!0}function s(){return this._pageLeaveResetRoute}var r=function(e){return e&&e.__esModule?e["default"]:e};e.setPageLeaveConfirmation=n,e.removePageLeaveConfirmation=o,e.checkPageLeaveConfirmation=a,e.getPageLeaveResetRoute=s,Object.defineProperty(e,"__esModule",{value:!0});var l=r(t),d=r(i),c="beforeunload.router"}),define("app/utils/extendedRouter",["exports","module","marionette","backbone","jquery","radio","app/services/pageLeaveConfirmation"],function(e,t,i,n,o,a,s){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},l=r(i),d=r(n),c=r(o),u=(r(a),"transition-overlay");t.exports=l.AppRouter.extend({execute:function(e,t,i){var n=s.checkPageLeaveConfirmation();return n?d.Router.prototype.execute.apply(this,arguments):(c("body").removeClass(u),d.history.navigate(s.getPageLeaveResetRoute(),{trigger:!1}),!1)}})}),define("app/router",["exports","jquery","marionette","backbone","radio","jsConfig","app/utils/debug","app/services/tracking","app/controllers/salary/mobileController","app/controllers/salary/desktopController","app/controllers/jobsDetailController","app/controllers/jobsHomeController","app/controllers/jobsSearchController","app/services/rum","app/utils/extendedRouter"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m){"use strict";function g(e){var t={};return P.forEach(function(i){var n=null;n=i.routerConstructor?i.routerConstructor(e):i;for(var o in n.routes)t[o]=n.routes[o]}),t}var f=function(e){return e&&e.__esModule?e["default"]:e};e.getRoutes=g,Object.defineProperty(e,"__esModule",{value:!0});var v=f(t),b=(f(i),f(n)),y=f(o),w=f(a),_=f(s),C=f(l),k=f(d),x=f(c),S=f(u),M=f(p),T=f(m),I="router",E="navigate",A="transition-overlay",P=[{desktop:{controller:k,routes:{"salary(/)":{route:"insights",basePageKey:"salary-base"},"salary/collection(/)":{route:"collection",basePageKey:"salary-collection"},"salary/insights(/)":{route:"insights",basePageKey:"salary-insights"}}},mobile:{controller:C,routes:{"salary(/)":{route:"insightsAuth",basePageKey:"salary-base"},"salary/collection(/)":{route:"collectionAuth",basePageKey:"salary-collection"},"salary/collection/:page(/)":{route:"collectionAuth",basePageKey:"salary-collection"},"salary/insights(/)":{route:"insightsAuth",basePageKey:"salary-insights"},"salary/insights/:page(/)":{route:"insightsAuth",basePageKey:"salary-insights"}}},routerConstructor:function(e){if(e){var t=e.device,i=w.get("lixKeys","salary");if(t&&t.isDesktop)return this.desktop;if(i&&i.isSalaryResponsiveDesktopEnabled)return this.desktop}return this.mobile}},{controller:S,routes:{"comm/jobs(/)":{route:"discover",basePageKey:"jobs_home"},"comm/jobs/home/preferences(/)":{route:"preferences",basePageKey:"jobs_home_preferences"},"jobs(/)":{route:"discover",basePageKey:"jobs_home"},"jobs/home(/)":{route:"discover",basePageKey:"jobs_home"},"jobs/home/discover(/)":{route:"discover",basePageKey:"jobs_home"},"jobs/home/activity(/)":{route:"activity",basePageKey:"jobs_home_activity"},"jobs/home/preferences(/)":{route:"preferences",basePageKey:"jobs_home_preferences"},"jobs2/home/quickPreferences(/)":{route:"preferences",basePageKey:"jobs_home_quick_preferences"}}},{controller:x,routes:{"comm/jobs2/view/:id(/)":{route:"index",basePageKey:"jobs_job_detail_static_pagekey"},"comm/jobs/view/:id(/)":{route:"index",basePageKey:"jobs_job_detail_static_pagekey"},"comm/jobs2/cap/view/:id(/)":{route:"index",basePageKey:"jobs_job_detail_static_pagekey"},"jobs2/view/:id(/)":{route:"index",basePageKey:"jobs_job_detail_static_pagekey"},"jobs/view/:id(/)":{route:"index",basePageKey:"jobs_job_detail_static_pagekey"},"jobs2/cap/view/:id(/)":{route:"index",basePageKey:"jobs_job_detail_static_pagekey"},"jobs/cap/view/:id(/)":{route:"index",basePageKey:"jobs_job_detail_static_pagekey"},"comm/jobs/cap/view/:id(/)":{route:"index",basePageKey:"jobs_job_detail_static_pagekey"}}},{controller:M,routes:{"jobs/view-all(/)":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-jobs":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-jobs-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/search?:query":{route:"index",basePageKey:"jobs_jserp"},"jobs/searchMirror?:query":{route:"index",basePageKey:"jobs_jserp"},"jobs/jobs-in-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-emplois":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-emplois-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/emplois-dans-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-stellen":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-stellen-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/stellen-in-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-empleos":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-empleos-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/empleos-en-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-offerte-di-lavoro":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-offerte-di-lavoro-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/offerte-di-lavoro-qui-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-vagas":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-vagas-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/vagas-em-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-%e8%81%8c%e4%bd%8d":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-%e8%81%8c%e4%bd%8d-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/%e8%81%8c%e4%bd%8d-%e5%9c%a8-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-%E8%81%8C%E4%BD%8D":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-%E8%81%8C%E4%BD%8D-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/%E8%81%8C%E4%BD%8D-%E5%9C%A8-:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query-":{route:"index",basePageKey:"jobs_jserp"},"jobs/:query--:location":{route:"index",basePageKey:"jobs_jserp"},"jobs/--:location":{route:"index",basePageKey:"jobs_jserp"},"jobs2/web-developer-jobs":{route:"index",basePageKey:"jobs_jserp"}},routerConstructor:function(e){var t=v.extend(!0,{},this);for(var i in this.routes)t.routes["comm/"+i]=this.routes[i];return t}}];e["default"]=function(e){function t(e){var t=v('meta[name="pageKey"]').attr("content"),i=h.getRumObj();i.appTransitionStart(),i.setPageKey(t),r.clearTrackingModuleCache(),v("body").addClass(A),b.history.navigate(e,{trigger:!0})}P.forEach(function(t){var i=null;i=t.routerConstructor?t.routerConstructor(e.config):t;var n={};for(var o in i.routes)n[o]=i.routes[o].route;new T({controller:new i.controller(e,i.routes),appRoutes:n})});var i=y.channel(I);i.comply(E,function(e){var i=v('meta[name="pageKey"]').attr("content"),n=h.getRumObj(),o="object"==typeof e?e.url:e;if(n.appTransitionStart(),n.setPageKey(i),r.clearTrackingModuleCache(),"string"==typeof e||"object"==typeof e&&!e.alreadySanitized){var a=/([\/]\w+)+([?&]\w+[=]\w+)+/g.exec(o);a&&(o=a[0])}o?t(o):_.log("Invalid route specified to navigate to")})}}),define("app/helpers/scrollToHelper",["exports","marionette","jquery","radio","app/utils/vendorPrefix"],function(e,t,i,n,o){"use strict";function a(e){var t=l.channel("scrollTo"),i="to:element",n="to:top",a="to:bottom";t.comply(i,function(e){var t=e.to,i=r(t).offset(),n=i?i.top-(e.offset||0):e.offset||0,o=isNaN(e.time)?d:e.time;s(n,o,e.ease,e.before,e.complete)}),t.comply(n,function(e){var t=!e||isNaN(e.offset)?0:0+e.offset,i=!e||isNaN(e.time)?d:e.time;s(t,i,e.ease,e.before,e.complete)}),t.comply(a,function(e){var t=r("body").outerHeight(!0)-r(window).height();t-=!e||isNaN(e.offset)?0:e.offset;var i=!e||isNaN(e.time)?d:e.time;s(t,i,e.ease,e.before,e.complete)});var s=function(e,t,i,n,a){var s=r("html, body");"function"==typeof n&&n(e,t,i),s.one(o.scrollEvent(),function(){s.stop(),"function"==typeof a&&a(e,t,i)}),s.stop().animate({scrollTop:e},t,i,function(){"function"==typeof a&&a(e,t,i)})}}var s=function(e){return e&&e.__esModule?e["default"]:e};e.scrollToService=a,Object.defineProperty(e,"__esModule",{value:!0});var r=(s(t),s(i)),l=s(n),d=1e3}),define("app/helpers/stickyHelper",["exports","marionette","backbone","radio","jquery","underscore"],function(e,t,i,n,o,a){"use strict";function s(e){var t=l.channel("sticky"),i="action:stick",n="action:unstick";t.comply(i,function(e){var t=d(e.el),i=d("#sticky-content");i.append(t);var n={};void 0!==e.css&&c.extend(n,e.css),t.css(n),e.cssOnDefer&&c.defer(function(){t.css(e.cssOnDefer)}),e.addClass&&t.addClass(e.addClass)}),t.comply(n,function(e){var t=d(e.el),i=d(e.parent);i.append(t),t.removeAttr("style"),e.removeClass&&t.removeClass(e.removeClass)})}var r=function(e){return e&&e.__esModule?e["default"]:e};e.stickyService=s,Object.defineProperty(e,"__esModule",{value:!0});var l=(r(t),r(i),r(n)),d=r(o),c=r(a)}),define("app/helpers/artDecoHelper",["exports"],function(e){"use strict";function t(){function e(e){for(var t=0;t<e.length;t++)!function(){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&200==i.status&&(i.responseXML.firstChild.style.position="fixed",i.responseXML.firstChild.style.top="-24px",document.body.insertBefore(i.responseXML.firstChild,document.body.firstChild))},i.open("GET",play.assetUrl(e[t]),!0),i.send()}()}var t=["images/apps/detail/premium-insights.svg"];e(t),function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){var n=i(1),o=i(3);if("undefined"!=typeof window&&"undefined"!=typeof document){window.liArtdeco=window.liArtdeco||{};var a=window.play&&window.play.assetUrl||function(e){return document.getElementById(e).getAttribute("content")};n(window,document,a),o(window,document,a)}},function(e,t,i){function n(e,t,i){function n(){var t=e.localStorage.getItem(w);return t&&t!==_?(e.localStorage.removeItem(C),null):e.localStorage.getItem(C)}function u(e){var i=t.createElement("style");t.head.appendChild(i),i.textContent=e}function p(){console.warn("Failed to load font styles from CDN.")}function h(){c({url:y,success:g,error:p})}function m(){"complete"===t.readyState?h():e.addEventListener("load",h)}function g(t){try{e.localStorage.setItem(w,_),e.localStorage.setItem(C,t)}catch(i){}u(t)}function f(){var e=t.documentElement.getAttribute("lang");return!e&&t.cookie&&t.cookie.replace(r,function(t,i,n){e=i.toLowerCase()+(n?"_"+n.toUpperCase():"")}),e&&(e=e.split("_"),e={lang:e[0],region:e.length>1?e[1]:null,locale:e.join("_")}),e||s}var v,b,y=null,w="artdeco_fonts_version",_=a,C="artdeco_font_styles";if(o.userLocale=f(),b=o.userLocale.lang,!d.hasOwnProperty(b)){l.hasOwnProperty(b)?(y=i(l[b]),_+="_"+b):(y=i(l["default"]),_+="_default");try{v=n(),v?u(v):m()}catch(k){m()}}}window.liArtdeco=window.liArtdeco||{};var o=window.liArtdeco,a="20151102",s={lang:"en",region:null,locale:"en"},r=/lang=([a-z]{2})(?:(?:[-_])([a-z]{2})?)?/i,l={ru:"artdeco/static/fonts/ru64.css",th:"artdeco/static/fonts/th64.css",ar:"artdeco/static/fonts/ar64.css","default":"artdeco/static/fonts/fonts64.css"},d={ja:!0,zh:!0,ko:!0},c=i(2);n.FONT_VERSION=a,e.exports=o.initFonts=n},function(e,t){function i(){}var n="__ARTDECO_INVALID_DATA__",o={xml:function(e){var t=null;if(e)try{t=e.responseXML?e.responseXML.firstChild:(new DOMParser).parseFromString(e.responseText,"application/xml").firstChild,t.getElementsByTagName("parsererror").length&&(t=n)}catch(i){t=n}return t},json:function(e){var t=null;if(e)try{t=JSON.parse(e.responseText)}catch(i){t=n}return t},raw:function(e){return e?e.responseText:null}},a=function(e){var t=e.url||null;if(t){var a="undefined"!=typeof XDomainRequest,s=e.type||"GET",r=e.data||null,l="function"==typeof e.success?e.success:i,d="function"==typeof e.error?e.error:i,c=e.dataType||"raw",u=o.hasOwnProperty(c)?o[c]:o.raw,p=a&&!~t.indexOf(window.location.hostname)&&!!t.match(/^([a-z]+:)|^(\/\/)|^([^\/]+\.)/),h=p?"onload":"onreadystatechange",m=p?new XDomainRequest:new XMLHttpRequest;m[h]=function(){var e=null;(p||4===this.readyState)&&(p||200===this.status?(e=u(this),e===n?d(this):l(u(this),this)):d(this))},p&&(m.onerror=d,m.ontimeout=d),m.open(s,t,!0),m.send(r)}};window._isTesting&&(window._artdecoCorsAjax=a),e.exports=a},function(e,t,i){e.exports=function(e,t,n){function o(e){t.body?(r=e,e.style.cssText="position:fixed;top:-999px;left:-999px;display:none;",t.body.insertBefore(e,t.body.firstChild),t.registerElement("li-icon",{prototype:s})):setTimeout(function(){o(e)},1)}var a=(i(4),i(2)),s=Object.create(HTMLElement.prototype),r=null;s.createdCallback=function(){this.source=r,this.update()},s.attributeChangedCallback=function(e,t,i){"type"===e&&(this.svg&&this.removeChild(this.svg)&&delete this.svg,i&&this.update())},s.update=function(){var e=this.source.getElementById(this.getAttribute("type"));if(e){var i=this.svg=t.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("aria-hidden","true"),i.style.width="100%",i.style.height="100%",i.appendChild(e.cloneNode(!0)),setTimeout(function(e){e.appendChild(e.svg)},25,this)}},a({url:n("artdeco/static/images/icons.svg"),dataType:"xml",success:o})}},function(e,t){!function(e,t,i,n){function o(e,t){for(var i=0,n=e.length;n>i;i++)g(e[i],t)}function a(e){for(var t,i=0,n=e.length;n>i;i++)t=e[i],C(t,F[r(t)])}function s(e){return function(t){ie(t)&&(g(t,e),o(t.querySelectorAll(N),e))}}function r(e){var t=e.getAttribute("is"),i=e.nodeName.toUpperCase(),n=H.call(D,t?V+t.toUpperCase():j+i);return t&&n>-1&&!l(i,t)?-1:n}function l(e,t){return-1<N.indexOf(e+'[is="'+t+'"]')}function d(e){var t=e.currentTarget,i=e.attrChange,n=e.prevValue,o=e.newValue;me&&t.attributeChangedCallback&&"style"!==e.attrName&&t.attributeChangedCallback(e.attrName,i===e[T]?null:n,i===e[E]?null:o)}function c(e){var t=s(e);return function(e){f.push(t,e.target)}}function u(e){he&&(he=!1,e.currentTarget.removeEventListener(P,u)),o((e.target||t).querySelectorAll(N),e.detail===S?S:x),te&&m()}function p(e,t){var i=this;ae.call(i,e,t),v.call(i,{target:i})}function h(e,t){X(e,t),w?w.observe(e,le):(pe&&(e.setAttribute=p,e[k]=y(e),e.addEventListener(R,v)),e.addEventListener(A,d)),e.createdCallback&&me&&(e.created=!0,e.createdCallback(),e.created=!1)}function m(){for(var e,t=0,i=ne.length;i>t;t++)e=ne[t],O.contains(e)||(ne.splice(t,1),g(e,S))}function g(e,t){var i,n=r(e);n>-1&&(_(e,F[n]),n=0,t!==x||e[x]?t===S&&!e[S]&&(e[x]=!1,e[S]=!0,n=1):(e[S]=!1,e[x]=!0,n=1,te&&H.call(ne,e)<0&&ne.push(e)),n&&(i=e[t+"Callback"])&&i.call(e))}if(!(n in t)){var f,v,b,y,w,_,C,k="__"+n+(1e5*Math.random()>>0),x="attached",S="detached",M="extends",T="ADDITION",I="MODIFICATION",E="REMOVAL",A="DOMAttrModified",P="DOMContentLoaded",R="DOMSubtreeModified",j="<",V="=",L=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,B=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],D=[],F=[],N="",O=t.documentElement,H=D.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},J=i.prototype,U=J.hasOwnProperty,z=J.isPrototypeOf,q=i.defineProperty,$=i.getOwnPropertyDescriptor,K=i.getOwnPropertyNames,W=i.getPrototypeOf,G=i.setPrototypeOf,Y=!!i.__proto__,Q=i.create||function ge(e){return e?(ge.prototype=e,new ge):this},X=G||(Y?function(e,t){return e.__proto__=t,e}:K&&$?function(){function e(e,t){for(var i,n=K(t),o=0,a=n.length;a>o;o++)i=n[o],U.call(e,i)||q(e,i,$(t,i))}return function(t,i){do e(t,i);while((i=W(i))&&!z.call(i,t));return t}}():function(e,t){for(var i in t)e[i]=t[i];return e}),Z=e.MutationObserver||e.WebKitMutationObserver,ee=(e.HTMLElement||e.Element||e.Node).prototype,te=!z.call(ee,O),ie=te?function(e){return 1===e.nodeType}:function(e){return z.call(ee,e)},ne=te&&[],oe=ee.cloneNode,ae=ee.setAttribute,se=ee.removeAttribute,re=t.createElement,le=Z&&{attributes:!0,characterData:!0,attributeOldValue:!0},de=Z||function(e){pe=!1,O.removeEventListener(A,de)},ce=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,10)},ue=!1,pe=!0,he=!0,me=!0;G||Y?(_=function(e,t){z.call(t,e)||h(e,t)},C=h):(_=function(e,t){e[k]||(e[k]=i(!0),h(e,t))},C=_),te?(pe=!1,function(){var e=$(ee,"addEventListener"),t=e.value,i=function(e){var t=new CustomEvent(A,{bubbles:!0});t.attrName=e,t.prevValue=this.getAttribute(e),t.newValue=null,t[E]=t.attrChange=2,se.call(this,e),this.dispatchEvent(t)},n=function a(e,t){var i=this.hasAttribute(e),a=i&&this.getAttribute(e),n=new CustomEvent(A,{bubbles:!0});ae.call(this,e,t),n.attrName=e,n.prevValue=i?a:null,n.newValue=t,i?n[I]=n.attrChange=1:n[T]=n.attrChange=0,this.dispatchEvent(n)},o=function s(e){var s,t=e.currentTarget,i=t[k],n=e.propertyName;i.hasOwnProperty(n)&&(i=i[n],s=new CustomEvent(A,{bubbles:!0}),s.attrName=i.name,s.prevValue=i.value||null,s.newValue=i.value=t[n]||null,null==s.prevValue?s[T]=s.attrChange=0:s[I]=s.attrChange=1,t.dispatchEvent(s))};e.value=function(e,a,s){e===A&&this.attributeChangedCallback&&this.setAttribute!==n&&(this[k]={className:{name:"class",value:this.className}},this.setAttribute=n,this.removeAttribute=i,t.call(this,"propertychange",o)),t.call(this,e,a,s)},q(ee,"addEventListener",e)}()):Z||(O.addEventListener(A,de),O.setAttribute(k,1),O.removeAttribute(k),pe&&(v=function(e){var t,i,n,o=this;if(o===e.target){t=o[k],o[k]=i=y(o);for(n in i){if(!(n in t))return b(0,o,n,t[n],i[n],T);if(i[n]!==t[n])return b(1,o,n,t[n],i[n],I)}for(n in t)if(!(n in i))return b(2,o,n,t[n],i[n],E)}},b=function(e,t,i,n,o,a){var s={attrChange:e,currentTarget:t,attrName:i,prevValue:n,newValue:o};s[a]=e,d(s)},y=function(e){for(var t,i,n={},o=e.attributes,a=0,s=o.length;s>a;a++)t=o[a],i=t.name,"setAttribute"!==i&&(n[i]=t.value);return n})),t[n]=function(e,i){if(n=e.toUpperCase(),ue||(ue=!0,Z?(w=function(e,t){function i(e,t){for(var i=0,n=e.length;n>i;t(e[i++]));}return new Z(function(n){for(var o,a,s=0,r=n.length;r>s;s++)o=n[s],"childList"===o.type?(i(o.addedNodes,e),i(o.removedNodes,t)):(a=o.target,me&&a.attributeChangedCallback&&"style"!==o.attributeName&&a.attributeChangedCallback(o.attributeName,o.oldValue,a.getAttribute(o.attributeName)))})}(s(x),s(S)),w.observe(t,{childList:!0,subtree:!0})):(f=[],ce(function v(){for(;f.length;)f.shift().call(null,f.shift());ce(v)}),t.addEventListener("DOMNodeInserted",c(x)),t.addEventListener("DOMNodeRemoved",c(S))),t.addEventListener(P,u),t.addEventListener("readystatechange",u),t.createElement=function(e,i){var n=re.apply(t,arguments),o=""+e,a=H.call(D,(i?V:j)+(i||o).toUpperCase()),s=a>-1;return i&&(n.setAttribute("is",i=i.toLowerCase()),s&&(s=l(o.toUpperCase(),i))),me=!t.createElement.innerHTMLHelper,s&&C(n,F[a]),n},ee.cloneNode=function(e){var t=oe.call(this,!!e),i=r(t);return i>-1&&C(t,F[i]),e&&a(t.querySelectorAll(N)),t}),-2<H.call(D,V+n)+H.call(D,j+n))throw new Error("A "+e+" type is already registered");if(!L.test(n)||-1<H.call(B,n))throw new Error("The type "+e+" is invalid");var n,d=function(){return h?t.createElement(m,n):t.createElement(m)},p=i||J,h=U.call(p,M),m=h?i[M].toUpperCase():n,g=D.push((h?V:j)+n)-1;return N=N.concat(N.length?",":"",h?m+'[is="'+e.toLowerCase()+'"]':m),d.prototype=F[g]=U.call(p,"prototype")?p.prototype:Q(ee),o(t.querySelectorAll(N),x),d}}}(window,document,Object,"registerElement")}])}e.initArtDeco=t,Object.defineProperty(e,"__esModule",{value:!0})}),define("app/helpers/accessibilityHelper",["exports","jquery"],function(e,t){"use strict";function i(){o.fn.focusWithoutScrolling=function(){var e=window.scrollX,t=window.scrollY;return this.focus(),window.scrollTo(e,t),this}}var n=function(e){return e&&e.__esModule?e["default"]:e};e.accessibilityHelperInit=i,Object.defineProperty(e,"__esModule",{value:!0});var o=n(t)}),define("app/views/app/navigationView",["exports","module","marionette","app/behaviors/linkTo"],function(e,t,i,n){"use strict";var o=function(e){return e&&e.__esModule?e["default"]:e},a=o(i),s=o(n);t.exports=a.ItemView.extend({template:"templates/partial/app/shared/navigation",behaviors:{linkTo:{behaviorClass:s}}})}),define("app/views/app/layoutView",["exports","module","marionette"],function(e,t,i){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(i);t.exports=o.LayoutView.extend({template:!1,el:"#application-container",regions:{navigationRegion:"#navigation-container",contentRegion:"#content-outlet",modalRegion:"#modal-outlet",footerRegion:"#footer-outlet",alertRegion:"#alert-outlet",contextMenuRegion:"#context-menu-outlet",tooltipRegion:"#tooltip-outlet",loaderRegion:"#loader-outlet"},childEvents:{"app:region:reset":"_resetRegion"},_resetRegion:function(e,t){var i=this.getRegion(t);i&&i.reset()}})}),define("app/app",["exports","jquery","underscore","backbone","marionette","radio","jsConfig","app/router","app/helpers/modalHelper","app/helpers/alertHelper","app/helpers/scrollToHelper","app/helpers/contextMenuHelper","app/helpers/tooltipHelper","app/services/scrollListener","app/services/tracking","app/services/loader","app/services/rum","app/helpers/stickyHelper","app/helpers/artDecoHelper","app/helpers/accessibilityHelper","app/services/ds","app/utils/debug","app/views/app/navigationView","app/views/app/layoutView"],function(e,t,i,n,o,a,s,r,l,d,c,u,p,h,m,g,f,v,b,y,w,C,k,x){"use strict";var S=function(e){return e&&e.__esModule?e["default"]:e},M=S(t),T=(S(i),S(n)),I=S(o),E=S(a),A=S(s),P=S(r),R=S(g),j=S(w),V=S(C),L=S(k),B=S(x);V.enableInspector(),V.loggerListener();var D=E.channel("rum2Tracking"),F="rum2:init";D.complyOnce(F,function(){b.initArtDeco()}),I.Application.prototype._initChannel=function(){this.channelName=_.result(this,"channelName")||"global",this.channel=_.result(this,"channel")||E.channel(this.channelName)};var N=I.Application.extend({initialize:function(){function e(e){document.addEventListener("flushReady",function(){window.__LI_JOBS_DS__.flushModule(e)},!1)}V.log("Application:Booting the Wombat");var t=A.get("jobs").isDustBasePage,i=A.get("jobs").flushed;t&&i&&(i.forEach(e),document.addEventListener("flushReady",function(){window.__LI_JOBS_DS__.flushCompleted()},!1),D.command(F));var n=A.get("embeddedContentIds","jobs"),o=[];for(var a in n)o.push({name:n[a]});if(this.config=A.get("jobs"),j.init(o,this.config),this.layout=new B,this.router=P(this),V.isDebuggerEnabled()){var s=new L;this.layout.getRegion("navigationRegion").show(s),window.__neo__debug=V}f.initRumTracking(),E.tuneIn("app"),this.modalService=l.modalService(this.layout),this.alertService=d.alertService(this.layout),this.scrollToService=c.scrollToService(),this.contextMenuService=u.contextMenuService(this.layout),this.tooltipService=p.tooltipService(this.layout),this.scrollListener=h.scrollListenerService(this),this.trackingService=m.trackService(4,2e3),this.loaderService=R(this.layout),this.stickyService=v.stickyService(this.layout),this.accessibilityHelper=y.accessibilityHelperInit(),T.history.start({pushState:!0,hasChange:!1})}});I.Renderer.render=function(e,t){var i="";return dust.render(e,t,function(t,n){if(t){var o=new Error("Could not render dust "+e);V.log(o,"error"),window.jet.error(o)}else i=n}),i},M(function(){var e=new N;e.start()})}),function(e,t){"use strict";function i(e){return"./"===e.substring(0,2)&&(e=e.substring(1,e.length)),e.match(n)?t.jsUrl(e.replace(n,"")):t.assetUrl(e)}var n=/javascripts\//,o=e.load;e.load=function(e,t,n){return o(e,t,i(n))},t.isDustReady?e(["app/app"]):t.on(t.EVENTS.DUST_READY,function(){e(["app/app"])})}(requirejs,play),define("main",function(){});
